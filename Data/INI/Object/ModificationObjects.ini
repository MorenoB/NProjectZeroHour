;######################################################################################
;## Put the non-specified objects here, before finally moved to the correct location ##
;## Note that some of objects in this file are naturally broken and just crap!       ##
;######################################################################################

;Tomahawk Launcher on Patriot Missile
;------------------------------------------------------------------------------
Object AmericaTomahawkBattery

  ; *** ART Parameters ***
  SelectPortrait         = SATmhkPatriot_L
  ButtonImage            = SATmhkPatriot
  Draw = W3DModelDraw ModuleTag_01

    IgnoreConditionStates = SNOW NIGHT
    OkToChangeModelColor = Yes
    ProjectileBoneFeedbackEnabledSlots = PRIMARY SECONDARY
    
    DefaultConditionState
      Model              = ABTmhkPat
      Turret             = TURRET01
      TurretPitch        = TURRETEL
      WeaponLaunchBone   = PRIMARY   WeaponA01
      WeaponLaunchBone   = SECONDARY WeaponA01
      ;WeaponFireFXBone   = PRIMARY   WeaponA01
      ;WeaponFireFXBone   = SECONDARY WeaponA01
      WeaponHideShowBone = PRIMARY   MISSILE
      WeaponHideShowBone = SECONDARY MISSILE
    End
    ConditionState      = DAMAGED
      Model             = ABTmhkPat_D
    End
    ConditionState      = REALLYDAMAGED RUBBLE
      Model             = ABTmhkPat_E
    End
    
    ;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = ABTmhkPat
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = ABTmhkPat_D
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = ABTmhkPat_E
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    
    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = SOLD
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    ;**************************************************************************************************************************
       
  End

  ; ------------ construction-zone fence -----------------
  Draw = W3DModelDraw ModuleTag_02
    AnimationsRequirePower = No ; Do not pause the construction anims when low power disabled
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABPatriot_A4
      Animation       = ABPatriot_A4.ABPatriot_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABPatriot_A4N
      Animation       = ABPatriot_A4N.ABPatriot_A4N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABPatriot_A4S
      Animation       = ABPatriot_A4S.ABPatriot_A4S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABPatriot_A4SN
      Animation       = ABPatriot_A4SN.ABPatriot_A4SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = ABPatriot_A4
      Animation       = ABPatriot_A4.ABPatriot_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = ABPatriot_A4N
      Animation       = ABPatriot_A4N.ABPatriot_A4N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = ABPatriot_A4S
      Animation       = ABPatriot_A4S.ABPatriot_A4S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = ABPatriot_A4SN
      Animation       = ABPatriot_A4SN.ABPatriot_A4SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = ABPatriot_A4
      Animation       = ABPatriot_A4.ABPatriot_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = ABPatriot_A4N
      Animation       = ABPatriot_A4N.ABPatriot_A4N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = ABPatriot_A4S
      Animation       = ABPatriot_A4S.ABPatriot_A4S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = ABPatriot_A4SN
      Animation       = ABPatriot_A4SN.ABPatriot_A4SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ under-construction scaffolding -----------------
  Draw = W3DModelDraw ModuleTag_03
    AnimationsRequirePower = No ; Do not pause the construction anims when low power disabled
    MinLODRequired = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = ABPatriot_A6
      Animation       = ABPatriot_A6.ABPatriot_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
    End
    ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      Model           = ABPatriot_A6N
      Animation       = ABPatriot_A6N.ABPatriot_A6N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
    End
    ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      Model           = ABPatriot_A6S
      Animation       = ABPatriot_A6S.ABPatriot_A6S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
    End
    ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      Model           = ABPatriot_A6SN
      Animation       = ABPatriot_A6SN.ABPatriot_A6SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = ABPatriot_A6
      Animation       = ABPatriot_A6.ABPatriot_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = ABPatriot_A6N
      Animation       = ABPatriot_A6N.ABPatriot_A6N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = ABPatriot_A6S
      Animation       = ABPatriot_A6S.ABPatriot_A6S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = ABPatriot_A6SN
      Animation       = ABPatriot_A6SN.ABPatriot_A6SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = ABPatriot_A6
      Animation       = ABPatriot_A6.ABPatriot_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = ABPatriot_A6N
      Animation       = ABPatriot_A6N.ABPatriot_A6N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = ABPatriot_A6S
      Animation       = ABPatriot_A6S.ABPatriot_A6S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = ABPatriot_A6SN
      Animation       = ABPatriot_A6SN.ABPatriot_A6SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  PlacementViewAngle = -45

  ; ***DESIGN parameters ***
  DisplayName       = OBJECT:PatriotBattery
  Side              = America
  EditorSorting     = STRUCTURE
  Prerequisites
    Object = AmericaPowerPlant
    Object = AmericaStrategyCenter
  End
  BuildCost        = 1500
  BuildTime        = 25.0           ; in seconds
  EnergyProduction = -3
  WeaponSet
    Conditions          = None 
    Weapon              = PRIMARY     PatriotTmhkMissileWeapon
    Weapon              = SECONDARY   PatriotTmhkMissileAssistWeapon
    AutoChooseSources   = PRIMARY     FROM_PLAYER FROM_AI FROM_SCRIPT
    AutoChooseSources   = SECONDARY   NONE  
    PreferredAgainst    = PRIMARY     VEHICLE INFANTRY
    PreferredAgainst    = SECONDARY   VEHICLE INFANTRY
    ShareWeaponReloadTime = Yes
  End
  VisionRange    = 350.0           ; Shroud clearing distance AND targeting range
  ShroudClearingRange = 350
  ArmorSet
    Conditions      = None
    Armor           = BaseDefenseArmor
    DamageFX        = StructureDamageFXNoShake
  End
  CommandSet        = AmericaPatriotBatteryCommandSet
  ExperienceValue     = 200 200 200 200  ; Experience point value at each level

  ;Behavior = AIUpdateInterface ModuleTag_20
  ;  AutoAcquireEnemiesWhenIdle = Yes ;ATTACK_BUILDINGS
  ;  MoodAttackCheckRate        = 250
  ;End

  ; *** AUDIO Parameters ***
  VoiceSelect = PatriotBatterySelect
  SoundOnDamaged        = BuildingDamagedStateLight
  SoundOnReallyDamaged  = BuildingDestroy

  UnitSpecificSounds
    UnderConstruction     = UnderConstructionLoop
  End

  UnitSpecificSounds
  ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    TurretMoveStart = NoSound
    TurretMoveLoop = NoSound ;These aren't playing properly, will revisit (mp) TurretMoveLoopLoud
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority   = STRUCTURE
  KindOf          = PRELOAD STRUCTURE SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT IMMOBILE SCORE FS_TECHNOLOGY POWERED FS_BASE_DEFENSE IMMUNE_TO_CAPTURE CAN_SEE_THROUGH_STRUCTURE
  Body            = StructureBody ModuleTag_04
    MaxHealth     = 900.0
    InitialHealth = 900.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 1200
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
  End
 
  Behavior = StealthDetectorUpdate ModuleTag_13
    DetectionRate     = 500   ; how often to rescan for stealthed things in my sight (msec)
    DetectionRange   =  200 ;Dustin, enable this for independant balancing!
    CanDetectWhileGarrisoned  = No ;Garrisoned means being in a structure that you units can shoot out of.
    CanDetectWhileContained   = No ;Contained means being in a transport or tunnel network.
  End

  Behavior = BaseRegenerateUpdate ModuleTag_05
    ;No data
  End 
  Behavior = AIUpdateInterface ModuleTag_06
    Turret
      TurretTurnRate        = 60   ;turn rate, in degrees per sec
      TurretPitchRate       = 60
      AllowsPitch           = Yes
      FirePitch             = 70      ; Instead of aiming pitchwise at the target, it will aim here
      NaturalTurretPitch    = 45   
      GroundUnitPitch       = 40
      MinPhysicalPitch      = -20
      ControlledWeaponSlots = PRIMARY SECONDARY TERTIARY
      MinIdleScanInterval   = 750     ; in milliseconds
      MaxIdleScanInterval   = 950     ; in milliseconds
      MinIdleScanAngle      = 0       ; in degrees off the natural turret angle
      MaxIdleScanAngle      = 360     ; in degrees off the natural turret angle
    End

    AutoAcquireEnemiesWhenIdle = Yes ;ATTACK_BUILDINGS; defensive weapon
    MoodAttackCheckRate        = 250
  End

  Behavior = AssistedTargetingUpdate ModuleTag_07
    AssistingClipSize = 1    ; How many shots to make when asked by someone of my kind who has a RequestAssistRange weapon
    AssistingWeaponSlot = SECONDARY             ; And the weapon to use.  Should have huge range and no natural clip.
    LaserFromAssisted = PatriotTomahawkBinaryDataStream ; Stream to draw from the requestor to me
    LaserToTarget = PatriotTomahawkBinaryDataStream     ; Stream to draw from me to the target
  End

  Behavior = DestroyDie ModuleTag_08
    ;nothing
  End
  Behavior             = CreateObjectDie ModuleTag_09
    CreationList  = OCL_AmericanRangerDebris03
    ExemptStatus  = UNDER_CONSTRUCTION
  End
  Behavior             = FXListDie ModuleTag_10
    DeathFX       = FX_StructureTinyDeath
  End

  Behavior = FlammableUpdate ModuleTag_12
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 5       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = TransitionDamageFX ModuleTag_14
    ;-------------DESIGNED FOR TINY SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionTinySmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionTinySmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionTinyExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionTinyShockwave
  End

  Geometry            = CYLINDER
  GeometryMajorRadius = 12.0
  GeometryMinorRadius = 1.0
  GeometryHeight      = 14.0
  GeometryIsSmall     = No
  Shadow          = SHADOW_VOLUME
  BuildCompletion = PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
Object TomahawkBatteryMissile

  ; *** ART Parameters ***
  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes
    DefaultConditionState
      Model = AVTomahawk_M
    End
    ConditionState = JAMMED
      ParticleSysBone = None SparksMedium
    End
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:TomahawkMissile
  EditorSorting   = SYSTEM
  VisionRange = 0.0  
  ArmorSet
    Conditions      = None
    ;*Be careful with this type, use in conjunction with KindOf = BALLISTIC_MISSILE to restrict targeting
    ;*to select weapons, because ballistic missile armor is weak! Weapons capable of targeting must have
    ;*AntiBallisticMissile = Yes set in the Weapon.ini.
    Armor           = BallisticMissileArmor 
    DamageFX        = None
  End

  ; *** ENGINEERING Parameters ***
  KindOf = PROJECTILE BALLISTIC_MISSILE 
  Body = ActiveBody ModuleTag_02
    MaxHealth       = 200.0
    InitialHealth   = 100.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    ; A projectile is not disabled, but instead loses target and scatters
    SubdualDamageCap = 400
    SubdualDamageHealRate = 100000
    SubdualDamageHealAmount = 50
  End

; ---- begin Projectile death behaviors
  Behavior = InstantDeathBehavior DeathModuleTag_01
    DeathTypes = NONE +DETONATED
    ; we detonated normally.
    FX          = WeaponFX_TomahawkMissileDetonation
  End
  Behavior = InstantDeathBehavior DeathModuleTag_02
    DeathTypes = NONE +LASERED
    ; shot down by laser.
    FX         = FX_GenericMissileDisintegrate
    OCL        = OCL_GenericMissileDisintegrate
  End
  Behavior = InstantDeathBehavior DeathModuleTag_03
    DeathTypes = ALL -LASERED -DETONATED
    ; shot down by nonlaser.
    FX         = FX_GenericMissileDeath
  End
; ---- end Projectile death behaviors
    
  Behavior = PhysicsBehavior ModuleTag_06
    Mass = 1
  End
  Behavior = MissileAIUpdate ModuleTag_07
    TryToFollowTarget = No 
    FuelLifetime = 4000
    IgnitionDelay = 0
    IgnitionFX = FX_TomahawkIgnition
    InitialVelocity = 50                ; in dist/sec
    DistanceToTravelBeforeTurning = 80
    DistanceToTargetBeforeDiving = 100 ; When I hit this close to target, I ignore PreferredHeight. 
    ; Note, if this is too small, the missile will turn too late to hit.  And, since we have a 2D 
    ; heart, being over the target counts as "there", so we'll give up and just go straight.

    DistanceToTargetForLock = 10 ; Short lock on, as it looks better flying.  jba.
  End
  Locomotor = SET_NORMAL TomahawkMissileLocomotor

  Geometry = Cylinder ; Since collision extents can't tilt, this is a little fake
  GeometryMajorRadius = 8.0
  GeometryHeight = 4.0
  GeometryIsSmall = Yes    

  Shadow = SHADOW_DECAL
End

;------------------------------------------------------------------------------
Object PatriotTomahawkBinaryDataStream
  ; *** ART Parameters ***
  Draw = W3DLaserDraw ModuleTag_01
    Texture = EXBinaryStream32.tga
    NumBeams = 1       ;Number of overlapping cylinders that make the beam. 1 beam will just use inner data. Current max: 10
    InnerBeamWidth = 4                ;The total width of beam
    InnerColor = R:0 G:255 B:0 A:180  ;The inside color of the laser (hot)
    Tile = Yes          ;The height of the texture will determine how many times to tile the texture to fit without scaling.
    ScrollRate = -0.25                ;Scrolls the texture offset this fast -- towards(-) away(+)
    Segments = 20                 ;Number of segments -- more segments give smoother curve (but more joints) Current max: 20
    ArcHeight = 30.0                  ;The height of the arc
    SegmentOverlapRatio = 0.0000      ;This value overlaps(+) or separates(-) the segments by ratio
    TilingScalar = 0.25               ;Stretches tiling if value > 1.0, otherwise shrinks it (1.0 is natural)
 End

  KindOf = IMMOBILE
  ClientUpdate = LaserUpdate ModuleTag_02
    ;nothing
  End

  ; A patriot uses this stream as an event triggered thing, not something turned on and off with a state.
  Behavior = DeletionUpdate ModuleTag_03
    MinLifetime = 600   ; min lifetime in msec
    MaxLifetime = 600   ; max lifetime in msec
  End
End

;------------------------------------------------------------------------------
;GLA NEW Airfield, no helipad
Object GLAAirfield

  ; *** ART Parameters ***
  SelectPortrait         = SUAirfield_L
  ButtonImage            = SUAirfield
  UpgradeCameo1          = Upgrade_GLAFortifiedStructure

  Draw = W3DModelDraw ModuleTag_01

    OkToChangeModelColor = Yes

    ;ExtraPublicBone = Runway1Parking1   ;BONES ARE DEFINED IN DIFFERENT DRAW MODULE
    ;ExtraPublicBone = Runway1Parking2 
    ;ExtraPublicBone = Runway1Parking3 
    ;ExtraPublicBone = Runway1Parking4 
    ;ExtraPublicBone = Runway1Park1Han
    ;ExtraPublicBone = Runway1Park2Han
    ;ExtraPublicBone = Runway1Park3Han
    ;ExtraPublicBone = Runway1Park4Han 
    ;ExtraPublicBone = Runway1Prep1 
    ;ExtraPublicBone = Runway1Prep2 
    ;ExtraPublicBone = Runway1Prep3 
    ;ExtraPublicBone = Runway1Prep4 
    ;ExtraPublicBone = RunwayStart1 
    ;ExtraPublicBone = RunwayEnd1 


; ------------- DAY ------------------    

    DefaultConditionState
      Model         = UBArFrcCmd
      Animation     = UBArFrcCmd.UBArFrcCmd
      AnimationMode = LOOP
    End
    ConditionState = DAMAGED
      Model         = UBArFrcCmd_D
      Animation     = UBArFrcCmd_D.UBArFrcCmd_D
      AnimationMode = LOOP
    End
    ConditionState = REALLYDAMAGED RUBBLE
      Model         = UBArFrcCmd_E
      Animation     = UBArFrcCmd_E.UBArFrcCmd_E
      AnimationMode = LOOP
    End
    
; ------------- SNOW ------------------        
    ConditionState  = SNOW
      Model         = UBArFrcCmd_S
      Animation     = UBArFrcCmd_S.UBArFrcCmd_S
      AnimationMode = LOOP
    End
    ConditionState = DAMAGED SNOW
      Model         = UBArFrcCmd_D
      Animation     = UBArFrcCmd_D.UBArFrcCmd_D
      AnimationMode = LOOP
    End
    ConditionState = REALLYDAMAGED RUBBLE SNOW
      Model         = UBArFrcCmd_E
      Animation     = UBArFrcCmd_E.UBArFrcCmd_E
      AnimationMode = LOOP
    End
    
; ------------- NIGHT ------------------       

    ConditionState = NIGHT
      Model         = UBArFrcCmd_N
      Animation     = UBArFrcCmd_N.UBArFrcCmd_N
      AnimationMode = LOOP
    End
    ConditionState = DAMAGED NIGHT
      Model         = UBArFrcCmd_DN
      Animation     = UBArFrcCmd_DN.UBArFrcCmd_DN
      AnimationMode = LOOP
    End
    ConditionState = REALLYDAMAGED RUBBLE NIGHT
      Model         = UBArFrcCmd_EN
      Animation     = UBArFrcCmd_EN.UBArFrcCmd_EN
      AnimationMode = LOOP
    End
    
; ------------- NIGHT SNOW------------------       
    
    ConditionState = NIGHT SNOW
      Model         = UBArFrcCmd_NS
      Animation     = UBArFrcCmd_NS.UBArFrcCmd_NS
      AnimationMode = LOOP
    End
    ConditionState = DAMAGED NIGHT SNOW
      Model         = UBArFrcCmd_DN
      Animation     = UBArFrcCmd_DN.UBArFrcCmd_DN
      AnimationMode = LOOP
    End
    ConditionState = REALLYDAMAGED RUBBLE NIGHT SNOW
      Model         = UBArFrcCmd_EN
      Animation     = UBArFrcCmd_EN.UBArFrcCmd_EN
      AnimationMode = LOOP
    End
    
    ;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module
    ConditionState       =  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = UBArFrcCmd
      Animation          = UBArFrcCmd.UBArFrcCmd
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       =  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = UBArFrcCmd_D
      Animation          = UBArFrcCmd_D.UBArFrcCmd_D
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       =  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = UBArFrcCmd_E
      Animation          = UBArFrcCmd_E.UBArFrcCmd_E
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       =  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
      Model              = UBArFrcCmd_N
      Animation          = UBArFrcCmd_N.UBArFrcCmd_N
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       =  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
      Model              = UBArFrcCmd_DN
      Animation          = UBArFrcCmd_DN.UBArFrcCmd_DN
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       =  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
      Model              = UBArFrcCmd_EN
      Animation          = UBArFrcCmd_EN.UBArFrcCmd_EN
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       =  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model              = UBArFrcCmd_S
      Animation          = UBArFrcCmd_S.UBArFrcCmd_S
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       =  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
      Model              = UBArFrcCmd_D
      Animation          = UBArFrcCmd_D.UBArFrcCmd_D
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       =  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
      Model              = UBArFrcCmd_E
      Animation          = UBArFrcCmd_E.UBArFrcCmd_E
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       =  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
      Model              = UBArFrcCmd_NS
      Animation          = UBArFrcCmd_NS.UBArFrcCmd_NS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       =  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
      Model              = UBArFrcCmd_DN
      Animation          = UBArFrcCmd_DN.UBArFrcCmd_DN
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       =  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
      Model              = UBArFrcCmd_EN
      Animation          = UBArFrcCmd_EN.UBArFrcCmd_EN
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End

    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    ;**************************************************************************************************************************
    
    
  End
  
  
  Draw = W3DModelDraw ModuleTag_02
    DefaultConditionState
      Model           = None
    End
  End

  ; ----------------- door #1 -------------------
  Draw                = W3DModelDraw ModuleTag_03
    DefaultConditionState
      Model           = UBArFrcCmd_A2
      Animation       = UBArFrcCmd_A2.UBArFrcCmd_A2
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End
    AliasConditionState = NIGHT 
    AliasConditionState = SNOW
    AliasConditionState = SNOW NIGHT
    AliasConditionState = NIGHT DAMAGED
    AliasConditionState = SNOW DAMAGED
    AliasConditionState = SNOW NIGHT DAMAGED
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE
    AliasConditionState = SNOW NIGHT REALLYDAMAGED RUBBLE
    
    ConditionState    = DOOR_1_OPENING
      Model           = UBArFrcCmd_A2
      Animation       = UBArFrcCmd_A2.UBArFrcCmd_A2
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End   
    AliasConditionState = NIGHT DOOR_1_OPENING
    AliasConditionState = SNOW DOOR_1_OPENING
    AliasConditionState = SNOW NIGHT DOOR_1_OPENING
    AliasConditionState = NIGHT DAMAGED DOOR_1_OPENING
    AliasConditionState = SNOW DAMAGED DOOR_1_OPENING
    AliasConditionState = SNOW NIGHT DAMAGED DOOR_1_OPENING
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE DOOR_1_OPENING
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE DOOR_1_OPENING
    AliasConditionState = SNOW NIGHT REALLYDAMAGED RUBBLE DOOR_1_OPENING
    
    ConditionState    = DOOR_1_CLOSING
      Model           = UBArFrcCmd_A2
      Animation       = UBArFrcCmd_A2.UBArFrcCmd_A2
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End   
    AliasConditionState = NIGHT DOOR_1_CLOSING
    AliasConditionState = SNOW DOOR_1_CLOSING
    AliasConditionState = SNOW NIGHT DOOR_1_CLOSING
    AliasConditionState = NIGHT DAMAGED DOOR_1_CLOSING
    AliasConditionState = SNOW DAMAGED DOOR_1_CLOSING
    AliasConditionState = SNOW NIGHT DAMAGED DOOR_1_CLOSING
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE DOOR_1_CLOSING
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE DOOR_1_CLOSING
    AliasConditionState = SNOW NIGHT REALLYDAMAGED RUBBLE DOOR_1_CLOSING
    
    ConditionState    = DOOR_1_WAITING_OPEN
      Model           = UBArFrcCmd_A2
      Animation       = UBArFrcCmd_A2.UBArFrcCmd_A2
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
    End
    AliasConditionState = NIGHT DOOR_1_WAITING_OPEN
    AliasConditionState = SNOW DOOR_1_WAITING_OPEN
    AliasConditionState = SNOW NIGHT DOOR_1_WAITING_OPEN
    AliasConditionState = NIGHT DAMAGED DOOR_1_WAITING_OPEN
    AliasConditionState = SNOW DAMAGED DOOR_1_WAITING_OPEN
    AliasConditionState = SNOW NIGHT DAMAGED DOOR_1_WAITING_OPEN
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE DOOR_1_WAITING_OPEN
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE DOOR_1_WAITING_OPEN
    AliasConditionState = SNOW NIGHT REALLYDAMAGED RUBBLE DOOR_1_WAITING_OPEN
    
    ;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = UBArFrcCmd_A2
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
    
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = UBArFrcCmd_A2
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT SNOW
    
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = UBArFrcCmd_A2
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT SNOW
    
    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    ;**************************************************************************************************************************

    
  End

  ; ----------------- door #2 -------------------
  Draw                = W3DModelDraw ModuleTag_Door02
    DefaultConditionState
      Model           = UBArFrcCmd_A3
      Animation       = UBArFrcCmd_A3.UBArFrcCmd_A3
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End
    AliasConditionState = NIGHT 
    AliasConditionState = SNOW
    AliasConditionState = SNOW NIGHT
    AliasConditionState = NIGHT DAMAGED
    AliasConditionState = SNOW DAMAGED
    AliasConditionState = SNOW NIGHT DAMAGED
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE
    AliasConditionState = SNOW NIGHT REALLYDAMAGED RUBBLE
    
    ConditionState    = DOOR_2_OPENING
      Model           = UBArFrcCmd_A3
      Animation       = UBArFrcCmd_A3.UBArFrcCmd_A3
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End   
    AliasConditionState = NIGHT DOOR_2_OPENING
    AliasConditionState = SNOW DOOR_2_OPENING
    AliasConditionState = SNOW NIGHT DOOR_2_OPENING
    AliasConditionState = NIGHT DAMAGED DOOR_2_OPENING
    AliasConditionState = SNOW DAMAGED DOOR_2_OPENING
    AliasConditionState = SNOW NIGHT DAMAGED DOOR_2_OPENING
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE DOOR_2_OPENING
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE DOOR_2_OPENING
    AliasConditionState = SNOW NIGHT REALLYDAMAGED RUBBLE DOOR_2_OPENING
    
    ConditionState    = DOOR_2_CLOSING
      Model           = UBArFrcCmd_A3
      Animation       = UBArFrcCmd_A3.UBArFrcCmd_A3
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End   
    AliasConditionState = NIGHT DOOR_2_CLOSING
    AliasConditionState = SNOW DOOR_2_CLOSING
    AliasConditionState = SNOW NIGHT DOOR_2_CLOSING
    AliasConditionState = NIGHT DAMAGED DOOR_2_CLOSING
    AliasConditionState = SNOW DAMAGED DOOR_2_CLOSING
    AliasConditionState = SNOW NIGHT DAMAGED DOOR_2_CLOSING
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE DOOR_2_CLOSING
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE DOOR_2_CLOSING
    AliasConditionState = SNOW NIGHT REALLYDAMAGED RUBBLE DOOR_2_CLOSING
    
    ConditionState    = DOOR_2_WAITING_OPEN
      Model           = UBArFrcCmd_A3
      Animation       = UBArFrcCmd_A3.UBArFrcCmd_A3
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
    End
    AliasConditionState = NIGHT DOOR_2_WAITING_OPEN
    AliasConditionState = SNOW DOOR_2_WAITING_OPEN
    AliasConditionState = SNOW NIGHT DOOR_2_WAITING_OPEN
    AliasConditionState = NIGHT DAMAGED DOOR_2_WAITING_OPEN
    AliasConditionState = SNOW DAMAGED DOOR_2_WAITING_OPEN
    AliasConditionState = SNOW NIGHT DAMAGED DOOR_2_WAITING_OPEN
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE DOOR_2_WAITING_OPEN
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE DOOR_2_WAITING_OPEN
    AliasConditionState = SNOW NIGHT REALLYDAMAGED RUBBLE DOOR_2_WAITING_OPEN

;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = UBArFrcCmd_A3
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
    
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = UBArFrcCmd_A3
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT SNOW
    
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = UBArFrcCmd_A3
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT SNOW
    
    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    ;**************************************************************************************************************************

    
  End
  
  ; ----------------- door #3 -------------------
  Draw                = W3DModelDraw ModuleTag_04
    DefaultConditionState
      Model           = UBArFrcCmd_A4
      Animation       = UBArFrcCmd_A4.UBArFrcCmd_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End
    AliasConditionState = NIGHT 
    AliasConditionState = SNOW
    AliasConditionState = SNOW NIGHT
    AliasConditionState = NIGHT DAMAGED
    AliasConditionState = SNOW DAMAGED
    AliasConditionState = SNOW NIGHT DAMAGED
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE
    AliasConditionState = SNOW NIGHT REALLYDAMAGED RUBBLE 
    
    
    
    ConditionState    = DOOR_3_OPENING
      Model           = UBArFrcCmd_A4
      Animation       = UBArFrcCmd_A4.UBArFrcCmd_A4
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End   
    AliasConditionState = NIGHT DOOR_3_OPENING
    AliasConditionState = SNOW DOOR_3_OPENING
    AliasConditionState = SNOW NIGHT DOOR_3_OPENING
    AliasConditionState = NIGHT DAMAGED DOOR_3_OPENING
    AliasConditionState = SNOW DAMAGED DOOR_3_OPENING
    AliasConditionState = SNOW NIGHT DAMAGED DOOR_3_OPENING
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE DOOR_3_OPENING
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE DOOR_3_OPENING
    AliasConditionState = SNOW NIGHT REALLYDAMAGED RUBBLE DOOR_3_OPENING
    
    ConditionState    = DOOR_3_CLOSING
      Model           = UBArFrcCmd_A4
      Animation       = UBArFrcCmd_A4.UBArFrcCmd_A4
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End 
    AliasConditionState = NIGHT DOOR_3_CLOSING
    AliasConditionState = SNOW DOOR_3_CLOSING
    AliasConditionState = SNOW NIGHT DOOR_3_CLOSING
    AliasConditionState = NIGHT DAMAGED DOOR_3_CLOSING
    AliasConditionState = SNOW DAMAGED DOOR_3_CLOSING
    AliasConditionState = SNOW NIGHT DAMAGED DOOR_3_CLOSING
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE DOOR_3_CLOSING
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE DOOR_3_CLOSING
    AliasConditionState = SNOW NIGHT REALLYDAMAGED RUBBLE DOOR_3_CLOSING
      
    ConditionState    = DOOR_3_WAITING_OPEN
      Model           = UBArFrcCmd_A4
      Animation       = UBArFrcCmd_A4.UBArFrcCmd_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
    End   
    AliasConditionState = NIGHT DOOR_3_WAITING_OPEN
    AliasConditionState = SNOW DOOR_3_WAITING_OPEN
    AliasConditionState = SNOW NIGHT DOOR_3_WAITING_OPEN
    AliasConditionState = NIGHT DAMAGED DOOR_3_WAITING_OPEN
    AliasConditionState = SNOW DAMAGED DOOR_3_WAITING_OPEN
    AliasConditionState = SNOW NIGHT DAMAGED DOOR_3_WAITING_OPEN
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE DOOR_3_WAITING_OPEN
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE DOOR_3_WAITING_OPEN
    AliasConditionState = SNOW NIGHT REALLYDAMAGED RUBBLE DOOR_3_WAITING_OPEN

    ;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = UBArFrcCmd_A4
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
    
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = UBArFrcCmd_A4
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT SNOW
    
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = UBArFrcCmd_A4
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT SNOW
    
    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    ;**************************************************************************************************************************    

    
  End

  ; ----------------- door #4 -------------------
  Draw                = W3DModelDraw ModuleTag_05
    DefaultConditionState
      Model           = UBArFrcCmd_A5
      Animation       = UBArFrcCmd_A5.UBArFrcCmd_A5
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End
    AliasConditionState = NIGHT 
    AliasConditionState = SNOW
    AliasConditionState = SNOW NIGHT
    AliasConditionState = NIGHT DAMAGED
    AliasConditionState = SNOW DAMAGED
    AliasConditionState = SNOW NIGHT DAMAGED
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE
    AliasConditionState = SNOW NIGHT REALLYDAMAGED RUBBLE 
    
    ConditionState    = DOOR_4_OPENING
      Model           = UBArFrcCmd_A5
      Animation       = UBArFrcCmd_A5.UBArFrcCmd_A5
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End   
    AliasConditionState = NIGHT DOOR_4_OPENING
    AliasConditionState = SNOW DOOR_4_OPENING
    AliasConditionState = SNOW NIGHT DOOR_4_OPENING
    AliasConditionState = NIGHT DAMAGED DOOR_4_OPENING
    AliasConditionState = SNOW DAMAGED DOOR_4_OPENING
    AliasConditionState = SNOW NIGHT DAMAGED DOOR_4_OPENING
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE DOOR_4_OPENING
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE DOOR_4_OPENING
    AliasConditionState = SNOW NIGHT REALLYDAMAGED RUBBLE DOOR_4_OPENING
    
    ConditionState    = DOOR_4_CLOSING
      Model           = UBArFrcCmd_A5
      Animation       = UBArFrcCmd_A5.UBArFrcCmd_A5
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End   
    AliasConditionState = NIGHT DOOR_4_CLOSING
    AliasConditionState = SNOW DOOR_4_CLOSING
    AliasConditionState = SNOW NIGHT DOOR_4_CLOSING
    AliasConditionState = NIGHT DAMAGED DOOR_4_CLOSING
    AliasConditionState = SNOW DAMAGED DOOR_4_CLOSING
    AliasConditionState = SNOW NIGHT DAMAGED DOOR_4_CLOSING
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE DOOR_4_CLOSING
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE DOOR_4_CLOSING
    AliasConditionState = SNOW NIGHT REALLYDAMAGED RUBBLE DOOR_4_CLOSING
    
    ConditionState    = DOOR_4_WAITING_OPEN
      Model           = UBArFrcCmd_A5
      Animation       = UBArFrcCmd_A5.UBArFrcCmd_A5
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
    End 
    AliasConditionState = NIGHT DOOR_4_WAITING_OPEN
    AliasConditionState = SNOW DOOR_4_WAITING_OPEN
    AliasConditionState = SNOW NIGHT DOOR_4_WAITING_OPEN
    AliasConditionState = NIGHT DAMAGED DOOR_4_WAITING_OPEN
    AliasConditionState = SNOW DAMAGED DOOR_4_WAITING_OPEN
    AliasConditionState = SNOW NIGHT DAMAGED DOOR_4_WAITING_OPEN
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE DOOR_4_WAITING_OPEN
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE DOOR_4_WAITING_OPEN
    AliasConditionState = SNOW NIGHT REALLYDAMAGED RUBBLE DOOR_4_WAITING_OPEN
    

    ;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = UBArFrcCmd_A5
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
    
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = UBArFrcCmd_A5
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT SNOW
    
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = UBArFrcCmd_A5
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT SNOW
    
    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    ;**************************************************************************************************************************      
  End

 ; ------------ construction-zone fence -----------------
  Draw = W3DModelDraw ModuleTag_06
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = UBArFrcCmd_A7
      Animation       = UBArFrcCmd_A7.UBArFrcCmd_A7
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED 
      Model           = UBArFrcCmd_A7N
      Animation       = UBArFrcCmd_A7N.UBArFrcCmd_A7N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED 
      Model           = UBArFrcCmd_A7S
      Animation       = UBArFrcCmd_A7S.UBArFrcCmd_A7S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED 
      Model           = UBArFrcCmd_A7SN
      Animation       = UBArFrcCmd_A7SN.UBArFrcCmd_A7SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = UBArFrcCmd_A7
      Animation       = UBArFrcCmd_A7.UBArFrcCmd_A7
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = UBArFrcCmd_A7N
      Animation       = UBArFrcCmd_A7N.UBArFrcCmd_A7N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = UBArFrcCmd_A7S
      Animation       = UBArFrcCmd_A7S.UBArFrcCmd_A7S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = UBArFrcCmd_A7SN
      Animation       = UBArFrcCmd_A7SN.UBArFrcCmd_A7SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = UBArFrcCmd_A7
      Animation       = UBArFrcCmd_A7.UBArFrcCmd_A7
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = UBArFrcCmd_A7N
      Animation       = UBArFrcCmd_A7N.UBArFrcCmd_A7N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = UBArFrcCmd_A7S
      Animation       = UBArFrcCmd_A7S.UBArFrcCmd_A7S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = UBArFrcCmd_A7SN
      Animation       = UBArFrcCmd_A7SN.UBArFrcCmd_A7SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ under-construction scaffolding -----------------
  Draw = W3DModelDraw ModuleTag_07
  AnimationsRequirePower = No
    MinLODRequired = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = UBArFrcCmd_A6
      Animation       = UBArFrcCmd_A6.UBArFrcCmd_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Dust01 BuildingDust
      ParticleSysBone = Smoke01 BuildUpSmoke
      ParticleSysBone = Smoke02 BuildUpSmoke
      ParticleSysBone = Smoke03 BuildUpSmoke
      ParticleSysBone = Smoke04 BuildUpSmoke
      ParticleSysBone = Smoke05 BuildUpSmoke
      ParticleSysBone = Smoke06 BuildUpSmoke
    End
    ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      Model           = UBArFrcCmd_A6
      Animation       = UBArFrcCmd_A6.UBArFrcCmd_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = Dust01 BuildingDust
      ParticleSysBone = Smoke01 BuildUpSmoke
      ParticleSysBone = Smoke02 BuildUpSmoke
      ParticleSysBone = Smoke03 BuildUpSmoke
      ParticleSysBone = Smoke04 BuildUpSmoke
      ParticleSysBone = Smoke05 BuildUpSmoke
      ParticleSysBone = Smoke06 BuildUpSmoke
    End
    ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      Model           = UBArFrcCmd_A6S
      Animation       = UBArFrcCmd_A6S.UBArFrcCmd_A6S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = Dust01 BuildingSnowDust
      ParticleSysBone = Smoke01 BuildUpSnowSmoke
      ParticleSysBone = Smoke02 BuildUpSnowSmoke
      ParticleSysBone = Smoke03 BuildUpSnowSmoke
      ParticleSysBone = Smoke04 BuildUpSnowSmoke
      ParticleSysBone = Smoke05 BuildUpSnowSmoke
      ParticleSysBone = Smoke06 BuildUpSnowSmoke
    End
    ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      Model           = UBArFrcCmd_A6S
      Animation       = UBArFrcCmd_A6S.UBArFrcCmd_A6S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = Dust01 BuildingSnowDust
      ParticleSysBone = Smoke01 BuildUpSnowSmoke
      ParticleSysBone = Smoke02 BuildUpSnowSmoke
      ParticleSysBone = Smoke03 BuildUpSnowSmoke
      ParticleSysBone = Smoke04 BuildUpSnowSmoke
      ParticleSysBone = Smoke05 BuildUpSnowSmoke
      ParticleSysBone = Smoke06 BuildUpSnowSmoke
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
     Model            = UBArFrcCmd_A6
      Animation       = UBArFrcCmd_A6.UBArFrcCmd_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
     Model            = UBArFrcCmd_A6
      Animation       = UBArFrcCmd_A6.UBArFrcCmd_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
     Model            = UBArFrcCmd_A6S
      Animation       = UBArFrcCmd_A6S.UBArFrcCmd_A6S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
     Model            = UBArFrcCmd_A6S
      Animation       = UBArFrcCmd_A6S.UBArFrcCmd_A6S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = UBArFrcCmd_A6
      Animation       = UBArFrcCmd_A6.UBArFrcCmd_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = UBArFrcCmd_A6
      Animation       = UBArFrcCmd_A6.UBArFrcCmd_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = UBArFrcCmd_A6S
      Animation       = UBArFrcCmd_A6S.UBArFrcCmd_A6S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = UBArFrcCmd_A6S
      Animation       = UBArFrcCmd_A6S.UBArFrcCmd_A6S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; --------- GLA Airfield Bone -- by n5p29 ------------  ;ignore the separator wall coz GLA pilots are retarded
  Draw = W3DModelDraw ModuleTag_AirfieldBone
    ExtraPublicBone = Runway1Parking1 
    ExtraPublicBone = Runway1Parking2 
    ExtraPublicBone = Runway2Parking1 
    ExtraPublicBone = Runway2Parking2 
    ExtraPublicBone = Runway1Park1Han
    ExtraPublicBone = Runway1Park2Han
    ExtraPublicBone = Runway2Park1Han
    ExtraPublicBone = Runway2Park2Han 
    ExtraPublicBone = Runway1Prep1 
    ExtraPublicBone = Runway1Prep2 
    ExtraPublicBone = Runway2Prep1 
    ExtraPublicBone = Runway2Prep2 
    ExtraPublicBone = RunwayStart1 
    ExtraPublicBone = RunwayStart2 
    ExtraPublicBone = RunwayEnd1 
    ExtraPublicBone = RunwayEnd2 
    DefaultConditionState
      Model = UBArFrcCmd_b2
    End
  End

  PlacementViewAngle = -45

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Airfield
  Side             = GLA
  EditorSorting    = STRUCTURE
  Prerequisites
    Object = GLAPalace
  End
  BuildCost        = 1200
  BuildTime        = 30.0           ; in seconds
  EnergyProduction = 0
  CommandSet       = GLAAirfieldCommandSet
  VisionRange      = 200.0           ; Shroud clearing distance
  ShroudClearingRange = 200
  ArmorSet
    Conditions        = None
    Armor             = StructureArmor
    DamageFX          = StructureDamageFXNoShake
  End
  ArmorSet
    Conditions        = PLAYER_UPGRADE
    Armor             = GLAUpgradedStructureArmor
    DamageFX          = StructureDamageFXNoShake
  End
  ExperienceValue     = 150 150 150 150  ; Experience point value at each level

  ; *** AUDIO Parameters ***
  VoiceSelect = AirfieldGLASelect
  SoundOnDamaged        = BuildingDamagedStateLight
  SoundOnReallyDamaged  = BuildingDestroy

  UnitSpecificSounds
    UnderConstruction     = UnderConstructionLoop
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority   = STRUCTURE
  KindOf          = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE CAPTURABLE FS_TECHNOLOGY MP_COUNT_FOR_VICTORY FS_FACTORY FS_AIRFIELD
  Body            = StructureBody ModuleTag_09
    MaxHealth       = 1500.0
    InitialHealth   = 1500.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 1700
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
  End

  Behavior = ParkingPlaceBehavior ModuleTag_10  ;ignore the separator wall coz GLA pilots are retarded
    HealAmountPerSecond   = 10
    NumRows               = 2
    NumCols               = 2
    HasRunways            = Yes
    ApproachHeight        = 50
    ParkInHangars         = Yes
  End

  Behavior = ProductionUpdate ModuleTag_11
    NumDoorAnimations            = 4
    DoorOpeningTime              = 2000  ;in mSeconds
    DoorWaitOpenTime             = 3000  ;in mSeconds
    DoorCloseTime                = 2000  ;in mSeconds
    ConstructionCompleteDuration = 1000  ;in mSeconds
  End

  Behavior = DestroyDie ModuleTag_12
    ;nothing
  End
  Behavior             = CreateObjectDie ModuleTag_13
    CreationList  = OCL_ABPowerPlantExplode
  End
  Behavior             = FXListDie ModuleTag_14
    DeathFX       = FX_StructureMediumDeath
  End

  ;PENDING
  ;Behavior = RebuildHoleExposeDie ModuleTag_15
  ;  HoleName      = GLAHoleAirfield
  ;  HoleMaxHealth = 500.0
  ;End

  Behavior = ArmorUpgrade ModuleTag_Armor01
    TriggeredBy   = Upgrade_GLAFortifiedStructure
  End

  Behavior = FlammableUpdate ModuleTag_17
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 5       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = TransitionDamageFX ModuleTag_18
    ;-------------DESIGNED FOR MEDIUM SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionMediumExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionMediumShockwave
  End

  Geometry            = BOX
  GeometryMajorRadius = 83.0
  GeometryMinorRadius = 76.0
  GeometryHeight      = 25.0
  GeometryIsSmall     = No
  Shadow          = SHADOW_VOLUME
  BuildCompletion = PLACED_BY_PLAYER

End

;RA2YR EagleRed's SCUD Bomber strikes back! The model actually the USA Raptor in Generals Alpha
;------------------------------------------------------------------------------
Object GLAJetScudBomber

  ; *** ART Parameters ***
  SelectPortrait         = SUScudBomber_L
  ButtonImage            = SUScudBomber
  
  UpgradeCameo1 = Upgrade_GLAAPRockets
  UpgradeCameo2 = Upgrade_GLAAnthraxBeta
  UpgradeCameo3 = Upgrade_GLAJunkRepair
  ;UpgradeCameo4 = NONE
  ;UpgradeCameo5 = NONE
  
  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes

    DefaultConditionState
      Model               = AVRaptor_alt
    End
    AliasConditionState   = JETEXHAUST

    ConditionState        = JETEXHAUST JETAFTERBURNER
      ; afterburner
      ParticleSysBone     = Engine01 JetLenzflare
      ParticleSysBone     = Engine02 JetLenzflare
    End

    ConditionState        = REALLYDAMAGED
      Model               = AVRaptor_alt_D
      ; damage
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
    End
    AliasConditionState   = REALLYDAMAGED JETEXHAUST

    ConditionState        = REALLYDAMAGED JETEXHAUST JETAFTERBURNER
      Model               = AVRaptor_alt_D
      ; damage
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
      ; afterburner
      ParticleSysBone     = Engine01 JetLenzflare
      ParticleSysBone     = Engine02 JetLenzflare
    End

    ConditionState        = RUBBLE
      Model               = AVRaptor_alt_D1
    End
    AliasConditionState   = RUBBLE JETEXHAUST

    ConditionState        = RUBBLE JETEXHAUST JETAFTERBURNER
      Model               = AVRaptor_alt_D1
      ParticleSysBone     = Engine01 JetExhaust
      ParticleSysBone     = Engine02 JetExhaust
    End

  End

  Draw = W3DModelDraw ModuleTag_ExtraBones
    OkToChangeModelColor = Yes

    DefaultConditionState
      Model               = AVRaptor_alt_B
      WeaponLaunchBone    = PRIMARY WeaponA
    End
    AliasConditionState   = RUBBLE

    ConditionState        = JETEXHAUST
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End
    AliasConditionState   = JETEXHAUST JETAFTERBURNER

    ConditionState        = REALLYDAMAGED
      ; damage
      ParticleSysBone     = Smoke01 JetSmoke
    End
    
    ConditionState        = REALLYDAMAGED JETEXHAUST
      ; damage
      ParticleSysBone     = Smoke01 JetSmoke
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End
    AliasConditionState   = REALLYDAMAGED JETEXHAUST JETAFTERBURNER

    ConditionState        = RUBBLE JETEXHAUST
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End
    AliasConditionState   = RUBBLE JETEXHAUST JETAFTERBURNER

  End


  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Raptor
  EditorSorting       = VEHICLE
  Side                = GLA
  TransportSlotCount  = 0 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange         = 180.0 
  ShroudClearingRange = 400

  Prerequisites
    Object = GLAAirfield
  End
  BuildCost = 2000
  BuildTime = 20

  WeaponSet
    Conditions = None
    Weapon = PRIMARY   SCUDBomberJetMissile
  End
  ;WeaponSet
  ;  Conditions = PLAYER_UPGRADE
  ;  Weapon = PRIMARY   SCUDBomberJetMissileUpgraded
  ;End
  ArmorSet
    Conditions = None
    Armor = AirplaneArmor
    DamageFX = None
  End

  ExperienceValue         = 50 50 100 150   ;Experience point value at each level
  ExperienceRequired      = 0 100 200 400   ;Experience points needed to gain each level
  IsTrainable             = Yes             ;Can gain experience
  CrusherLevel            = 1  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel          = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet              = GenericCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect            = ErnestBomberVoiceSelect
  VoiceMove              = ErnestBomberVoiceMove
  VoiceAttack            = ErnestBomberVoiceAttack
  VoiceGuard             = ErnestBomberVoiceMove
  SoundAmbient           = RaptorAmbientLoop
  UnitSpecificSounds
    VoiceCreate          = ErnestBomberVoiceCreate
    Afterburner          = RaptorAfterburner
    VoiceLowFuel         = ErnestBomberVoiceLowFuel
    VoiceGarrison        = ErnestBomberVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority          = UNIT
  KindOf                 = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT SALVAGER
  Body                   = ActiveBody ModuleTag_02
    MaxHealth            = 120.0 ;160.0
    InitialHealth        = 120.0 ;160.0
  End

  ;PENDING!!
  ;Behavior = WeaponSetUpgrade ModuleTag_03
  ;  TriggeredBy = Upgrade_GLAAnthraxBeta
  ;End

  Behavior                          = JetSlowDeathBehavior ModuleTag_05
    FXOnGroundDeath                 = FX_JetOnGroundDeath
    OCLOnGroundDeath                = OCL_RaptorDeathFinalBlowUp
    DestructionDelay                = 10000 ;99999999; destruction will happen when we
    RollRate                        = 0.2
    RollRateDelta                   = 100% ;each frame, rollrate = rollrate * rollrateDelta
    PitchRate                       = 0.0
    FallHowFast                     = 110.0%  ;Bigger is faster (can be over 100%,it's a fraction of gravity)
    FXInitialDeath                  = FX_RaptorDeathInitial
    OCLInitialDeath                 = OCL_RaptorDeathInitial
    DelaySecondaryFromInitialDeath  = 500  ; in milliseconds
    FXSecondary                     = FX_JetDeathSecondary
    OCLSecondary                    = OCL_RaptorDeathSecondary
    FXHitGround                     = FX_JetDeathHitGround
    OCLHitGround                    = OCL_RaptorDeathHitGround
    DelayFinalBlowUpFromHitGround   = 200 ; in milliseconds
    FXFinalBlowUp                   = FX_JetDeathFinalBlowUp
    OCLFinalBlowUp                  = OCL_RaptorDeathFinalBlowUp
;   DeathLoopSound                  = MICAL NEEDS TO MAKE ME
  End

  Behavior = AutoHealBehavior ModuleTag_06
    HealingAmount = 2
    HealingDelay = 1000 ; msec
    TriggeredBy = Upgrade_GLAJunkRepair
  End
  
  Behavior               = PhysicsBehavior ModuleTag_07
    Mass                 = 500.0
  End

  Behavior                 = TransitionDamageFX ModuleTag_08
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes Psys:SmokeSmallContinuous01
    ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_MIGDamageTransition
  End

  Behavior = JetAIUpdate ModuleTag_09
    OutOfAmmoDamagePerSecond  = 10%  ; amount of damage to take per SEC (not per frame) when out of ammo
                                    ; note that it's expressed as a percent of max health, not an absolute
    TakeoffDistForMaxLift     = 0%   ; larger numbers give more lift sooner when taking off
    TakeoffPause              = 500
    MinHeight                 = 5
    ;ParkingOffset             = 3             ; scooch it a little forward so the tail doesn't hit the doors
    ReturnToBaseIdleTime      = 10000         ; if idle for this long, return to base, even if not out of ammo
  End
  Locomotor = SET_NORMAL RaptorJetLocomotor
  Locomotor = SET_TAXIING BasicJetTaxiLocomotor

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End


  Geometry                 = Box
  GeometryIsSmall          = Yes
  GeometryMajorRadius      = 14.0
  GeometryMinorRadius      = 7.0
  GeometryHeight           = 5.0
  Shadow                   = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length.

End




;GDI Mammoth Tank
;------------------------------------------------------------------------------
Object AmericaTankMammoth

  ; *** ART Parameters ***
  SelectPortrait         = SNOverlord_L
  ButtonImage            = SNOverlord
  
  UpgradeCameo1 = Upgrade_ChinaUraniumShells
  UpgradeCameo2 = Upgrade_ChinaNuclearTanks
  UpgradeCameo3 = Upgrade_ChinaOverlordPropagandaTower
  UpgradeCameo4 = Upgrade_ChinaOverlordGattlingCannon
  UpgradeCameo5 = Upgrade_ChinaOverlordBattleBunker
  
  
  Draw = W3DOverlordTankDraw ModuleTag_01
    ConditionState        = NONE
      Model               = GXMammoth_Hi
      Animation           = GXMammoth_Hi.GXMammoth_Hi
      AnimationMode       = LOOP
      Turret              = Turret01
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponRecoilBone    = PRIMARY Barrel
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      WeaponLaunchBone    = PRIMARY Muzzle
    End
    ConditionState        = REALLYDAMAGED
      Model               = NVOvrlrd_d
      Animation           = NVOvrlrd_d.NVOvrlrd_d
      AnimationMode       = LOOP
      Turret              = Turret01
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponRecoilBone    = PRIMARY Barrel
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      WeaponLaunchBone    = PRIMARY Muzzle
    End

    ConditionState        = RUBBLE
      Model               = NVOvrlrd_d
      Turret              = Turret01
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponRecoilBone    = PRIMARY Barrel
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      WeaponLaunchBone    = PRIMARY Muzzle
    End

    TrackMarks           = EXTnkTrack.tga
    OkToChangeModelColor = Yes
    TreadAnimationRate = 2.0;  amount of tread texture to move per second
    TreadDriveSpeedFraction = 0.3  ; fraction of locomotor speed below which treads stop moving.
    TreadPivotSpeedFraction = 0.6  ; fraction of locomotor speed below which we allow pivoting.
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Overlord
  Side                = Civilian  ;whatever :P
  EditorSorting       = VEHICLE
  TransportSlotCount  = 5                 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions        = None 
    Weapon            = PRIMARY OverlordTankGun
  End
  WeaponSet
    Conditions        = PLAYER_UPGRADE
    Weapon            = PRIMARY OverlordTankGun
    Weapon            = SECONDARY GattlingBuildingGunAirDummy ;Dummy weapon that allows manual targeting of air units outside range
                                                              ;gattling cannon upgrade has been made.
  End
  ArmorSet
    Conditions        = None
    Armor             = OverlordTankArmor
    DamageFX          = TankDamageFX
  End
  BuildCost       = 2000
  BuildTime       = 20.0          ;in seconds    
  VisionRange     = 150
  ShroudClearingRange = 200
  Prerequisites
    Object = ChinaWarFactory
    Object = ChinaPropagandaCenter
  End

  ExperienceValue = 200 200 400 600   ;Experience point value at each level
  ExperienceRequired = 0 400 600 1200  ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 3  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 3  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = ChinaTankOverlordDefaultCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = OverlordTankVoiceSelect
  SoundMoveStart = OverlordTankMoveStart
  SoundMoveStartDamaged = OverlordTankMoveStart
  VoiceMove = OverlordTankVoiceMove
  VoiceGuard = OverlordTankVoiceMove
  VoiceAttack = OverlordTankVoiceAttack

  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate          = OverlordTankVoiceCreate
    TurretMoveStart = NoSound
    TurretMoveLoop = OverlordTankTurretMoveLoop
    VoiceCrush = OverlordTankVoiceCrush
    VoiceEnter = OverlordTankVoiceMove
    VoiceUnload     = OverlordTankVoiceUnload
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE HUGE_VEHICLE
  
  Body = ActiveBody ModuleTag_02
    MaxHealth       = 1100.0
    InitialHealth   = 1100.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 2200
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior = TransportAIUpdate ModuleTag_03
    Turret
      TurretTurnRate = 60 ;30 ;15   ;turn rate, in degrees per sec
      ControlledWeaponSlots = PRIMARY
    End
    AutoAcquireEnemiesWhenIdle = Yes
  End

  Locomotor = SET_NORMAL OverlordLocomotor
  Locomotor = SET_NORMAL_UPGRADED NuclearOverlordLocomotor

  Behavior = FireWeaponWhenDeadBehavior ModuleTag_04
    DeathWeapon   = NuclearTankDeathWeapon
    StartsActive  = No                        ; turned on by upgrade
    TriggeredBy   = Upgrade_ChinaNuclearTanks
    ConflictsWith = Upgrade_ChinaIsotopeStability
  End
  Behavior = LocomotorSetUpgrade ModuleTag_05
    TriggeredBy = Upgrade_ChinaNuclearTanks
  End

  Behavior = OverlordContain ModuleTag_06 ; Like Transport, but when full, passes transport queries along to first passenger (redirects like tunnel) 
    Slots                   = 1
    DamagePercentToUnits    = 100%
    AllowInsideKindOf       = PORTABLE_STRUCTURE
    PassengersAllowedToFire = Yes
    PassengersInTurret      = Yes ; My passengers ride in my turret, that's where the Firepoint bones are
    ExperienceSinkForRider  = Yes ; I get the Exp for things my turret friend kills
  End

  Behavior = ObjectCreationUpgrade ModuleTag_07
    UpgradeObject = OCL_OverlordGattlingCannon
    TriggeredBy   = Upgrade_ChinaOverlordGattlingCannon
    ConflictsWith = Upgrade_ChinaOverlordPropagandaTower Upgrade_ChinaOverlordBattleBunker
  End
  Behavior = WeaponSetUpgrade ModuleTag_WeaponSetUpgrade01
    TriggeredBy = Upgrade_ChinaOverlordGattlingCannon Upgrade_ChinaOverlordBattleBunker 
    ConflictsWith = Upgrade_ChinaOverlordPropagandaTower
    RequiresAllTriggers = No
  End
  Behavior = ObjectCreationUpgrade ModuleTag_08
    UpgradeObject = OCL_OverlordPropagandaTower
    TriggeredBy   = Upgrade_ChinaOverlordPropagandaTower
    ConflictsWith = Upgrade_ChinaOverlordGattlingCannon Upgrade_ChinaOverlordBattleBunker
  End
  Behavior = ObjectCreationUpgrade ModuleTag_09
    UpgradeObject = OCL_OverlordBattleBunker
    TriggeredBy   = Upgrade_ChinaOverlordBattleBunker
    ConflictsWith = Upgrade_ChinaOverlordGattlingCannon Upgrade_ChinaOverlordPropagandaTower
  End
  Behavior = ProductionUpdate ModuleTag_10
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End
  Behavior = CommandSetUpgrade ModuleTag_11
    CommandSet = ChinaTankOverlordGattlingCannonCommandSet
    TriggeredBy   = Upgrade_ChinaOverlordGattlingCannon
    ConflictsWith = Upgrade_ChinaOverlordPropagandaTower Upgrade_ChinaOverlordBattleBunker
  End
  Behavior = CommandSetUpgrade ModuleTag_12
    CommandSet = ChinaTankOverlordPropagandaTowerCommandSet
    TriggeredBy   = Upgrade_ChinaOverlordPropagandaTower
    ConflictsWith = Upgrade_ChinaOverlordGattlingCannon Upgrade_ChinaOverlordBattleBunker
  End
  Behavior = CommandSetUpgrade ModuleTag_13
    CommandSet = ChinaTankOverlordBattleBunkerCommandSet
    TriggeredBy   = Upgrade_ChinaOverlordBattleBunker
    ConflictsWith = Upgrade_ChinaOverlordGattlingCannon Upgrade_ChinaOverlordPropagandaTower
  End

  Behavior = PhysicsBehavior ModuleTag_14
    Mass = 50.0
  End



  ; Smoke for a bit then explode
;  Behavior = SlowDeathBehavior
;;    ProbabilityModifier = 25
;    DestructionDelay = 1500
;    DestructionDelayVariance = 500
;    FX  = INITIAL   FX_OverlordSmoke
;    OCL = FINAL     OCL_ChinaTankOverlordDebris
;    FX  = FINAL     FX_GenericTankDeathExplosion
;  End
  
  ; Catch fire, and explode death
;  Behavior = SlowDeathBehavior
;;    ProbabilityModifier = 25
;    DestructionDelay = 2000
;    DestructionDelayVariance = 300
;    FX  = INITIAL  FX_CrusaderCatchFire
;    OCL = FINAL    OCL_ChinaTankOverlordDebris
;    FX  = FINAL    FX_GenericTankDeathExplosion 
;  End

  ; Just explode death
  Behavior = SlowDeathBehavior ModuleTag_16
    ProbabilityModifier = 25
    DestructionDelay = 200
    DestructionDelayVariance = 100
    OCL = FINAL    OCL_ChinaTankOverlordDebris
    FX  = FINAL    FX_OverlordExplosionOneFinal
  End
  Behavior = CreateCrateDie ModuleTag_17
    CrateData = SalvageCrateData
    ;CrateData = EliteTankCrateData
    ;CrateData = HeroicTankCrateData
  End

  Behavior = TransitionDamageFX ModuleTag_18
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_OverlordDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Geometry = BOX
  GeometryMajorRadius = 26.0
  GeometryMinorRadius = 13.0
  GeometryHeight = 15.0     
  GeometryIsSmall = No
  Shadow = SHADOW_VOLUME     
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End









;May become TechWeaponFactory
;------------------------------------------------------------------------------
Object TechWeaponFactory

  ; *** ART Parameters ***
  SelectPortrait = RepairBay_L
  ButtonImage = RepairBay

  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes
  
    ; NORMAL ***********************************************************
    ConditionState  = NONE
      Model         = ZBFactory
    End
    ConditionState  = CAPTURED
      Model         = ZBFactory
      ParticleSysBone = Smoke01 SteamVent
      ;ParticleSysBone = Smoke02 SteamVent
      ;ParticleSysBone = Smoke03 SteamVent
      ParticleSysBone = Smoke04 SteamVent
      ParticleSysBone = Smoke05 SteamVent
      ;ParticleSysBone = Smoke06 SteamVent
      ;ParticleSysBone = Smoke07 SteamVent
      ParticleSysBone = Smoke08 SteamVent
    End

    ConditionState  = DAMAGED
      Model         = ZBFactory_D
    End
    ConditionState  = DAMAGED CAPTURED
      Model         = ZBFactory_D
    End

    ConditionState  = REALLYDAMAGED
      Model         = ZBFactory_E
    End
    ConditionState  = REALLYDAMAGED CAPTURED
      Model         = ZBFactory_E
    End

    ConditionState  = RUBBLE
      Model         = ZBFactory_R
    End
    AliasConditionState = NIGHT RUBBLE

    ; NIGHT ************************************************************
    ConditionState  = NIGHT
      Model         = ZBFactory
    End
    ConditionState  = NIGHT CAPTURED
      Model         = ZBFactory
      ParticleSysBone = Smoke01 SteamVent
      ParticleSysBone = Smoke02 SteamVent
      ParticleSysBone = Smoke03 SteamVent
      ParticleSysBone = Smoke04 SteamVent
      ParticleSysBone = Smoke05 SteamVent
      ParticleSysBone = Smoke06 SteamVent
      ParticleSysBone = Smoke07 SteamVent
      ParticleSysBone = Smoke08 SteamVent
    End

    ConditionState  = DAMAGED NIGHT
      Model         = ZBFactory_D
    End
    ConditionState  = DAMAGED NIGHT CAPTURED
      Model         = ZBFactory_D
    End

    ConditionState  = REALLYDAMAGED NIGHT
      Model         = ZBFactory_E
    End
    ConditionState  = REALLYDAMAGED NIGHT CAPTURED
      Model         = ZBFactory_E
    End

    ; SNOW *************************************************************
    ConditionState  = SNOW
      Model         = ZBFactory
    End
    ConditionState  = SNOW CAPTURED
      Model         = ZBFactory
      ParticleSysBone = Smoke01 SteamVent
      ParticleSysBone = Smoke02 SteamVent
      ParticleSysBone = Smoke03 SteamVent
      ParticleSysBone = Smoke04 SteamVent
      ParticleSysBone = Smoke05 SteamVent
      ParticleSysBone = Smoke06 SteamVent
      ParticleSysBone = Smoke07 SteamVent
      ParticleSysBone = Smoke08 SteamVent
    End

    ConditionState  = DAMAGED SNOW
      Model         = ZBFactory_D
    End
    ConditionState  = DAMAGED SNOW CAPTURED
      Model         = ZBFactory_D
    End

    ConditionState  = REALLYDAMAGED SNOW
      Model         = ZBFactory_E
    End
    ConditionState  = REALLYDAMAGED SNOW CAPTURED
      Model         = ZBFactory_E
    End

    ConditionState  = SNOW RUBBLE
      Model         = ZBFactory_R
    End
    AliasConditionState = SNOW NIGHT RUBBLE

    ; SNOW NIGHT *******************************************************
    ConditionState  = SNOW NIGHT
      Model         = ZBFactory
    End
    ConditionState  = SNOW NIGHT CAPTURED
      Model         = ZBFactory
      ParticleSysBone = Smoke01 SteamVent
      ParticleSysBone = Smoke02 SteamVent
      ParticleSysBone = Smoke03 SteamVent
      ParticleSysBone = Smoke04 SteamVent
      ParticleSysBone = Smoke05 SteamVent
      ParticleSysBone = Smoke06 SteamVent
      ParticleSysBone = Smoke07 SteamVent
      ParticleSysBone = Smoke08 SteamVent
    End

    ConditionState  = SNOW NIGHT DAMAGED
      Model         = ZBFactory_D
    End
    ConditionState  = SNOW NIGHT DAMAGED CAPTURED
      Model         = ZBFactory_D
    End

    ConditionState  = SNOW NIGHT REALLYDAMAGED
      Model         = ZBFactory_E
    End
    ConditionState  = SNOW NIGHT REALLYDAMAGED CAPTURED
      Model         = ZBFactory_E
    End

  End

  ; ----------------- Flag Model -------------------
  Draw = W3DModelDraw ModuleTag_02
    OkToChangeModelColor = Yes

    ConditionState      = NONE
      Model             = ZBFactory_F
      Animation         = ZBFactory_F.ZBFactory_F
      AnimationMode     = LOOP
    End
    AliasConditionState = DAMAGED

    ConditionState      = REALLYDAMAGED
      Model             = ZBFactory_F
      Animation         = ZBFactory_F.ZBFactory_F
      AnimationMode     = LOOP
    End

    ConditionState      = RUBBLE
      Model             = None
    End
  End

  ; ----------------- the factory door -------------------
  Draw = W3DModelDraw ModuleTag_03
    DefaultConditionState
      Model             = ZBFactory_A1
      Animation         = ZBFactory_A1.ZBFactory_A1
      AnimationMode     = MANUAL
      Flags             = START_FRAME_FIRST
    End
    ConditionState      = DAMAGED
      Model             = ZBFactory_A1
      Animation         = ZBFactory_A1.ZBFactory_A1
      AnimationMode     = MANUAL
      Flags             = START_FRAME_FIRST
    End
    ConditionState      = REALLYDAMAGED
      Model             = ZBFactory_A1
      Animation         = ZBFactory_A1.ZBFactory_A1
      AnimationMode     = MANUAL
      Flags             = START_FRAME_FIRST
    End

    ConditionState      = DOOR_1_OPENING
      Model             = ZBFactory_A1
      Animation         = ZBFactory_A1.ZBFactory_A1
      AnimationMode     = ONCE
      Flags             = START_FRAME_FIRST
    End
    ConditionState      = DOOR_1_OPENING DAMAGED
      Model             = ZBFactory_A1
      Animation         = ZBFactory_A1.ZBFactory_A1
      AnimationMode     = ONCE
      Flags             = START_FRAME_FIRST
    End
    ConditionState      = DOOR_1_OPENING REALLYDAMAGED
      Model             = ZBFactory_A1
      Animation         = ZBFactory_A1.ZBFactory_A1
      AnimationMode     = ONCE
      Flags             = START_FRAME_FIRST
    End

    ConditionState      = DOOR_1_CLOSING
      Model             = ZBFactory_A1
      Animation         = ZBFactory_A1.ZBFactory_A1
      AnimationMode     = ONCE_BACKWARDS
      Flags             = START_FRAME_LAST
    End
    ConditionState      = DOOR_1_CLOSING DAMAGED
      Model             = ZBFactory_A1
      Animation         = ZBFactory_A1.ZBFactory_A1
      AnimationMode     = ONCE_BACKWARDS
      Flags             = START_FRAME_LAST
    End
    ConditionState      = DOOR_1_CLOSING REALLYDAMAGED
      Model             = ZBFactory_A1
      Animation         = ZBFactory_A1.ZBFactory_A1
      AnimationMode     = ONCE_BACKWARDS
      Flags             = START_FRAME_LAST
    End

    ConditionState      = DOOR_1_WAITING_OPEN
      Model             = ZBFactory_A1
      Animation         = ZBFactory_A1.ZBFactory_A1
      AnimationMode     = MANUAL
      Flags             = START_FRAME_LAST
    End
    ConditionState      = DOOR_1_WAITING_OPEN DAMAGED
      Model             = ZBFactory_A1
      Animation         = ZBFactory_A1.ZBFactory_A1
      AnimationMode     = MANUAL
      Flags             = START_FRAME_LAST
    End
    ConditionState      = DOOR_1_WAITING_OPEN REALLYDAMAGED
      Model             = ZBFactory_A1
      Animation         = ZBFactory_A1.ZBFactory_A1
      AnimationMode     = MANUAL
      Flags             = START_FRAME_LAST
    End

    ConditionState      = RUBBLE
      Model             = None
    End
    AliasConditionState = DOOR_1_OPENING RUBBLE
    AliasConditionState = DOOR_1_CLOSING RUBBLE
    AliasConditionState = DOOR_1_WAITING_OPEN RUBBLE

  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:TechWeaponFactory
  EditorSorting       = STRUCTURE

  EnergyProduction = 0
  ShroudClearingRange = 200

  ArmorSet
    Conditions        = None
    Armor             = StructureArmor
    DamageFX          = StructureDamageFXNoShake
  End

  ExperienceValue     = 200 200 200 200  ; Experience point value at each level
  CommandSet          = TechWarFactoryCommandSet
 
  ; *** AUDIO Parameters ***
  VoiceSelect = NuclearReactorSelect

  UnitSpecificSounds
    UnderConstruction     = UnderConstructionLoop
  End

  ; *** ENGINEERING Parameters ***
  KindOf        = STRUCTURE SELECTABLE IMMOBILE CAPTURABLE TECH_BUILDING CONSERVATIVE_BUILDING AUTO_RALLYPOINT 
  RadarPriority = STRUCTURE

  Body                = ActiveBody ModuleTag_04
    MaxHealth         = 2000.0
    InitialHealth     = 2000.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 2200
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
  End

  Behavior = FXListDie ModuleTag_08
    DeathFX = FX_BuildingDie
  End

  Behavior = FlammableUpdate ModuleTag_09
    AflameDuration     = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 5       ; taking this much damage...
    AflameDamageDelay  = 500       ; this often.
  End

  Behavior = FXListDie ModuleTag_10
    DeathFX = FX_StructureMediumDeath
  End

  Behavior = TechBuildingBehavior ModuleTag_12
  End

  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End

  Behavior = ProductionUpdate ModuleTag_14
    NumDoorAnimations            = 1
    DoorOpeningTime              = 2000  ;in mSeconds
    DoorWaitOpenTime             = 3000  ;in mSeconds
    DoorCloseTime                = 2000  ;in mSeconds
    ConstructionCompleteDuration = 1500  ;in mSeconds
  End

  Behavior = DefaultProductionExitUpdate ModuleTag_15
    UnitCreatePoint    = X: 16.0  Y: -10.0   Z: 0.0
    NaturalRallyPoint  = X: 66.0  Y: -10.0   Z: 0.0
  End

  Behavior = TransitionDamageFX ModuleTag_31
    ;-------------DESIGNED FOR SMALL SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
  End

  Geometry            = BOX
  GeometryMajorRadius = 66.0
  GeometryMinorRadius = 35.0
  GeometryHeight      = 37.0
  GeometryIsSmall     = No
  Shadow              = SHADOW_VOLUME

End






;------------------------------------------------------------------------------
Object SiegeChoppah

  ; *** ART Parameters ***
  SelectPortrait         = SACCommanche_L
  ButtonImage            = SACCommanche
  
  UpgradeCameo1 = Upgrade_ComancheRocketPods
  UpgradeCameo2 = Upgrade_AmericaCountermeasures
  UpgradeCameo3 = Upgrade_AmericaAdvancedTraining
  ;UpgradeCameo4 = NONE
  ;UpgradeCameo5 = NONE
  
  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes
    IgnoreConditionStates = RIDER1

    DefaultConditionState
      Model                           = AVComanche
      Animation                       = AVComanche.AVComanche
      AnimationMode                   = LOOP
      WeaponMuzzleFlash               = PRIMARY TurretFX
      WeaponFireFXBone                = PRIMARY Muzzle
      WeaponFireFXBone                = SECONDARY WeaponB ;Muzzle     ;weapon fx and launchbone works on hidden bones!
      WeaponLaunchBone                = SECONDARY WeaponB ;Muzzle
      ShowSubObject                   = AVComanche_Prop
    End

    ConditionState = REALLYDAMAGED
      Model                           = AVComanche_d
      Animation                       = AVComanche_d.AVComanche_d
      AnimationMode                   = LOOP
    End

    ConditionState = RUBBLE
      Model                           = AVComanche_d
      Animation                       = AVComanche_d.AVComanche_d
      AnimationMode                   = LOOP
    End

    ConditionState = RUBBLE SPECIAL_DAMAGED
      Model                           = AVComanche_d
      HideSubObject                   = AVComanche_Prop
    End

    ConditionState = RIDER2
      WeaponMuzzleFlash               = PRIMARY None
      WeaponFireFXBone                = PRIMARY None
      HideSubObject                   = AVComanche_Prop
    End

    ConditionState = REALLYDAMAGED RIDER2
      Model                           = AVComanche_d
      Animation                       = AVComanche_d.AVComanche_d
      AnimationMode                   = LOOP
      WeaponMuzzleFlash               = PRIMARY None
      WeaponFireFXBone                = PRIMARY None
      HideSubObject                   = AVComanche_Prop
    End

    ConditionState = RUBBLE RIDER2
      Model                           = AVComanche_d
      Animation                       = AVComanche_d.AVComanche_d
      AnimationMode                   = LOOP
      WeaponMuzzleFlash               = PRIMARY None
      WeaponFireFXBone                = PRIMARY None
      HideSubObject                   = AVComanche_Prop
    End

    ConditionState = RUBBLE SPECIAL_DAMAGED RIDER2
      Model                           = AVComanche_d
      HideSubObject                   = AVComanche_Prop
    End
  End

  Draw = W3DModelDraw ModuleTag_Cannon
    IgnoreConditionStates = PREATTACK_A FIRING_A BETWEEN_FIRING_SHOTS_A RELOADING_A RIDER1
    OkToChangeModelColor = Yes

    InitialRecoilSpeed = 115
    MaxRecoilDistance  = 6.0
    RecoilSettleSpeed  = 12.0
    RecoilDamping      = 0.25

    DefaultConditionState
      Model = None
    End
    AliasConditionState = DAMAGED
    AliasConditionState = REALLYDAMAGED
    AliasConditionState = RUBBLE
    AliasConditionState = USING_WEAPON_A
    AliasConditionState = DAMAGED USING_WEAPON_A
    AliasConditionState = REALLYDAMAGED USING_WEAPON_A
    AliasConditionState = RUBBLE USING_WEAPON_A

    ConditionState    = RIDER2
      ShowSubObject   = DOOR01 DOOR02
      Model           = ABFIREBASE
      Animation       = ABFIREBASE.ABFIREBASE
      AnimationMode   = MANUAL
      Flags           = MAINTAIN_FRAME_ACROSS_STATES
      HideSubObject     = MUZZLEFX01 BARBY FIREBASE BARBY3 FIREBASE3 DOOR01 DOOR02
      ShowSubObject     = AN_BLOCK HOUSECOLOR01 HOUSECOLOR013 TURRET01 TURRETEL BARREL01 HOUSECOLOR03 HOUSECOLOR033
      WeaponMuzzleFlash  = PRIMARY MuzzleFX
      WeaponRecoilBone   = PRIMARY Barrel
      Turret            = TURRET01
      TurretPitch       = TURRETEL
      WeaponLaunchBone  = PRIMARY   MUZZLE01
      WeaponFireFXBone  = PRIMARY   MUZZLEFX
    End
    AliasConditionState = RIDER2 USING_WEAPON_A

    ConditionState    = RIDER2 DAMAGED
      ShowSubObject   = DOOR01 DOOR02
      Model           = ABFIREBASE_D
      Animation       = ABFIREBASE_D.ABFIREBASE_D
      AnimationMode   = MANUAL
      Flags           = MAINTAIN_FRAME_ACROSS_STATES
      HideSubObject     = MUZZLEFX01 BARBY FIREBASE BARBY3 FIREBASE3 DOOR01 DOOR02
      ShowSubObject     = AN_BLOCK HOUSECOLOR01 HOUSECOLOR013 TURRET01 TURRETEL BARREL01 HOUSECOLOR03 HOUSECOLOR033
      WeaponMuzzleFlash  = PRIMARY MuzzleFX
      WeaponRecoilBone   = PRIMARY Barrel
      Turret            = TURRET01
      TurretPitch       = TURRETEL
      WeaponLaunchBone  = PRIMARY   MUZZLE01
      WeaponFireFXBone  = PRIMARY   MUZZLEFX
    End
    AliasConditionState = RIDER2 DAMAGED USING_WEAPON_A

    ConditionState    = RIDER2 REALLYDAMAGED
      ShowSubObject   = DOOR01 DOOR02
      Model           = ABFIREBASE_E
      Animation       = ABFIREBASE_E.ABFIREBASE_E
      AnimationMode   = MANUAL
      Flags           = MAINTAIN_FRAME_ACROSS_STATES
      HideSubObject     = MUZZLEFX01 BARBY FIREBASE BARBY3 FIREBASE3 DOOR01 DOOR02
      ShowSubObject     = AN_BLOCK HOUSECOLOR01 HOUSECOLOR013 TURRET01 TURRETEL BARREL01 HOUSECOLOR03 HOUSECOLOR033
      WeaponMuzzleFlash  = PRIMARY MuzzleFX
      WeaponRecoilBone   = PRIMARY Barrel
      Turret            = TURRET01
      TurretPitch       = TURRETEL
      WeaponLaunchBone  = PRIMARY   MUZZLE01
      WeaponFireFXBone  = PRIMARY   MUZZLEFX
    End
    AliasConditionState = RIDER2 REALLYDAMAGED USING_WEAPON_A
    AliasConditionState = RIDER2 RUBBLE
    AliasConditionState = RIDER2 RUBBLE USING_WEAPON_A

    ;DefaultConditionState
    ;  Model             = ABFIREBASE
    ;  Turret            = TURRET01
    ;  TurretPitch       = TURRETEL
    ;  HideSubObject     = BARBY FIREBASE BARBY3 FIREBASE3 DOOR01 DOOR02
    ;  ShowSubObject     = AN_BLOCK HOUSECOLOR01 HOUSECOLOR013 TURRET01 TURRETEL BARREL01 HOUSECOLOR03 HOUSECOLOR033
    ;  HideSubObject     = MUZZLEFX01 ;need to hide this after showing turret
    ;  Animation         = ABFIREBASE.ABFIREBASE
    ;  AnimationMode     = ONCE
    ;  Flags             = START_FRAME_LAST
    ;  WeaponMuzzleFlash = PRIMARY MUZZLEFX01
    ;  WeaponRecoilBone  = PRIMARY BARREL
    ;  WeaponLaunchBone  = PRIMARY MUZZLE01
    ;  WeaponFireFXBone  = PRIMARY MUZZLE01
    ;End
    ;ConditionState      = DAMAGED
    ;  Model             = ABFIREBASE_D
    ;  Animation         = ABFIREBASE_D.ABFIREBASE_D
    ;  AnimationMode     = ONCE
    ;  Flags             = START_FRAME_LAST
    ;End
    ;ConditionState      = REALLYDAMAGED
    ;  Model             = ABFIREBASE_E
    ;  Animation         = ABFIREBASE_E.ABFIREBASE_E
    ;  AnimationMode     = ONCE
    ;  Flags             = START_FRAME_LAST
    ;End
    ;AliasConditionState = RUBBLE

    ;---------*** UNPACKING STATE  -- preparing to fire ***-----------
    ;ConditionState    = UNPACKING
    ;  ShowSubObject   = DOOR01 DOOR02
    ;  Animation       = ABFIREBASE.ABFIREBASE
    ;  AnimationMode   = ONCE_BACKWARDS
    ;  Flags           = START_FRAME_LAST ;PRISTINE_BONE_POS_IN_FINAL_FRAME
    ;  AnimationSpeedFactorRange = 1.2 1.2
    ;End
    ;ConditionState    = UNPACKING DAMAGED
    ;  ShowSubObject   = DOOR01 DOOR02
    ;  Model           = ABFIREBASE_D
    ;  Animation       = ABFIREBASE_D.ABFIREBASE_D
    ;  AnimationMode   = ONCE_BACKWARDS
    ;  Flags           = START_FRAME_LAST
    ;  AnimationSpeedFactorRange = 1.2 1.2
    ;End
    ;ConditionState    = UNPACKING REALLYDAMAGED
    ;  ShowSubObject   = DOOR01 DOOR02
    ;  Model           = ABFIREBASE_E
    ;  Animation       = ABFIREBASE_E.ABFIREBASE_E
    ;  AnimationMode   = ONCE_BACKWARDS
    ;  Flags           = START_FRAME_LAST
    ;  AnimationSpeedFactorRange = 1.2 1.2
    ;End
    ;AliasConditionState = UNPACKING RUBBLE

    ;-----------*** PACKING STATE -- preparing to move ***------------
    ;ConditionState    = PACKING
    ;  ShowSubObject   = DOOR01 DOOR02
    ;  Animation       = ABFIREBASE.ABFIREBASE
    ;  AnimationMode   = ONCE
    ;  Flags           = START_FRAME_FIRST
    ;End
    ;ConditionState    = PACKING DAMAGED
    ;  ShowSubObject   = DOOR01 DOOR02
    ;  Model           = ABFIREBASE_D
    ;  Animation       = ABFIREBASE_D.ABFIREBASE_D
    ;  AnimationMode   = ONCE
    ;  Flags           = START_FRAME_FIRST
    ;End
    ;ConditionState    = PACKING REALLYDAMAGED
    ;  ShowSubObject   = DOOR01 DOOR02
    ;  Model           = ABFIREBASE_E
    ;  Animation       = ABFIREBASE_E.ABFIREBASE_E
    ;  AnimationMode   = ONCE
    ;  Flags           = START_FRAME_FIRST
    ;End
    ;AliasConditionState = PACKING RUBBLE

  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Comanche
  EditorSorting       = VEHICLE
  Side                = America
  TransportSlotCount  = 0                 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange         = 200.0 
  ShroudClearingRange = 600
  Prerequisites
    Object            = AmericaAirfield
  End

  WeaponSet
    Conditions          = None 
    Weapon              = PRIMARY     None
  End
  WeaponSet
    Conditions          = WEAPON_RIDER1
    ; -----
    Weapon              = PRIMARY     Comanche20mmCannonWeapon
    PreferredAgainst    = PRIMARY     INFANTRY
    AutoChooseSources   = PRIMARY     FROM_PLAYER FROM_SCRIPT FROM_AI
    ; -----
    Weapon              = SECONDARY   ComancheAntiTankMissileWeapon
    PreferredAgainst    = SECONDARY   VEHICLE STRUCTURE
    AutoChooseSources   = SECONDARY   FROM_PLAYER FROM_SCRIPT FROM_AI
    ; -----
    Weapon              = TERTIARY    TransformWeapon1
  End
  WeaponSet
    Conditions          = WEAPON_RIDER2
    Weapon              = PRIMARY     FireBaseHowitzerGun
    Weapon              = TERTIARY    TransformWeapon2
  End
  WeaponSet
    Conditions          = WEAPON_RIDER3
    Weapon              = PRIMARY     None
  End

  ArmorSet
    Conditions        = None
    Armor             = ComancheArmor
    DamageFX          = None
  End
  ArmorSet
    Conditions        = PLAYER_UPGRADE
    Armor             = CountermeasuresComancheArmor
    DamageFX          = None
  End
  BuildCost           = 1500
  BuildTime           = 20              ; in seconds  
  ExperienceValue     = 50 50 100 200   ; Experience point value at each level
  ExperienceRequired  = 0 100 200 400   ; Experience points needed to gain each level
  IsTrainable         = Yes             ; Can gain experience
  CommandSet          = Demo_GLAVehicleQuadCannonUpgrade

  ; *** AUDIO Parameters ***
  VoiceSelect           = ComancheVoiceSelect
  VoiceMove             = ComancheVoiceMove
  VoiceGuard            = ComancheVoiceMove
  VoiceAttack           = ComancheVoiceAttack
  SoundAmbient          = ComancheAmbientLoop
  SoundAmbientRubble    = NoSound
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate         = ComancheVoiceCreate
    SoundEject          = PilotSoundEject
    VoiceEject          = PilotVoiceEject
    Afterburner         = RaptorAfterburner
    VoiceGarrison       = ComancheVoiceMove
    TurretMoveStart     = NoSound
    TurretMoveLoop      = NoSound
    VoiceFireRocketPods = ComancheVoiceAttackRocket
  End


  ; *** ENGINEERING Parameters ***
  RadarPriority   = UNIT
  KindOf          = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT PRODUCED_AT_HELIPAD

  Behavior = WeaponSetUpgrade ModuleTag_02
    TriggeredBy = Upgrade_ComancheRocketPods
  End
  Behavior = ExperienceScalarUpgrade ModuleTag_03
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0 ;Increases experience gained by an additional 100%
  End

  Body = ActiveBody ModuleTag_04
    MaxHealth       = 220.0
    InitialHealth   = 220.0
  End

  Behavior = FXListDie ModuleTag_05
    DeathFX = FX_ComancheStartDeath
  End

  Behavior = ChinookAIUpdate ModuleTag_06
    Turret
      TurretTurnRate = 90
      TurretPitchRate = 0
      ;RecenterTime = 1
      AllowsPitch = No
      ControlledWeaponSlots = PRIMARY
    End
    AutoAcquireEnemiesWhenIdle = Yes
  End

  ;Behavior = JetAIUpdate ModuleTag_06
  ;  MinHeight                     = 5
  ;  NeedsRunway                   = No
  ;  KeepsParkingSpaceWhenAirborne = No
  ;  AutoAcquireEnemiesWhenIdle    = Yes
  ;  ; note that comanches do not return to base when idle
  ;  
  ;  ; this is a bit of a trick... normally, units cannot move-and-fire at
  ;  ; the same time. we need the comanche to be able to. so we give it
  ;  ; a "turret" (invisible) and put the two main weapons on it, but with
  ;  ; no turn rate. voila!
  ;  Turret
  ;    TurretTurnRate = 0      ; this "turret" does not turn
  ;    TurretPitchRate = 0     ; nor does it pitch
  ;    ControlledWeaponSlots = PRIMARY SECONDARY
  ;  End
  ;
  ;End
  Locomotor = SET_NORMAL    ComancheLocomotor
  Locomotor = SET_SLUGGISH  TransformersGroundLocomotor
  Locomotor = SET_TAXIING   BasicHelicopterTaxiLocomotor

  Behavior = PhysicsBehavior ModuleTag_07
    Mass = 50.0
  End
  Behavior = HelicopterSlowDeathBehavior ModuleTag_08
    DestructionDelay                = 10000 ;99999999        ; the destruction delay
    SpiralOrbitTurnRate             = 140.0           ; in degrees per second, bigger # = tighter spiral
    SpiralOrbitForwardSpeed         = 350.0           ; bigger # = larger spiral
    SpiralOrbitForwardSpeedDamping  = .9999           ; smaller #'s = slow down faster
    MaxBraking                      = 190   ; max braking we can use during death spiral (lower num = wilder spiral)    
    SoundDeathLoop                  = ComancheDamagedLoop
    MinSelfSpin                     = 100                     ; in degrees per second
    MaxSelfSpin                     = 300                     ; in degrees per second
    SelfSpinUpdateDelay             = 100             ; in milliseconds
    SelfSpinUpdateAmount            = 10             ; in degrees   
    FallHowFast                     = 12.0%  ; fraction of gravity, lower = take longer to fall
    MinBladeFlyOffDelay             = 1500            ; in milliseconds
    MaxBladeFlyOffDelay             = 1500            ; in milliseconds
    AttachParticle                  = SootySmokeTrail
    AttachParticleBone              = Propeller02
    BladeObjectName                 = ComancheBlades
    BladeBoneName                   = Propeller01    
    ; Most things that eject pilots do so immediately upon death,
    ; via use of EjectPilotDie, but Helicopters are a special case...
    ; they need to do so after their blades are ejected. 
    OCLEjectPilot                   = OCL_EjectPilotViaParachute
    FXBlade                         = FX_HelicopterBladeExplosion
    OCLBlade                        = OCL_HelicopterBladeExplosion
    FXHitGround                     = FX_HelicopterHitGround
    OCLHitGround                    = OCL_HelicopterHitGround
    FXFinalBlowUp                   = FX_GroundedHelicopterBlowUp
    OCLFinalBlowUp                  = OCL_GroundedHelicopterBlowUp
    DelayFromGroundToFinalDeath     = 1500
    FinalRubbleObject               = ComancheRubbleHull
  End

  Behavior = TransitionDamageFX ModuleTag_09
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuousDown
    ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_ComancheDamageTransition
  End

  Behavior                = ArmorUpgrade ModuleTag_Armor01
    TriggeredBy           = Upgrade_AmericaCountermeasures
  End

  Behavior                = CountermeasuresBehavior ModuleTag_10
    TriggeredBy           = Upgrade_AmericaCountermeasures
    FlareTemplateName     = CountermeasureFlare
    FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
    VolleySize            = 2     ; Number of flares launched per volley (requires bones)
    VolleyArcAngle        = 60.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
    VolleyVelocityFactor  = 2.0   ; Shoots out flares at a stronger velocity with a higher value.
    DelayBetweenVolleys   = 1000  ; Time between flare volleys
    NumberOfVolleys       = 3     ; Number of times the volleys will fire before reloading
    ReloadTime            = 4000  ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
    EvasionRate           = 30%   ; With active flares, the specified percentage will be diverted.
    ReactionLaunchLatency = 0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
    MissileDecoyDelay     = 200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior  = RiderChangeContain ModuleTag_TransformAndRollout
    Rider1  = UpgradeViaRiderSwitch_NotUpgraded RIDER1 WEAPON_RIDER1 STATUS_RIDER1 Demo_GLAVehicleQuadCannonUpgrade SET_NORMAL
    Rider2  = UpgradeViaRiderSwitch_Upgraded    RIDER2 WEAPON_RIDER2 STATUS_RIDER2 Demo_GLAVehicleQuadCannonUpgrade SET_SLUGGISH

    ScuttleDelay = 0
    ScuttleStatus = TOPPLED

    Slots = 1
    InitialPayload = UpgradeViaRiderSwitch_NotUpgraded 1

    ScatterNearbyOnExit = No
    HealthRegen%PerSec = 0
    DamagePercentToUnits = 100%
    BurnedDeathToUnits = No
    AllowInsideKindOf = INFANTRY
    ExitDelay = 250
    NumberOfExitPaths = 1
    GoAggressiveOnExit = Yes
    DoorOpenTime = 0
  End

  Behavior = ObjectCreationUpgrade ModuleTag_LaserUpgrade02
    UpgradeObject = OCL_Upgraded
    TriggeredBy   = Lazr_Upgrade_AmericaLaserCapasitors
  End

  Geometry = BOX
  GeometryMajorRadius = 20.0
  GeometryMinorRadius = 3.0
  GeometryHeight = 25.0     
  GeometryIsSmall = No
  Shadow = SHADOW_VOLUME    
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length

End












;Starlifter added for lulz
;------------------------------------------------------------------------------
Object AmericaVehicleStarlifter

  ; *** ART Parameters ***
  SelectPortrait         = SAChinook_L  ;SAStarlifter_L
  ButtonImage            = SAChinook    ;SAStarlifter

  UpgradeCameo1 = Upgrade_AmericaCountermeasures
  ;UpgradeCameo2 = NONE
  ;UpgradeCameo3 = NONE
  ;UpgradeCameo4 = NONE
  ;UpgradeCameo5 = NONE

 Draw = W3DModelDraw ModuleTag_01 ; Main body
    OkToChangeModelColor = Yes
    ParticlesAttachedToAnimatedBones = Yes

    DefaultConditionState
      Model = AVStar_L
      Animation = AVStar_L.AVStar_L
      AnimationMode = LOOP
      TransitionKey = TRANS_Vertical
    End
    ConditionState = DAMAGED
      Model = AVStar_LD
      Animation = AVStar_LD.AVStar_LD
      AnimationMode = LOOP
      TransitionKey = TRANS_VerticalDamaged
    End
    ConditionState = REALLYDAMAGED
      Model = AVStar_LD
      Animation = AVStar_LD.AVStar_LD
      AnimationMode = LOOP
      TransitionKey = TRANS_VerticalDamaged
    End
    ConditionState = RUBBLE
      Model = AVStar_LD
      Animation = AVStar_LD.AVStar_LD
      AnimationMode = LOOP
      TransitionKey = TRANS_VerticalDamaged
    End

    ConditionState = MOVING
      Model = AVStar
      Animation = AVStar.AVStar
      AnimationMode = LOOP
      TransitionKey = TRANS_Horizontal
      ParticleSysBone = WingTip01 JetBlackTrailThin
      ParticleSysBone = WingTip02 JetBlackTrailThin
      ParticleSysBone = WingTip03 JetBlackTrailThin
      ParticleSysBone = WingTip04 JetBlackTrailThin
      ParticleSysBone = WingTip01 JetContrailThin
      ParticleSysBone = WingTip02 JetContrailThin
      ParticleSysBone = WingTip03 JetContrailThin
      ParticleSysBone = WingTip04 JetContrailThin
    End
    ConditionState = MOVING DAMAGED
      Model = AVStar_D
      Animation = AVStar_D.AVStar_D
      AnimationMode = LOOP
      TransitionKey = TRANS_HorizontalDamaged
      ParticleSysBone = WingTip01 JetBlackTrailThin
      ParticleSysBone = WingTip02 JetBlackTrailThin
      ParticleSysBone = WingTip03 JetBlackTrailThin
      ParticleSysBone = WingTip04 JetBlackTrailThin
      ParticleSysBone = WingTip01 JetContrailThin
      ParticleSysBone = WingTip02 JetContrailThin
      ParticleSysBone = WingTip03 JetContrailThin
      ParticleSysBone = WingTip04 JetContrailThin
    End
    ConditionState = MOVING REALLYDAMAGED
      Model = AVStar_D
      Animation = AVStar_D.AVStar_D
      AnimationMode = LOOP
      TransitionKey = TRANS_HorizontalDamaged
      ParticleSysBone = WingTip01 JetBlackTrailThin
      ParticleSysBone = WingTip02 JetBlackTrailThin
      ParticleSysBone = WingTip03 JetBlackTrailThin
      ParticleSysBone = WingTip04 JetBlackTrailThin
      ParticleSysBone = WingTip01 JetContrailThin
      ParticleSysBone = WingTip02 JetContrailThin
      ParticleSysBone = WingTip03 JetContrailThin
      ParticleSysBone = WingTip04 JetContrailThin
    End
    ConditionState = MOVING RUBBLE
      Model = AVStar_D
      Animation = AVStar_D.AVStar_D
      AnimationMode = LOOP
      TransitionKey = TRANS_HorizontalDamaged
      ParticleSysBone = WingTip01 JetBlackTrailThin
      ParticleSysBone = WingTip02 JetBlackTrailThin
      ParticleSysBone = WingTip03 JetBlackTrailThin
      ParticleSysBone = WingTip04 JetBlackTrailThin
      ParticleSysBone = WingTip01 JetContrailThin
      ParticleSysBone = WingTip02 JetContrailThin
      ParticleSysBone = WingTip03 JetContrailThin
      ParticleSysBone = WingTip04 JetContrailThin
    End
    
    TransitionState = TRANS_Vertical TRANS_Horizontal
      Model = AVStar_LF
      Animation = AVStar_LF.AVStar_LF
      AnimationMode = ONCE
    End
    TransitionState = TRANS_VerticalDamaged TRANS_HorizontalDamaged
      Model = AVStar_LFD
      Animation = AVStar_LFD.AVStar_LFD
      AnimationMode = ONCE
    End
    
    TransitionState = TRANS_Horizontal TRANS_Vertical
      Model = AVStar_FL
      Animation = AVStar_FL.AVStar_FL
      AnimationMode = ONCE
    End
    TransitionState = TRANS_HorizontalDamaged TRANS_VerticalDamaged
      Model = AVStar_FLD
      Animation = AVStar_FLD.AVStar_FLD
      AnimationMode = ONCE
    End
    
    ConditionState = RUBBLE SPECIAL_DAMAGED
      Model = AVStar_LD
    End
  End

  Draw = W3DModelDraw ModuleTag_02
    DefaultConditionState
      Model           = AVStarD_A
      Animation       = AVStarD_A.AVStarD_A
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End
    ConditionState = DOOR_1_OPENING
      Model           = AVStarD_A
      Animation       = AVStarD_A.AVStarD_A
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End
    ConditionState = DOOR_1_CLOSING
      Model           = AVStarD_A
      Animation       = AVStarD_A.AVStarD_A
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Starlifter
  EditorSorting       = VEHICLE
  Side                = America
  TransportSlotCount  = 0                 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange         = 200.0 
  ShroudClearingRange = 600
  BuildCost           = 1000
  BuildTime           = 20.0          ;in seconds
  Prerequisites
    Object = AmericaAirfield
  End
  ExperienceValue     = 50 50 50 50 ;Experience point value at each level
  IsTrainable         = No  
  CommandSet          = AmphibiousTransportCommandSet  ;the only command bar with 12 transport slot
  ArmorSet
    Conditions      = None
    Armor           = ChinookArmor
    DamageFX        = None
  End
  ArmorSet
    Conditions      = PLAYER_UPGRADE
    Armor           = CountermeasuresChinookArmor
    DamageFX        = None
  End

  ; *** AUDIO Parameters ***
  VoiceSelect     = ChinookVoiceSelect
  VoiceMove       = ChinookVoiceMove
  VoiceAttack     = ChinookVoiceAttack
  SoundAmbient    = ChinookAmbientLoop
  SoundAmbientRubble    = NoSound
  SoundEnter      = HumveeEnter
  SoundExit       = HumveeExit
  UnitSpecificSounds
    VoiceCreate         = ChinookVoiceCreate
    VoiceUnload         = ChinookVoiceUnload
    VoiceGarrison       = ChinookVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority   = UNIT
  ; note that, although Chinooks aren't produced at helipads, we want to set this KINDOF so that they can land at
  ; (well, "near" actually) an Airfield to get healed...
  ; also note that we should NOT set CAN_ATTACK for chinooks. they can't attack. so there.
  KindOf          = PRELOAD CAN_CAST_REFLECTIONS SELECTABLE VEHICLE HUGE_VEHICLE TRANSPORT AIRCRAFT SCORE PRODUCED_AT_HELIPAD 

  Body = ActiveBody ModuleTag_03
    MaxHealth       = 400.0
    InitialHealth   = 400.0
  End

  Behavior = FXListDie ModuleTag_05
    DeathFX = FX_HelicopterStartDeath
  End

  Behavior                       = TransitionDamageFX ModuleTag_06
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuousDown
    ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_ComancheDamageTransition
  End

  Behavior = ChinookAIUpdate ModuleTag_07
     AutoAcquireEnemiesWhenIdle = No
     RotorWashParticleSystem = HelixRotorWashRing
  End

  Locomotor = SET_NORMAL    ChinookLocomotor
  Locomotor = SET_TAXIING   BasicHelicopterTaxiLocomotor

  Behavior = HelixContain ModuleTag_08
    Slots                 = 12
    DamagePercentToUnits  = 100%
    AllowInsideKindOf     = INFANTRY VEHICLE
    ForbidInsideKindOf    = AIRCRAFT 
    ExitDelay             = 100
    NumberOfExitPaths     = 1
  End
  Behavior = PhysicsBehavior ModuleTag_09
    Mass = 50.0
  End
  Behavior = HelicopterSlowDeathBehavior ModuleTag_10
    DestructionDelay                = 10000 ;99999999        ; the destruction delay
    SpiralOrbitTurnRate             = 80.0           ; in degrees per second, bigger # = tighter spiral
    SpiralOrbitForwardSpeed         = 110.0           ; bigger # = larger spiral
    SpiralOrbitForwardSpeedDamping  = .9999           ; smaller #'s = slow down faster
    MaxBraking                      = 210   ; max braking we can use during death spiral (lower num = wilder spiral)    
    ;SoundDeathLoop                  = ComancheDamagedLoop
    MinSelfSpin                     = 40                     ; in degrees per second
    MaxSelfSpin                     = 120                     ; in degrees per second
    SelfSpinUpdateDelay             = 300                     ; in milliseconds
    SelfSpinUpdateAmount            = 5                      ; in degrees   
    FallHowFast                     = 8.0%                   ; fraction of gravity, lower = take longer to fall
    MinBladeFlyOffDelay             = 1000                    ; in milliseconds
    MaxBladeFlyOffDelay             = 1000                    ; in milliseconds
    AttachParticle                  = SootySmokeTrail
    AttachParticleBone              = Propeller02
    ;BladeObjectName                 = ComancheBlades
    ;BladeBoneName                   = Propeller01    
    FXBlade                         = FX_HelicopterBladeExplosion
    ;OCLBlade                        = OCL_HelicopterBladeExplosion
    FXHitGround                     = FX_HelicopterHitGround
    ;OCLHitGround                    = OCL_HelicopterHitGround
    FXFinalBlowUp                   = FX_HelixHelicopterBlowUpBig
    ;OCLFinalBlowUp                  = OCL_GroundedHelicopterBlowUp
    DelayFromGroundToFinalDeath     = 30
    FinalRubbleObject               = StarLifterRubbleHull
  End

  Behavior                = ArmorUpgrade ModuleTag_Armor01
    TriggeredBy           = Upgrade_AmericaCountermeasures
  End

  Behavior                = CountermeasuresBehavior ModuleTag_Armor02
    TriggeredBy           = Upgrade_AmericaCountermeasures
    FlareTemplateName     = CountermeasureFlare
    FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
    VolleySize            = 4     ; Number of flares launched per volley (requires bones)
    VolleyArcAngle        = 90.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
    VolleyVelocityFactor  = 2.0   ; Shoots out flares at a stronger velocity with a higher value.
    DelayBetweenVolleys   = 1000  ; Time between flare volleys
    NumberOfVolleys       = 5     ; Number of times the volleys will fire before reloading
    ReloadTime            = 0     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
    EvasionRate           = 30%   ; With active flares, the specified percentage will be diverted.
    ReactionLaunchLatency = 0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
    MissileDecoyDelay     = 200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Geometry              = BOX
  GeometryMajorRadius   = 35.0
  GeometryMinorRadius   = 14.0
  GeometryHeight        = 16.0     
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME    
  ShadowSizeX           = 89  ; minimum elevation angle above horizon. Used to limit shadow length

End











;Ye Olde SCUD Storm a.k.a Rocket Storm.
;------------------------------------------------------------------------------
Object GLARocketStorm

  ; *** ART Parameters ***
  SelectPortrait         = SURocketStorm_L
  ButtonImage            = SURocketStorm

  UpgradeCameo1 = Upgrade_GLAFortifiedStructure

  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes
    ProjectileBoneFeedbackEnabledSlots = SECONDARY ; WeaponLaunchBone will be shown/hidden, not just used for firing offset

    ; day
    ConditionState = NONE ; lying around
      Model         = UBRcktStorm_A1
      Animation     = UBRcktStorm_A1.UBRcktStorm_A1
      AnimationMode = MANUAL
      Flags         = START_FRAME_FIRST
      WeaponLaunchBone = SECONDARY Scud
      ShowSubObject = Scud01 Scud02 Scud03 Scud04 Scud05 Scud06 Scud07 Scud08 Scud09
      TransitionKey = Trans_READY
    End

    TransitionState = Trans_READY Trans_ATTACKING ; from lying around to straight up
      Model         = UBRcktStorm_A1
      Animation     = UBRcktStorm_A1.UBRcktStorm_A1
      AnimationMode = ONCE
      Flags         = MAINTAIN_FRAME_ACROSS_STATES
      WeaponLaunchBone = SECONDARY Scud
    End

    ConditionState = ATTACKING  ; Projectile feedback code selectively hiding missiles as they shoot
      Model         = UBRcktStorm_A2
      Animation     = UBRcktStorm_A2.UBRcktStorm_A2
      AnimationMode = MANUAL
      Flags         = START_FRAME_FIRST
      WeaponLaunchBone = SECONDARY Scud
      TransitionKey = Trans_ATTACKING
    End
    AliasConditionState = ATTACKING FIRING_B
    AliasConditionState = ATTACKING BETWEEN_FIRING_SHOTS_B

    TransitionState = Trans_ATTACKING Trans_READY ; empty arms going underground, coming up with presents for bad people
      Model         = UBRcktStorm_A3
      Animation     = UBRcktStorm_A3.UBRcktStorm_A3
      AnimationMode = ONCE
      Flags         = MAINTAIN_FRAME_ACROSS_STATES2
    End

    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = UBRcktStorm
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = UBRcktStorm_D
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = UBRcktStorm_E
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End

    ;-------------------------------------------------------------------------------------------------------------------------
    ; day
    ConditionState = DAMAGED
      Model         = UBRcktStorm_DA1
      Animation     = UBRcktStorm_DA1.UBRcktStorm_DA1
      AnimationMode = MANUAL
      Flags         = START_FRAME_FIRST
      WeaponLaunchBone = SECONDARY Scud
      ShowSubObject = Scud01 Scud02 Scud03 Scud04 Scud05 Scud06 Scud07 Scud08 Scud09
      TransitionKey = Trans_READY_DAMAGED
    End

    TransitionState = Trans_READY_DAMAGED Trans_ATTACKING_DAMAGED
      Model         = UBRcktStorm_DA1
      Animation     = UBRcktStorm_DA1.UBRcktStorm_DA1
      AnimationMode = ONCE
      Flags         = MAINTAIN_FRAME_ACROSS_STATES
      WeaponLaunchBone = SECONDARY Scud
    End

    ConditionState = ATTACKING DAMAGED
      Model         = UBRcktStorm_DA2
      Animation     = UBRcktStorm_DA2.UBRcktStorm_DA2
      AnimationMode = MANUAL
      Flags         = START_FRAME_FIRST
      WeaponLaunchBone = SECONDARY Scud
      TransitionKey = Trans_ATTACKING_DAMAGED
    End
    AliasConditionState = ATTACKING FIRING_B DAMAGED
    AliasConditionState = ATTACKING BETWEEN_FIRING_SHOTS_B DAMAGED

    TransitionState = Trans_ATTACKING_DAMAGED Trans_READY_DAMAGED
      Model         = UBRcktStorm_DA3
      Animation     = UBRcktStorm_DA3.UBRcktStorm_DA3
      AnimationMode = ONCE
      Flags         = MAINTAIN_FRAME_ACROSS_STATES2
    End

    ;-------------------------------------------------------------------------------------------------------------------------
    ConditionState = REALLYDAMAGED RUBBLE
      Model         = UBRcktStorm_EA1
      Animation     = UBRcktStorm_EA1.UBRcktStorm_EA1
      AnimationMode = MANUAL
      Flags         = START_FRAME_FIRST
      WeaponLaunchBone = SECONDARY Scud
      ShowSubObject = Scud01 Scud02 Scud03 Scud04 Scud05 Scud06 Scud07 Scud08 Scud09
      TransitionKey = Trans_READY_REALLYDAMAGED
    End

    TransitionState = Trans_READY_REALLYDAMAGED Trans_ATTACKING_REALLYDAMAGED
      Model         = UBRcktStorm_EA1
      Animation     = UBRcktStorm_EA1.UBRcktStorm_EA1
      AnimationMode = ONCE
      Flags         = MAINTAIN_FRAME_ACROSS_STATES
      WeaponLaunchBone = SECONDARY Scud
    End

    ConditionState = ATTACKING REALLYDAMAGED RUBBLE
      Model         = UBRcktStorm_EA2
      Animation     = UBRcktStorm_EA2.UBRcktStorm_EA2
      AnimationMode = MANUAL
      Flags         = START_FRAME_FIRST
      WeaponLaunchBone = SECONDARY Scud
      TransitionKey = Trans_ATTACKING_REALLYDAMAGED
    End
    AliasConditionState = ATTACKING FIRING_B REALLYDAMAGED RUBBLE
    AliasConditionState = ATTACKING BETWEEN_FIRING_SHOTS_B REALLYDAMAGED RUBBLE

    TransitionState = Trans_ATTACKING_REALLYDAMAGED Trans_READY_REALLYDAMAGED
      Model         = UBRcktStorm_EA3
      Animation     = UBRcktStorm_EA3.UBRcktStorm_EA3
      AnimationMode = ONCE
      Flags         = MAINTAIN_FRAME_ACROSS_STATES2
    End
    
        ;-------------------------------------------------------------------------------------------------------------------------
        ;  SNOW
    ConditionState =  SNOW ; from underground to lying around
      Model         = UBRcktStorm_A1S
      Animation     = UBRcktStorm_A1S.UBRcktStorm_A1S
      AnimationMode = MANUAL
      Flags         = START_FRAME_FIRST
      WeaponLaunchBone = SECONDARY Scud
      ShowSubObject = Scud01 Scud02 Scud03 Scud04 Scud05 Scud06 Scud07 Scud08 Scud09
      TransitionKey = Trans_READY_SNOW
    End

    TransitionState = Trans_READY_SNOW Trans_ATTACKING_SNOW
      Model         = UBRcktStorm_A1S
      Animation     = UBRcktStorm_A1S.UBRcktStorm_A1S
      AnimationMode = ONCE
      Flags         = MAINTAIN_FRAME_ACROSS_STATES
      WeaponLaunchBone = SECONDARY Scud
    End

    ConditionState = ATTACKING  SNOW ; Projectile feedback code selectively hiding missiles as they shoot
      Model         = UBRcktStorm_A2S
      Animation     = UBRcktStorm_A2S.UBRcktStorm_A2S
      AnimationMode = MANUAL
      Flags         = START_FRAME_FIRST
      WeaponLaunchBone = SECONDARY Scud
      TransitionKey = Trans_ATTACKING_SNOW
    End
    AliasConditionState = ATTACKING FIRING_B  SNOW
    AliasConditionState = ATTACKING BETWEEN_FIRING_SHOTS_B SNOW

    TransitionState = Trans_ATTACKING_SNOW Trans_READY_SNOW ; empty arms going underground
      Model         = UBRcktStorm_A3S
      Animation     = UBRcktStorm_A3S.UBRcktStorm_A3S
      AnimationMode = ONCE
      Flags         = MAINTAIN_FRAME_ACROSS_STATES2
    End

    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED  SNOW
      Model              = UBRcktStorm_S
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED  SNOW
      Model              = UBRcktStorm_D
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED  SNOW
      Model              = UBRcktStorm_E
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End

    ;-------------------------------------------------------------------------------------------------------------------------
    ConditionState = DAMAGED SNOW
      Model         = UBRcktStorm_DA1
      Animation     = UBRcktStorm_DA1.UBRcktStorm_DA1
      AnimationMode = MANUAL
      Flags         = START_FRAME_FIRST
      WeaponLaunchBone = SECONDARY Scud
      ShowSubObject = Scud01 Scud02 Scud03 Scud04 Scud05 Scud06 Scud07 Scud08 Scud09
      TransitionKey = Trans_READY_DAMAGED_SNOW
    End

    TransitionState = Trans_READY_DAMAGED_SNOW Trans_ATTACKING_DAMAGED_SNOW
      Model         = UBRcktStorm_DA1
      Animation     = UBRcktStorm_DA1.UBRcktStorm_DA1
      AnimationMode = ONCE
      Flags         = MAINTAIN_FRAME_ACROSS_STATES
      WeaponLaunchBone = SECONDARY Scud
    End

    ConditionState = ATTACKING DAMAGED SNOW
      Model         = UBRcktStorm_DA2
      Animation     = UBRcktStorm_DA2.UBRcktStorm_DA2
      AnimationMode = MANUAL
      Flags         = START_FRAME_FIRST
      WeaponLaunchBone = SECONDARY Scud
      TransitionKey = Trans_ATTACKING_DAMAGED_SNOW
    End
    AliasConditionState = ATTACKING FIRING_B DAMAGED SNOW
    AliasConditionState = ATTACKING BETWEEN_FIRING_SHOTS_B DAMAGED SNOW

    TransitionState = Trans_ATTACKING_DAMAGED_SNOW Trans_READY_DAMAGED_SNOW
      Model         = UBRcktStorm_DA3
      Animation     = UBRcktStorm_DA3.UBRcktStorm_DA3
      AnimationMode = ONCE
      Flags         = MAINTAIN_FRAME_ACROSS_STATES2
    End
       
    ;-------------------------------------------------------------------------------------------------------------------------
    
    ConditionState = REALLYDAMAGED RUBBLE SNOW
      Model         = UBRcktStorm_EA1
      Animation     = UBRcktStorm_EA1.UBRcktStorm_EA1
      AnimationMode = MANUAL
      Flags         = START_FRAME_FIRST
      WeaponLaunchBone = SECONDARY Scud
      ShowSubObject = Scud01 Scud02 Scud03 Scud04 Scud05 Scud06 Scud07 Scud08 Scud09
      TransitionKey = Trans_READY_REALLYDAMAGED_SNOW
    End

    TransitionState = Trans_READY_REALLYDAMAGED_SNOW Trans_ATTACKING_REALLYDAMAGED_SNOW
      Model         = UBRcktStorm_EA1
      Animation     = UBRcktStorm_EA1.UBRcktStorm_EA1
      AnimationMode = ONCE
      Flags         = MAINTAIN_FRAME_ACROSS_STATES
      WeaponLaunchBone = SECONDARY Scud
    End

    ConditionState = ATTACKING REALLYDAMAGED RUBBLE SNOW
      Model         = UBRcktStorm_EA2
      Animation     = UBRcktStorm_EA2.UBRcktStorm_EA2
      AnimationMode = MANUAL
      Flags         = START_FRAME_FIRST
      WeaponLaunchBone = SECONDARY Scud
      TransitionKey = Trans_ATTACKING_REALLYDAMAGED_SNOW
    End
    AliasConditionState = ATTACKING FIRING_B REALLYDAMAGED RUBBLE SNOW
    AliasConditionState = ATTACKING BETWEEN_FIRING_SHOTS_B REALLYDAMAGED RUBBLE SNOW

    TransitionState = Trans_ATTACKING_REALLYDAMAGED_SNOW Trans_READY_REALLYDAMAGED_SNOW
      Model         = UBRcktStorm_EA3
      Animation     = UBRcktStorm_EA3.UBRcktStorm_EA3
      AnimationMode = ONCE
      Flags         = MAINTAIN_FRAME_ACROSS_STATES2
    End
    
    ;-------------------------------------------------------------------------------------------------------------------------
        ; NIGHT
    ConditionState = NIGHT ; from underground to lying around
      Model         = UBRcktStorm_A1
      Animation     = UBRcktStorm_A1.UBRcktStorm_A1
      AnimationMode = MANUAL
      Flags         = START_FRAME_FIRST
      WeaponLaunchBone = SECONDARY Scud
      ShowSubObject = Scud01 Scud02 Scud03 Scud04 Scud05 Scud06 Scud07 Scud08 Scud09
      TransitionKey = Trans_READY_NIGHT
    End

    TransitionState = Trans_READY_NIGHT Trans_ATTACKING_NIGHT
      Model         = UBRcktStorm_A1
      Animation     = UBRcktStorm_A1.UBRcktStorm_A1
      AnimationMode = ONCE
      Flags         = MAINTAIN_FRAME_ACROSS_STATES
      WeaponLaunchBone = SECONDARY Scud
    End

    ConditionState = ATTACKING NIGHT  ; Projectile feedback code selectively hiding missiles as they shoot
      Model         = UBRcktStorm_A2
      Animation     = UBRcktStorm_A2.UBRcktStorm_A2
      AnimationMode = MANUAL
      Flags         = START_FRAME_FIRST
      WeaponLaunchBone = SECONDARY Scud
      TransitionKey = Trans_ATTACKING_NIGHT
    End
    AliasConditionState = ATTACKING FIRING_B NIGHT
    AliasConditionState = ATTACKING BETWEEN_FIRING_SHOTS_B NIGHT

    TransitionState = Trans_ATTACKING_NIGHT Trans_READY_NIGHT ; empty arms going underground
      Model         = UBRcktStorm_A3
      Animation     = UBRcktStorm_A3.UBRcktStorm_A3
      AnimationMode = ONCE
      Flags         = MAINTAIN_FRAME_ACROSS_STATES2
    End

    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
      Model              = UBRcktStorm
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT
      Model              = UBRcktStorm_D
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT
      Model              = UBRcktStorm_E
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End

    ;-------------------------------------------------------------------------------------------------------------------------
    ConditionState = DAMAGED NIGHT
      Model         = UBRcktStorm_DA1
      Animation     = UBRcktStorm_DA1.UBRcktStorm_DA1
      AnimationMode = MANUAL
      Flags         = START_FRAME_FIRST
      WeaponLaunchBone = SECONDARY Scud
      ShowSubObject = Scud01 Scud02 Scud03 Scud04 Scud05 Scud06 Scud07 Scud08 Scud09
      TransitionKey = Trans_READY_DAMAGED_NIGHT
    End

    TransitionState = Trans_READY_DAMAGED_NIGHT Trans_ATTACKING_DAMAGED_NIGHT
      Model         = UBRcktStorm_DA1
      Animation     = UBRcktStorm_DA1.UBRcktStorm_DA1
      AnimationMode = ONCE
      Flags         = MAINTAIN_FRAME_ACROSS_STATES
      WeaponLaunchBone = SECONDARY Scud
    End

    ConditionState = ATTACKING DAMAGED NIGHT
      Model         = UBRcktStorm_DA2
      Animation     = UBRcktStorm_DA2.UBRcktStorm_DA2
      AnimationMode = MANUAL
      Flags         = START_FRAME_FIRST
      WeaponLaunchBone = SECONDARY Scud
      TransitionKey = Trans_ATTACKING_DAMAGED_NIGHT
    End
    AliasConditionState = ATTACKING FIRING_B NIGHT DAMAGED
    AliasConditionState = ATTACKING BETWEEN_FIRING_SHOTS_B NIGHT DAMAGED

    TransitionState = Trans_ATTACKING_DAMAGED_NIGHT Trans_READY_DAMAGED_NIGHT
      Model         = UBRcktStorm_DA3
      Animation     = UBRcktStorm_DA3.UBRcktStorm_DA3
      AnimationMode = ONCE
      Flags         = MAINTAIN_FRAME_ACROSS_STATES2
    End
       
    ;-------------------------------------------------------------------------------------------------------------------------
    
    ConditionState = REALLYDAMAGED RUBBLE NIGHT
      Model         = UBRcktStorm_EA1
      Animation     = UBRcktStorm_EA1.UBRcktStorm_EA1
      AnimationMode = MANUAL
      Flags         = START_FRAME_FIRST
      WeaponLaunchBone = SECONDARY Scud
      ShowSubObject = Scud01 Scud02 Scud03 Scud04 Scud05 Scud06 Scud07 Scud08 Scud09
      TransitionKey = Trans_READY_REALLYDAMAGED_NIGHT
    End

    TransitionState = Trans_READY_REALLYDAMAGED_NIGHT Trans_ATTACKING_REALLYDAMAGED_NIGHT
      Model         = UBRcktStorm_EA1
      Animation     = UBRcktStorm_EA1.UBRcktStorm_EA1
      AnimationMode = ONCE
      Flags         = MAINTAIN_FRAME_ACROSS_STATES
      WeaponLaunchBone = SECONDARY Scud
    End

    ConditionState = ATTACKING REALLYDAMAGED RUBBLE NIGHT
      Model         = UBRcktStorm_EA2
      Animation     = UBRcktStorm_EA2.UBRcktStorm_EA2
      AnimationMode = MANUAL
      Flags         = START_FRAME_FIRST
      WeaponLaunchBone = SECONDARY Scud
      TransitionKey = Trans_ATTACKING_REALLYDAMAGED_NIGHT
    End
    AliasConditionState = ATTACKING FIRING_B NIGHT REALLYDAMAGED RUBBLE
    AliasConditionState = ATTACKING BETWEEN_FIRING_SHOTS_B NIGHT REALLYDAMAGED RUBBLE

    TransitionState = Trans_ATTACKING_REALLYDAMAGED_NIGHT Trans_READY_REALLYDAMAGED_NIGHT
      Model         = UBRcktStorm_EA3
      Animation     = UBRcktStorm_EA3.UBRcktStorm_EA3
      AnimationMode = ONCE
      Flags         = MAINTAIN_FRAME_ACROSS_STATES2
    End
    
        ;-------------------------------------------------------------------------------------------------------------------------
        ; NIGHT SNOW
    ConditionState = NIGHT SNOW ; from underground to lying around
      Model         = UBRcktStorm_A1S
      Animation     = UBRcktStorm_A1S.UBRcktStorm_A1S
      AnimationMode = MANUAL
      Flags         = START_FRAME_FIRST
      WeaponLaunchBone = SECONDARY Scud
      ShowSubObject = Scud01 Scud02 Scud03 Scud04 Scud05 Scud06 Scud07 Scud08 Scud09
      TransitionKey = Trans_READY_NIGHTSNOW
    End

    TransitionState = Trans_READY_NIGHTSNOW Trans_ATTACKING_NIGHTSNOW
      Model         = UBRcktStorm_A1S
      Animation     = UBRcktStorm_A1S.UBRcktStorm_A1S
      AnimationMode = ONCE
      Flags         = MAINTAIN_FRAME_ACROSS_STATES
      WeaponLaunchBone = SECONDARY Scud
    End

    ConditionState = ATTACKING NIGHT SNOW ; Projectile feedback code selectively hiding missiles as they shoot
      Model         = UBRcktStorm_A2S
      Animation     = UBRcktStorm_A2S.UBRcktStorm_A2S
      AnimationMode = MANUAL
      Flags         = START_FRAME_FIRST
      WeaponLaunchBone = SECONDARY Scud
      TransitionKey = Trans_ATTACKING_NIGHTSNOW
    End
    AliasConditionState = ATTACKING FIRING_B NIGHT SNOW
    AliasConditionState = ATTACKING BETWEEN_FIRING_SHOTS_B NIGHT SNOW

    TransitionState = Trans_ATTACKING_NIGHTSNOW Trans_READY_NIGHTSNOW ; empty arms going underground
      Model         = UBRcktStorm_A3S
      Animation     = UBRcktStorm_A3S.UBRcktStorm_A3S
      AnimationMode = ONCE
      Flags         = MAINTAIN_FRAME_ACROSS_STATES2
    End

    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
      Model              = UBRcktStorm_S
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT SNOW
      Model              = UBRcktStorm_D
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT SNOW
      Model              = UBRcktStorm_E
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End

    ;-------------------------------------------------------------------------------------------------------------------------
    ConditionState = DAMAGED NIGHT SNOW
      Model         = UBRcktStorm_DA1
      Animation     = UBRcktStorm_DA1.UBRcktStorm_DA1
      AnimationMode = MANUAL
      Flags         = START_FRAME_FIRST
      WeaponLaunchBone = SECONDARY Scud
      ShowSubObject = Scud01 Scud02 Scud03 Scud04 Scud05 Scud06 Scud07 Scud08 Scud09
      TransitionKey = Trans_READY_DAMAGED_NIGHTSNOW
    End

    TransitionState = Trans_READY_DAMAGED_NIGHTSNOW Trans_ATTACKING_DAMAGED_NIGHTSNOW
      Model         = UBRcktStorm_DA1
      Animation     = UBRcktStorm_DA1.UBRcktStorm_DA1
      AnimationMode = ONCE
      Flags         = MAINTAIN_FRAME_ACROSS_STATES
      WeaponLaunchBone = SECONDARY Scud
    End

    ConditionState = ATTACKING DAMAGED NIGHT SNOW
      Model         = UBRcktStorm_DA2
      Animation     = UBRcktStorm_DA2.UBRcktStorm_DA2
      AnimationMode = MANUAL
      Flags         = START_FRAME_FIRST
      WeaponLaunchBone = SECONDARY Scud
      TransitionKey = Trans_ATTACKING_DAMAGED_NIGHTSNOW
    End
    AliasConditionState = ATTACKING FIRING_B NIGHT DAMAGED SNOW
    AliasConditionState = ATTACKING BETWEEN_FIRING_SHOTS_B NIGHT DAMAGED SNOW

    TransitionState = Trans_ATTACKING_DAMAGED_NIGHTSNOW Trans_READY_DAMAGED_NIGHTSNOW
      Model         = UBRcktStorm_DA3
      Animation     = UBRcktStorm_DA3.UBRcktStorm_DA3
      AnimationMode = ONCE
      Flags         = MAINTAIN_FRAME_ACROSS_STATES2
    End
       
    ;-------------------------------------------------------------------------------------------------------------------------
    
    ConditionState = REALLYDAMAGED RUBBLE NIGHT SNOW
      Model         = UBRcktStorm_EA1
      Animation     = UBRcktStorm_EA1.UBRcktStorm_EA1
      AnimationMode = MANUAL
      Flags         = START_FRAME_FIRST
      WeaponLaunchBone = SECONDARY Scud
      ShowSubObject = Scud01 Scud02 Scud03 Scud04 Scud05 Scud06 Scud07 Scud08 Scud09
      TransitionKey = Trans_READY_REALLYDAMAGED_NIGHTSNOW
    End

    TransitionState = Trans_READY_REALLYDAMAGED_NIGHTSNOW Trans_ATTACKING_REALLYDAMAGED_NIGHTSNOW
      Model         = UBRcktStorm_EA1
      Animation     = UBRcktStorm_EA1.UBRcktStorm_EA1
      AnimationMode = ONCE
      Flags         = MAINTAIN_FRAME_ACROSS_STATES
      WeaponLaunchBone = SECONDARY Scud
    End

    ConditionState = ATTACKING REALLYDAMAGED RUBBLE NIGHT SNOW
      Model         = UBRcktStorm_EA2
      Animation     = UBRcktStorm_EA2.UBRcktStorm_EA2
      AnimationMode = MANUAL
      Flags         = START_FRAME_FIRST
      WeaponLaunchBone = SECONDARY Scud
      TransitionKey = Trans_ATTACKING_REALLYDAMAGED_NIGHTSNOW
    End
    AliasConditionState = ATTACKING FIRING_B NIGHT REALLYDAMAGED RUBBLE SNOW
    AliasConditionState = ATTACKING BETWEEN_FIRING_SHOTS_B NIGHT REALLYDAMAGED RUBBLE SNOW

    TransitionState = Trans_ATTACKING_REALLYDAMAGED_NIGHTSNOW Trans_READY_REALLYDAMAGED_NIGHTSNOW
      Model         = UBRcktStorm_EA3
      Animation     = UBRcktStorm_EA3.UBRcktStorm_EA3
      AnimationMode = ONCE
      Flags         = MAINTAIN_FRAME_ACROSS_STATES2
    End
    
    
    ConditionState       = SOLD
      Model              = NONE
    End    
    AliasConditionState       = SOLD DAMAGED
    AliasConditionState       = SOLD REALLYDAMAGED
    AliasConditionState       = SOLD SNOW
    AliasConditionState       = SOLD DAMAGED SNOW
    AliasConditionState       = SOLD REALLYDAMAGED SNOW
    AliasConditionState       = SOLD NIGHT
    AliasConditionState       = SOLD DAMAGED NIGHT
    AliasConditionState       = SOLD REALLYDAMAGED NIGHT
    AliasConditionState       = SOLD NIGHT SNOW
    AliasConditionState       = SOLD DAMAGED NIGHT SNOW
    AliasConditionState       = SOLD REALLYDAMAGED NIGHT SNOW
  End

    ;-------------------------------------------------------------------------------------------------------------------------
    ;-------------------------------------------------------------------------------------------------------------------------
    ;-------------------------------------------------------------------------------------------------------------------------
   
  ; ------------ construction-zone fence -----------------
  Draw = W3DModelDraw ModuleTag_05
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = UBRcktStorm_AB
      Animation       = UBRcktStorm_AB.UBRcktStorm_AB
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = UBRcktStorm_ABN
      Animation       = UBRcktStorm_ABN.UBRcktStorm_ABN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = UBRcktStorm_ABS
      Animation       = UBRcktStorm_ABS.UBRcktStorm_ABS
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = UBRcktStorm_ABT
      Animation       = UBRcktStorm_ABT.UBRcktStorm_ABT
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = UBRcktStorm_AB
      Animation       = UBRcktStorm_AB.UBRcktStorm_AB
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = UBRcktStorm_ABN
      Animation       = UBRcktStorm_ABN.UBRcktStorm_ABN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = UBRcktStorm_ABS
      Animation       = UBRcktStorm_ABS.UBRcktStorm_ABS
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = UBRcktStorm_ABT
      Animation       = UBRcktStorm_ABT.UBRcktStorm_ABT
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = UBRcktStorm_AB
      Animation       = UBRcktStorm_AB.UBRcktStorm_AB
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = UBRcktStorm_ABN
      Animation       = UBRcktStorm_ABN.UBRcktStorm_ABN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = UBRcktStorm_ABS
      Animation       = UBRcktStorm_ABS.UBRcktStorm_ABS
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = UBRcktStorm_ABT
      Animation       = UBRcktStorm_ABT.UBRcktStorm_ABT
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ under-construction scaffolding -----------------
  Draw = W3DModelDraw ModuleTag_06
  AnimationsRequirePower = No
    MinLODRequired = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = UBRcktStorm_AC
      Animation       = UBRcktStorm_AC.UBRcktStorm_AC
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Dust01 BuildingDust
      ParticleSysBone = Smoke01 BuildUpSmoke
      ParticleSysBone = Smoke02 BuildUpSmoke
      ParticleSysBone = Smoke03 BuildUpSmoke
      ParticleSysBone = Smoke04 BuildUpSmoke
    End
    ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      Model           = UBRcktStorm_AC
      Animation       = UBRcktStorm_AC.UBRcktStorm_AC
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = Dust01 BuildingDust
      ParticleSysBone = Smoke01 BuildUpSmoke
      ParticleSysBone = Smoke02 BuildUpSmoke
      ParticleSysBone = Smoke03 BuildUpSmoke
      ParticleSysBone = Smoke04 BuildUpSmoke
    End    
    ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      Model           = UBRcktStorm_ACS
      Animation       = UBRcktStorm_ACS.UBRcktStorm_ACS
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = Dust01 BuildingSnowDust
      ParticleSysBone = Smoke01 BuildUpSnowSmoke
      ParticleSysBone = Smoke02 BuildUpSnowSmoke
      ParticleSysBone = Smoke03 BuildUpSnowSmoke
      ParticleSysBone = Smoke04 BuildUpSnowSmoke
    End   
    ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      Model           = UBRcktStorm_ACS
      Animation       = UBRcktStorm_ACS.UBRcktStorm_ACS
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = Dust01 BuildingNightSnowDust
      ParticleSysBone = Smoke01 BuildUpNightSnowSmoke
      ParticleSysBone = Smoke02 BuildUpNightSnowSmoke
      ParticleSysBone = Smoke03 BuildUpNightSnowSmoke
      ParticleSysBone = Smoke04 BuildUpNightSnowSmoke
    End 
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = UBRcktStorm_AC
      Animation       = UBRcktStorm_AC.UBRcktStorm_AC
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = UBRcktStorm_AC
      Animation       = UBRcktStorm_AC.UBRcktStorm_AC
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = UBRcktStorm_ACS
      Animation       = UBRcktStorm_ACS.UBRcktStorm_ACS
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = UBRcktStorm_ACS
      Animation       = UBRcktStorm_ACS.UBRcktStorm_ACS
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = UBRcktStorm_AC
      Animation       = UBRcktStorm_AC.UBRcktStorm_AC
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = UBRcktStorm_AC
      Animation       = UBRcktStorm_AC.UBRcktStorm_AC
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = UBRcktStorm_ACS
      Animation       = UBRcktStorm_ACS.UBRcktStorm_ACS
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = UBRcktStorm_ACS
      Animation       = UBRcktStorm_ACS.UBRcktStorm_ACS
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ mod's fortified upgrade -----------------
  Draw = W3DModelDraw ModuleTag_Fort01
    OkToChangeModelColor = Yes

    DefaultConditionState
      Model              = NONE
    End
    AliasConditionState  = DAMAGED
    AliasConditionState  = REALLYDAMAGED RUBBLE
    AliasConditionState  = SNOW
    AliasConditionState  = SNOW DAMAGED
    AliasConditionState  = SNOW REALLYDAMAGED RUBBLE

    ConditionState      = GARRISONED
      Model             = UBRcktStormF
    End
    ConditionState      = GARRISONED DAMAGED
      Model             = UBRcktStormF_D
    End
    ConditionState      = GARRISONED REALLYDAMAGED RUBBLE
      Model             = UBRcktStormF_E
    End
    
    
    ConditionState      = GARRISONED SNOW
      Model             = UBRcktStormF_S
    End
    ConditionState      = GARRISONED DAMAGED SNOW
      Model             = UBRcktStormF_SD
    End
    ConditionState      = GARRISONED REALLYDAMAGED RUBBLE SNOW
      Model             = UBRcktStormF_SE
    End

    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = GARRISONED AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = GARRISONED AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = GARRISONED AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = GARRISONED AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = GARRISONED AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = GARRISONED SOLD 
    AliasConditionState  = GARRISONED SOLD DAMAGED
    AliasConditionState  = GARRISONED SOLD REALLYDAMAGED
    AliasConditionState  = GARRISONED SOLD SNOW
    AliasConditionState  = GARRISONED SOLD SNOW DAMAGED
    AliasConditionState  = GARRISONED SOLD SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
  End
  
  ; ------------ building's night lights -----------------
  Draw = W3DModelDraw ModuleTag_NightLights01
    OkToChangeModelColor = Yes

  ;Day
    ConditionState = NONE
      Model = None
    End
    ConditionState = DAMAGED
      Model = None
    End
    ConditionState = REALLYDAMAGED RUBBLE
      Model = None
    End   

    ;Night
    ConditionState = NIGHT
      Model = UBRcktStorm_N
    End  
    ConditionState = NIGHT DAMAGED
      Model = UBRcktStorm_ND
    End  
    ConditionState = NIGHT REALLYDAMAGED RUBBLE
      Model = UBRcktStorm_NE
    End  

    ;Snow
    ConditionState = SNOW
      Model = None
    End
    ConditionState = DAMAGED SNOW
      Model = None
    End
    ConditionState = REALLYDAMAGED RUBBLE SNOW
      Model = None
    End

    ;Snow Night
    ConditionState = SNOW NIGHT
      Model = UBRcktStorm_N
    End
    ConditionState = DAMAGED SNOW NIGHT
      Model = UBRcktStorm_ND
    End
    ConditionState = REALLYDAMAGED RUBBLE SNOW NIGHT
      Model = UBRcktStorm_NE
    End

    ConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model = None
      Flags = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model = None
      Flags = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model = None
      Flags = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
      Model = UBRcktStorm_N
      Flags = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
      Model = UBRcktStorm_ND
      Flags = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
      Model = UBRcktStorm_NE
      Flags = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model = None
      Flags = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
      Model = None
      Flags = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
      Model = None
      Flags = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
      Model = UBRcktStorm_N
      Flags = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
      Model = UBRcktStorm_ND
      Flags = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
      Model = UBRcktStorm_NE
      Flags = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    
    
    ConditionState = AWAITING_CONSTRUCTION 
      Model = NONE
    End

    AliasConditionState = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState = AWAITING_CONSTRUCTION SNOW
    AliasConditionState = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState = SOLD 
    AliasConditionState = SOLD DAMAGED
    AliasConditionState = SOLD REALLYDAMAGED
    AliasConditionState = SOLD NIGHT
    AliasConditionState = SOLD NIGHT DAMAGED
    AliasConditionState = SOLD NIGHT REALLYDAMAGED
    AliasConditionState = SOLD SNOW
    AliasConditionState = SOLD SNOW DAMAGED
    AliasConditionState = SOLD SNOW REALLYDAMAGED
    AliasConditionState = SOLD NIGHT SNOW
    AliasConditionState = SOLD NIGHT SNOW DAMAGED
    AliasConditionState = SOLD NIGHT SNOW REALLYDAMAGED
  End

  PlacementViewAngle = -135

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:ScudStorm
  Side = GLA
  EditorSorting    = STRUCTURE
  Prerequisites
    Object = GLAPalace
  End
  BuildCost        = 5000
  BuildTime        = 60.0           ; in seconds
  EnergyProduction = 0
  CommandSet       = GLAScudStormCommandSet
  VisionRange     = 200.0           ; Shroud clearing distance
  ShroudClearingRange = 200
  ShroudRevealToAllRange = 60  ; Reveals shroud to all players at a specific amount which can be different. 
                               ; Using same value? Then use KINDOF_REVEAL_TO_ALL instead!
  WeaponSet
    Conditions        = None 
    Weapon            = PRIMARY   DummyWeapon
    AutoChooseSources = PRIMARY   NONE
    Weapon            = SECONDARY Demo_ScudStormWeapon
    AutoChooseSources = SECONDARY NONE
  End
  ArmorSet
    Conditions      = None
    Armor           = StructureArmorTough
    DamageFX        = StructureDamageFXNoShake
  End
  ArmorSet
    Conditions      = PLAYER_UPGRADE
    Armor           = GLAUpgradedStructureArmorTough
    DamageFX        = StructureDamageFXNoShake
  End
  ExperienceValue     = 400 400 400 400  ; Experience point value at each level
  MaxSimultaneousOfType = DeterminedBySuperweaponRestriction ; Normally unlimited, but can be selected by players in multiplayer games
  MaxSimultaneousLinkKey = RocketStorm

  ; *** AUDIO Parameters ***
  VoiceSelect = ScudStormSelect
  SoundOnDamaged        = BuildingDamagedStateLight
  SoundOnReallyDamaged  = BuildingDestroy

  UnitSpecificSounds
    UnderConstruction     = UnderConstructionLoop
  End

  UnitSpecificSounds
  ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    TurretMoveStart = NoSound
    TurretMoveLoop = NoSound ;These aren't playing properly, will revisit (mp) TurretMoveLoopLoud
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority   = STRUCTURE
  KindOf          = PRELOAD STRUCTURE SELECTABLE IMMOBILE CAPTURABLE FS_TECHNOLOGY MP_COUNT_FOR_VICTORY SCORE_CREATE FS_SUPERWEAPON
  Body            = StructureBody ModuleTag_07
    MaxHealth       = 4000.0
    InitialHealth   = 4000.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 4200
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
  End
  Behavior        = RebuildHoleExposeDie ModuleTag_08
    HoleName      = GLAHoleRocketStorm
    HoleMaxHealth = 500.0
  End 

  Behavior = AIUpdateInterface ModuleTag_09
  End

  Behavior    = OCLSpecialPower ModuleTag_10
    SpecialPowerTemplate = SuperweaponScudStorm
    OCL                  = SUPERWEAPON_ScudStorm
  End
  Behavior = SpecialPowerCreate ModuleTag_11
    ;nothing
  End

  Behavior = DestroyDie ModuleTag_12
    ;nothing
  End

  Behavior        = FXListDie ModuleTag_13
    DeathFX       = WeaponFX_BombTruckHighExplosiveBombDetonation
    ExemptStatus  = UNDER_CONSTRUCTION
  End

  Behavior        = CreateObjectDie ModuleTag_14
    CreationList  = OCL_LargeStructureDebris
  End

  Behavior = FlammableUpdate ModuleTag_16
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 5       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = RadiusDecalUpdate ModuleTag_17
    ; nothing
  End

  Behavior = TransitionDamageFX ModuleTag_18
    ;-------------DESIGNED FOR MEDIUM SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionMediumExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionMediumShockwave
  End

  Behavior        = FXListDie ModuleTag_19
    DeathFX       = FX_BuildingDie
  End

  Behavior        = ArmorUpgrade ModuleTag_Armor01
    TriggeredBy   = Upgrade_GLAFortifiedStructure
  End

  Behavior        = ModelConditionUpgrade ModuleTag_Armor01Visual
    ConditionFlag = GARRISONED
    TriggeredBy   = Upgrade_GLAFortifiedStructure
  End

  Geometry            = BOX
  GeometryMajorRadius = 50.0
  GeometryMinorRadius = 74.0
  GeometryHeight      = 38.0
  GeometryIsSmall     = No
  Shadow          = SHADOW_VOLUME
  BuildCompletion = PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
ObjectReskin GLAHoleRocketStorm GLAHole
  Draw                     = W3DModelDraw ModuleTag_01
    OkToChangeModelColor   = Yes
    ConditionState         = NONE
      Model                = UBHole
    End
    ConditionState         = DAMAGED
      Model                = UBHole_D
      ParticleSysBone      = Smoke01 SteamVent
    End
    ConditionState         = REALLYDAMAGED RUBBLE
      Model                = UBHole_E
      ParticleSysBone      = Smoke01 SteamVent
      ParticleSysBone      = Smoke02 SteamVent
      ParticleSysBone      = Fire01 GLAPowerPlantFlame
      ParticleSysBone      = Fire02 GLAPowerPlantFlame
      ParticleSysBone      = Fire03 GLAPowerPlantFlame
    End
  End
;Remove comments for this section and replace the model entries for the
;pristine, and damage/reallydamaged rubble around the GLA hole below

  Draw                     = W3DModelDraw ModuleTag_02
    OkToChangeModelColor   = Yes
    ConditionState         = NONE
      Model                = UBRcktStorm_R
    End
    ConditionState         = SNOW
      Model                = UBRcktStorm_RS
    End
  End

  MaxSimultaneousOfType = DeterminedBySuperweaponRestriction ; Normally unlimited, but can be selected by players in multiplayer games
  MaxSimultaneousLinkKey = RocketStorm

End

;------------------------------------------------------------------------------
Object Demo_GLATankWartrak

  ; *** ART Parameters ***
  SelectPortrait         = SUWartrak_L
  ButtonImage            = SUWartrak
  
  UpgradeCameo1 = Upgrade_GLAScorpionRocket
  UpgradeCameo2 = Upgrade_GLAJunkRepair
  UpgradeCameo3 = Demo_Upgrade_SuicideBomb
  ;UpgradeCameo4 = NONE
  ;UpgradeCameo5 = NONE
  
  ;--MAIN CHASSIS
  Draw = W3DTankDraw ModuleTag_01
    OkToChangeModelColor = Yes
    ExtraPublicBone = Dum_Turret

    ; ----- Normal -------
    DefaultConditionState
      Model = UVWartrak
      HideSubObject = Barrel BarrelEX Mortar
      ShowSubObject = BarrelUP
      WeaponMuzzleFlash = PRIMARY MuzzleFXUP
      WeaponFireFXBone = PRIMARY MuzzleUP
      WeaponLaunchBone = PRIMARY MuzzleUP
    End
    ConditionState = REALLYDAMAGED
      Model = UVWartrak_D
      HideSubObject = Barrel BarrelEX Mortar
      ShowSubObject = BarrelUP
      WeaponMuzzleFlash = PRIMARY MuzzleFXUP
      WeaponFireFXBone = PRIMARY MuzzleUP
      WeaponLaunchBone = PRIMARY MuzzleUP
    End

    ; ----- With mortar -------
    ConditionState = WEAPONSET_PLAYER_UPGRADE 
      Model = UVWartrak
      HideSubObject = Barrel BarrelEX
      ShowSubObject = BarrelUP Mortar
      WeaponMuzzleFlash = PRIMARY MuzzleFXUP
      WeaponFireFXBone = PRIMARY MuzzleUP
      WeaponLaunchBone = PRIMARY MuzzleUP
      WeaponFireFXBone = SECONDARY MortarBone
      WeaponLaunchBone = SECONDARY MortarBone
    End
    ConditionState = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
      Model = UVWartrak_D
      HideSubObject = Barrel BarrelEX
      ShowSubObject = BarrelUP Mortar
      WeaponMuzzleFlash = PRIMARY MuzzleFXUP
      WeaponFireFXBone = PRIMARY MuzzleUP
      WeaponLaunchBone = PRIMARY MuzzleUP
      WeaponFireFXBone = SECONDARY MortarBone
      WeaponLaunchBone = SECONDARY MortarBone
    End

    ; ----- With first salvage -------
    ConditionState = WEAPONSET_CRATEUPGRADE_ONE
      HideSubObject = Barrel BarrelUP Mortar
      ShowSubObject = BarrelEX
      WeaponMuzzleFlash = PRIMARY MuzzleFXEX
      WeaponFireFXBone = PRIMARY MuzzleEX
      WeaponLaunchBone = PRIMARY MuzzleEX
    End
    ConditionState = WEAPONSET_CRATEUPGRADE_ONE REALLYDAMAGED
      Model = UVWartrak_D
      HideSubObject = Barrel BarrelUP Mortar
      ShowSubObject = BarrelEX
      WeaponMuzzleFlash = PRIMARY MuzzleFXEX
      WeaponFireFXBone = PRIMARY MuzzleEX
      WeaponLaunchBone = PRIMARY MuzzleEX
    End

    ; ----- With first salvage and mortar -------
    ConditionState = WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
      Model = UVWartrak
      HideSubObject = Barrel BarrelUP
      ShowSubObject = BarrelEX Mortar
      WeaponMuzzleFlash = PRIMARY MuzzleFXEX
      WeaponFireFXBone = PRIMARY MuzzleEX
      WeaponLaunchBone = PRIMARY MuzzleEX
      WeaponFireFXBone = SECONDARY MortarBone
      WeaponLaunchBone = SECONDARY MortarBone
    End
    ConditionState = WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE REALLYDAMAGED
      Model = UVWartrak_D
      HideSubObject = Barrel BarrelUP
      ShowSubObject = BarrelEX Mortar
      WeaponMuzzleFlash = PRIMARY MuzzleFXEX
      WeaponFireFXBone = PRIMARY MuzzleEX
      WeaponLaunchBone = PRIMARY MuzzleEX
      WeaponFireFXBone = SECONDARY MortarBone
      WeaponLaunchBone = SECONDARY MortarBone
    End

    ; ----- With final salvage -------
    ConditionState = WEAPONSET_CRATEUPGRADE_TWO
      HideSubObject = Barrel BarrelUP Mortar
      ShowSubObject = BarrelEX
      WeaponMuzzleFlash = PRIMARY MuzzleFXEX
      WeaponFireFXBone = PRIMARY MuzzleEX
      WeaponLaunchBone = PRIMARY MuzzleEX
    End
    ConditionState = WEAPONSET_CRATEUPGRADE_TWO REALLYDAMAGED
      Model = UVWartrak_D
      HideSubObject = Barrel BarrelUP Mortar
      ShowSubObject = BarrelEX
      WeaponMuzzleFlash = PRIMARY MuzzleFXEX
      WeaponFireFXBone = PRIMARY MuzzleEX
      WeaponLaunchBone = PRIMARY MuzzleEX
    End

    ; ----- With final salvage and mortar -------
    ConditionState = WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
      HideSubObject = Barrel BarrelUP
      ShowSubObject = BarrelEX Mortar
      WeaponMuzzleFlash = PRIMARY MuzzleFXEX
      WeaponFireFXBone = PRIMARY MuzzleEX
      WeaponLaunchBone = PRIMARY MuzzleEX
      WeaponFireFXBone = SECONDARY MortarBone
      WeaponLaunchBone = SECONDARY MortarBone
    End
    ConditionState = WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO REALLYDAMAGED
      Model = UVWartrak_D
      HideSubObject = Barrel BarrelUP
      ShowSubObject = BarrelEX Mortar
      WeaponMuzzleFlash = PRIMARY MuzzleFXEX
      WeaponFireFXBone = PRIMARY MuzzleEX
      WeaponLaunchBone = PRIMARY MuzzleEX
      WeaponFireFXBone = SECONDARY MortarBone
      WeaponLaunchBone = SECONDARY MortarBone
    End

    ; ----- death animation -------
    ConditionState = RUBBLE
      Model = UVWartrak_DTA
      Animation = UVWartrak_DTA.UVWartrak_DTA
      AnimationMode = ONCE
    End
    AliasConditionState = WEAPONSET_PLAYER_UPGRADE RUBBLE
    AliasConditionState = WEAPONSET_CRATEUPGRADE_ONE RUBBLE
    AliasConditionState = WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE RUBBLE
    AliasConditionState = WEAPONSET_CRATEUPGRADE_TWO RUBBLE
    AliasConditionState = WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO RUBBLE

    TrackMarks = EXTnkTrack.tga
    TreadAnimationRate      = 2.0  ; amount of tread texture to move per second
  End

  ;--REBEL DUDE FROM TECHNICAL
  Draw = W3DModelDraw ModuleTag_TechDude
    OkToChangeModelColor = Yes
    AttachToBoneInAnotherModule = Dum_Turret

    DefaultConditionState
      Model = UITech_SKN
      Turret = Dum-TurManMVR
      TurretArtAngle = 180  ; this turret has art pointed 180 degrees backward
      HideSubObject = 20Cal 50Cal RPG MuzzleFX01 MuzzleFX02 MuzzleFX03 Tur_Pole
      IdleAnimation = UITech_SKL.UITech_STA 0 6
      IdleAnimation = UITech_SKL.UITech_IDA
      IdleAnimation = UITech_SKL.UITech_IDB
      AnimationMode = ONCE
    End

    ConditionState = RUBBLE MOVING TURRET_ROTATE
      Animation = None
      HideSubObject = UITech-SKN
    End

    ConditionState = MOVING
      Animation = UITech_SKL.UITech_MVA
      Animation = UITech_SKL.UITech_MVB
      AnimationMode = LOOP
    End

    ConditionState = TURRET_ROTATE
      Animation = UITech_SKL.UITech_TNA
      Animation = UITech_SKL.UITech_TNC
      ;Animation = UITech_SKL.UITech_TNB
      ;Animation = UITech_SKL.UITech_TND
      AnimationMode = LOOP
    End
    AliasConditionState = TURRET_ROTATE MOVING
    AliasConditionState = TURRET_ROTATE FIRING_A
    AliasConditionState = TURRET_ROTATE BETWEEN_FIRING_SHOTS_A
    AliasConditionState = TURRET_ROTATE RELOADING_A
    AliasConditionState = TURRET_ROTATE MOVING FIRING_A
    AliasConditionState = TURRET_ROTATE MOVING BETWEEN_FIRING_SHOTS_A
    AliasConditionState = TURRET_ROTATE MOVING RELOADING_A

    ConditionState = FIRING_A 
      Animation = UITech_SKL.UITech_ATA
      AnimationMode = LOOP
    End
    AliasConditionState = BETWEEN_FIRING_SHOTS_A
    AliasConditionState = RELOADING_A
    AliasConditionState = MOVING FIRING_A
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_A
    AliasConditionState = MOVING RELOADING_A

  End

  ; ***DESIGN parameters ***
  DisplayName           = OBJECT:Scorpion
  Side                  = GLADemolitionGeneral
  EditorSorting         = VEHICLE
  TransportSlotCount    = 3                 ;how many "slots" we take in a transport (0 == not transportable)

  WeaponSet
    Conditions = None 
    Weapon = PRIMARY REDScorpionTankGun
    Weapon = SECONDARY None
    Weapon = TERTIARY TerroristSuicideNotARealWeapon
    AutoChooseSources = TERTIARY NONE
  End
  WeaponSet
    Conditions = PLAYER_UPGRADE 
    Weapon = PRIMARY REDScorpionTankGun
    Weapon = SECONDARY WartrakMortarGun
    Weapon = TERTIARY TerroristSuicideNotARealWeapon
    AutoChooseSources = TERTIARY NONE
  End
  WeaponSet
    Conditions = CRATEUPGRADE_ONE 
    Weapon = PRIMARY REDScorpionTankGunPlusOne
    Weapon = SECONDARY None
    Weapon = TERTIARY TerroristSuicideNotARealWeapon
    AutoChooseSources = TERTIARY NONE
  End
  WeaponSet
    Conditions = CRATEUPGRADE_ONE PLAYER_UPGRADE 
    Weapon = PRIMARY REDScorpionTankGunPlusOne
    Weapon = SECONDARY WartrakMortarGun
    Weapon = TERTIARY TerroristSuicideNotARealWeapon
    AutoChooseSources = TERTIARY NONE
  End
  WeaponSet
    Conditions = CRATEUPGRADE_TWO 
    Weapon = PRIMARY REDScorpionTankGunPlusOne ; No further bonus at plus two
    Weapon = SECONDARY None
    Weapon = TERTIARY TerroristSuicideNotARealWeapon
    AutoChooseSources = TERTIARY NONE
  End
  WeaponSet
    Conditions = CRATEUPGRADE_TWO PLAYER_UPGRADE 
    Weapon = PRIMARY REDScorpionTankGunPlusOne ; No further bonus at plus two
    Weapon = SECONDARY WartrakMortarGunPlusTwo
    Weapon = TERTIARY TerroristSuicideNotARealWeapon
    AutoChooseSources = TERTIARY NONE
  End

  ArmorSet
    Conditions      = None
    Armor           = TankArmor
    DamageFX        = TankDamageFX
  End
  BuildCost       = 700
  BuildTime       = 7.0          ;in seconds    
  VisionRange     = 125
  ShroudClearingRange = 300
  Prerequisites
    Object = Demo_GLAArmsDealer
  End

  ExperienceValue = 60 60 120 200    ;Experience point value at each level
  ExperienceRequired = 0 100 200 400  ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet             = Demo_GLATankScorpionCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect            = WartrakVoiceSelect
  VoiceMove              = WartrakVoiceMove
  VoiceAttack            = WartrakVoiceAttack
  SoundMoveStart         = ScorpionTankMoveStart
  SoundMoveStartDamaged  = ScorpionTankMoveStart
  VoiceGuard             = WartrakVoiceMove

  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate          = WartrakVoiceCreate
    ;TurretMoveStart     = NoSound
    TurretMoveLoop       = TurretMoveLoop
    VoiceCrush           = WartrakVoiceAttack
    VoiceEnter           = WartrakVoiceMove
    VoiceSalvage         = WartrakVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SALVAGER WEAPON_SALVAGER SCORE

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 350.0
    InitialHealth   = 350.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 700
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior = AIUpdateInterface ModuleTag_03
    ;Turret
    ;  TurretTurnRate = 100
    ;  RecenterTime = 5000   ; how long to wait during idle before recentering
    ;  ControlledWeaponSlots = PRIMARY SECONDARY
    ;End
    AutoAcquireEnemiesWhenIdle = Yes
  End
  Locomotor = SET_NORMAL WartrakLocomotor
  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 50.0
  End
  Behavior = AutoHealBehavior ModuleTag_05
    HealingAmount = 2
    HealingDelay = 1000 ; msec
    TriggeredBy = Upgrade_GLAJunkRepair
  End

  ; Catch fire, and explode death
  Behavior = SlowDeathBehavior ModuleTag_06
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier = 50
    DestructionDelay = 1500 ;1000
    DestructionDelayVariance = 200
    OCL = INITIAL  OCL_WartrakAirDeathStart
    FX  = INITIAL  FX_TechnicalAirDeathGroundPart
    OCL = FINAL    OCL_WartrakDeathEffect
    FX  = FINAL    FX_BattleMasterExplosionOneFinal
  End

  Behavior = WeaponSetUpgrade ModuleTag_07
    TriggeredBy = Upgrade_GLAScorpionRocket
  End

  Behavior = DestroyDie ModuleTag_09
    DeathTypes = NONE +CRUSHED +SPLATTED
  End

  ; A crushing defeat
  Behavior = FXListDie ModuleTag_10
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateObjectDie ModuleTag_11
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_Wartrak_CrushEffect
  End
  Behavior = CreateCrateDie ModuleTag_12
    CrateData = SalvageCrateData
    ;CrateData = EliteTankCrateData
    ;CrateData = HeroicTankCrateData
  End
  
  Behavior                 = TransitionDamageFX ModuleTag_13
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = FXListDie ModuleTag_Death17
    DeathFX       = Demo_FX_SuicideAbilityExplode
    StartsActive  = No
    TriggeredBy   = Demo_Upgrade_SuicideBomb
    DeathTypes = NONE +SUICIDED
  End

  Behavior = FireWeaponWhenDeadBehavior ModuleTag998
    DeathWeapon   = Demo_SuicideDynamitePackPlusFire
    StartsActive  = No
    TriggeredBy   = Demo_Upgrade_SuicideBomb
    DeathTypes = NONE +SUICIDED +CRUSHED +SPLATTED
  End
  Behavior = FireWeaponWhenDeadBehavior ModuleTag999
    DeathWeapon   = Demo_DestroyedWeapon
    StartsActive  = No
    TriggeredBy   = Demo_Upgrade_SuicideBomb
    DeathTypes = ALL -SUICIDED -CRUSHED -SPLATTED
  End

  Behavior = CommandSetUpgrade ModuleTag_19
    CommandSet = Demo_GLATankScorpionCommandSetUpgrade
    TriggeredBy = Demo_Upgrade_SuicideBomb
  End

  Geometry = BOX
  GeometryMajorRadius = 14.0
  GeometryMinorRadius = 9.0
  GeometryHeight = 10.5    
  GeometryIsSmall = Yes 
  Shadow = SHADOW_VOLUME   
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End






;The "classic" Double-Barreled Gattling Tank. NOT the Tank_TwinGattling variant!
;------------------------------------------------------------------------------
Object ChinaTankGattlingDoubleBarrel

  ; *** ART Parameters ***
  SelectPortrait         = SNDBGatTank_L
  ButtonImage            = SNDBGatTank
  
  UpgradeCameo1 = Upgrade_ChinaChainGuns
  UpgradeCameo2 = Upgrade_Nationalism
  ;UpgradeCameo3 = NONE
  ;UpgradeCameo4 = NONE
  ;UpgradeCameo5 = NONE
  
  Draw                      = W3DTankDraw ModuleTag_01
    OkToChangeModelColor    = Yes
    ParticlesAttachedToAnimatedBones = Yes 
    
    DefaultConditionState
      Model               = NVGattTankDB
      Animation           = NVGattTankDB.NVGattTankDB
      AnimationMode       = MANUAL
      Turret              = TURRET01
      TurretPitch         = TURRETEL01
      AltTurret           = TURRET02
      AltTurretPitch      = TURRETEL02
      WeaponMuzzleFlash   = PRIMARY   MuzzleFX01
      WeaponFireFXBone    = PRIMARY   Muzzle01
      WeaponMuzzleFlash   = SECONDARY MuzzleFX02
      WeaponFireFXBone    = SECONDARY Muzzle02
    End

    ConditionState        = REALLYDAMAGED RUBBLE
      Model               = NVGattTankDB_D
    End

    ;-----pristine attacking----------------------
    ConditionState        = ATTACKING
      Model               = NVGattTankDB
      Animation           = NVGattTankDB.NVGattTankDB
      AnimationMode       = LOOP
      AnimationSpeedFactorRange = 0.5 0.5 ;set this state to animate  extemely sloowly
    End
    ConditionState        = CONTINUOUS_FIRE_SLOW ATTACKING
      Model               = NVGattTankDB
      Animation           = NVGattTankDB.NVGattTankDB
      AnimationMode       = LOOP
      AnimationSpeedFactorRange = 0.8 0.8 ;set this state to animate  s l o w l y
    End
    ConditionState        = CONTINUOUS_FIRE_MEAN ATTACKING
      Model               = NVGattTankDB
      Animation           = NVGattTankDB.NVGattTankDB
      AnimationMode       = LOOP
      AnimationSpeedFactorRange = 1.5 1.5 ;set this state to animate  medium-fast
    End
    ConditionState        = CONTINUOUS_FIRE_FAST ATTACKING
      Model               = NVGattTankDB
      Animation           = NVGattTankDB.NVGattTankDB
      AnimationMode       = LOOP
      ParticleSysBone     = Muzzle01 GattlingMuzzleSmoke
      AnimationSpeedFactorRange = 3.0 3.0 ;set this state to animate  vryfst
    End

    ;-----damaged attacking----------------------
    ConditionState        = REALLYDAMAGED RUBBLE ATTACKING
      Model               = NVGattTankDB_D
      Animation           = NVGattTankDB_D.NVGattTankDB_D
      AnimationMode       = LOOP
      AnimationSpeedFactorRange = 0.5 0.5 ;set this state to animate  extemely sloowly
    End
    ConditionState        = CONTINUOUS_FIRE_SLOW REALLYDAMAGED RUBBLE ATTACKING
      Model               = NVGattTankDB_D
      Animation           = NVGattTankDB_D.NVGattTankDB_D
      AnimationMode       = LOOP
      AnimationSpeedFactorRange = 0.8 0.8 ;set this state to animate  s l o w l y
    End
    ConditionState        = CONTINUOUS_FIRE_MEAN REALLYDAMAGED RUBBLE ATTACKING
      Model               = NVGattTankDB_D
      Animation           = NVGattTankDB_D.NVGattTankDB_D
      AnimationMode       = LOOP
      AnimationSpeedFactorRange = 1.5 1.5 ;set this state to animate  medium-fast
    End
    ConditionState        = CONTINUOUS_FIRE_FAST REALLYDAMAGED RUBBLE ATTACKING
      Model               = NVGattTankDB_D
      Animation           = NVGattTankDB_D.NVGattTankDB_D
      AnimationMode       = LOOP
      ParticleSysBone     = Muzzle01 GattlingMuzzleSmoke
      AnimationSpeedFactorRange = 3.0 3.0 ;set this state to animate  vryfst
    End

    TrackMarks              = EXTnkTrack.tga
    TreadAnimationRate      = 2.0  ; amount of tread texture to move per second
    TreadDriveSpeedFraction = 0.3  ; fraction of locomotor speed below which treads stop moving.
    TreadPivotSpeedFraction = 0.6  ; fraction of locomotor speed below which we allow pivoting.
  End

  ; ***DESIGN parameters ***
  DisplayName               = OBJECT:GattlingTank
  Side                      = China
  EditorSorting             = VEHICLE
  TransportSlotCount        = 3            ;how many "slots" we take in a transport (0 == not transportable)

  WeaponSet
    Conditions              = None 
    Weapon                  = PRIMARY   GattlingTankGun
    Weapon                  = SECONDARY GattlingTankGunAir
    PreferredAgainst        = SECONDARY AIRCRAFT
  End

  ArmorSet
    Conditions    = None
    Armor         = AntiAirVehicle
    DamageFX      = TankDamageFX
  End
  BuildCost       = 800
  BuildTime       = 10.0          ;in seconds    
  VisionRange     = 150
  ShroudClearingRange = 360
  Prerequisites
    Object        = ChinaWarFactory
  End

  ExperienceValue = 50 50 100 150  ;Experience point value at each level
  ExperienceRequired = 0 80 150 300  ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet      = ChinaVehicleGattlingTankCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect     = GattlingTankVoiceSelect
  VoiceMove       = GattlingTankVoiceMove
  VoiceGuard      = GattlingTankVoiceMove
  VoiceAttack     = GattlingTankVoiceAttack
  VoiceAttackAir  = GattlingTankVoiceAttack
  SoundMoveStart  = GattlingTankMoveStart
  SoundMoveStartDamaged = GattlingTankMoveStart

  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate     = GattlingTankVoiceCreate
    TurretMoveStart = NoSound
    TurretMoveLoop  = TurretMoveLoopLoud
    VoiceCrush      = GattlingTankVoiceCrush
    VoiceEnter      = GattlingTankVoiceMove
    VoiceRapidFire  = GattlingTankVoiceRapid
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority     = UNIT
  KindOf            = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE
  
  Body              = ActiveBody ModuleTag_02
    MaxHealth       = 300.0
    InitialHealth   = 300.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 600
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End
  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      ControlledWeaponSlots = PRIMARY
      TurretTurnRate      = 180   ;turn rate, in degrees per sec
      TurretPitchRate     = 180
      AllowsPitch         = Yes
      FiresWhileTurning   = Yes
    End
    AltTurret
      ControlledWeaponSlots = SECONDARY
      TurretTurnRate      = 180   ;turn rate, in degrees per sec
      TurretPitchRate     = 180
      AllowsPitch         = Yes
      FiresWhileTurning   = Yes
      NaturalTurretPitch  = 25 ;45 ; this keeps it aimed half way between land and sky
                               ; since you never know from whence cometh danger
    End
    ;TurretsLinked = Yes
    AutoAcquireEnemiesWhenIdle = Yes
    MoodAttackCheckRate        = 250
  End

  Locomotor       = SET_NORMAL GattlingTankLocomotor
  Behavior          = PhysicsBehavior ModuleTag_04
    Mass            = 40.0
  End

  ; A crushing defeat
  Behavior = DestroyDie ModuleTag_Crushed03
    DeathTypes = NONE +CRUSHED +SPLATTED
  End

  Behavior = FXListDie ModuleTag_Crushed02
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End

  Behavior = CreateObjectDie ModuleTag_Crushed01
    DeathTypes   = NONE +CRUSHED +SPLATTED
    CreationList = OCL_GattlingTank_CrushEffect
  End
    
  ; Just explode death
  Behavior = SlowDeathBehavior ModuleTag_05
    DeathTypes   = ALL -CRUSHED -SPLATTED
    ProbabilityModifier = 19
    DestructionDelay = 200
    DestructionDelayVariance = 100
    SinkRate = 0.5     ; in Dist/Sec
    OCL = FINAL    OCL_ChinaTankGattlingDebris
    FX  = FINAL    FX_GattlingExplosionOneFinal
  End

  Behavior = CreateCrateDie ModuleTag_06
    CrateData = SalvageCrateData
    ;CrateData = EliteTankCrateData
    ;CrateData = HeroicTankCrateData
  End

  Behavior = TransitionDamageFX ModuleTag_07
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = WeaponBonusUpgrade ModuleTag_22
    TriggeredBy = Upgrade_ChinaChainGuns
  End

  Behavior = HordeUpdate ModuleTag_Horde01
    RubOffRadius = 150    ; if I am this close to a real hordesman, I will get to be an honorary hordesman
    UpdateRate = 1000     ; how often to recheck horde status (msec)
    Radius = 75           ; how close other units must be to us to count towards our horde-ness (~30 feet or so)
    KindOf = VEHICLE      ; what KindOf's must match to count towards horde-ness
    AlliesOnly = Yes      ; do we only count allies towards horde status? 
    ExactMatch = No       ; do we only count units of our exact same type towards horde status? (overrides kindof)
    Count = 5             ; how many units must be within Radius to grant us horde-ness
    Action = HORDE        ; when horde-ing, grant us the HORDE bonus
  End

  Behavior = VeterancyGainCreate ModuleTag_23  ;cross-tech from tank general science
    StartingLevel = VETERAN
    ScienceRequired = SCIENCE_BattlemasterTraining
  End

  Geometry            = BOX
  GeometryMajorRadius = 15.0
  GeometryMinorRadius = 10.0
  GeometryHeight      = 15.0     
  GeometryIsSmall     = Yes
  Shadow              = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length    

End





;---------------------------------------------------
Object Nuke_ChinaTankDevastator

  ; *** ART Parameters ***
  SelectPortrait         = SNDvstr_L
  ButtonImage            = SNDvstr

  Draw = W3DTankDraw ModuleTag_01
    OkToChangeModelColor = Yes
    DefaultConditionState
      Model               = NVDvstr
      Turret              = Turret01
      TurretPitch         = TurretEl
      WeaponFireFXBone    = PRIMARY MuzzleFX
      WeaponRecoilBone    = PRIMARY Barrel
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      WeaponLaunchBone    = PRIMARY Muzzle
      WeaponFireFXBone    = SECONDARY MuzzleFX
      WeaponRecoilBone    = SECONDARY Barrel
      WeaponMuzzleFlash   = SECONDARY MuzzleFX
      WeaponLaunchBone    = SECONDARY Muzzle
      ParticleSysBone     = EXHAUSTFX01 DozerSmokeLight
    End

    ConditionState        = MOVING
      ParticleSysBone     = EXHAUSTFX01 DozerSmokeHeavy
    End

    ConditionState = REALLYDAMAGED
      Model               = NVDvstr_D
      Turret              = Turret01
      TurretPitch         = TurretEl
      WeaponFireFXBone    = PRIMARY MuzzleFX
      WeaponRecoilBone    = PRIMARY Barrel
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      WeaponLaunchBone    = PRIMARY Muzzle
      WeaponFireFXBone    = SECONDARY MuzzleFX
      WeaponRecoilBone    = SECONDARY Barrel
      WeaponMuzzleFlash   = SECONDARY MuzzleFX
      WeaponLaunchBone    = SECONDARY Muzzle
      ParticleSysBone     = EXHAUSTFX01 DozerSmokeHeavy
    End

    ConditionState        = MOVING REALLYDAMAGED
      Model               = NVDvstr_D
      Turret              = Turret01
      WeaponFireFXBone    = PRIMARY MuzzleFX
      WeaponRecoilBone    = PRIMARY Barrel
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      WeaponLaunchBone    = PRIMARY Muzzle
      WeaponFireFXBone    = SECONDARY MuzzleFX
      WeaponRecoilBone    = SECONDARY Barrel
      WeaponMuzzleFlash   = SECONDARY MuzzleFX
      WeaponLaunchBone    = SECONDARY Muzzle
      ParticleSysBone     = EXHAUSTFX01 DozerSmokeHeavy
    End

    ConditionState = RUBBLE
      Model               = NVDvstr_D
      Turret              = Turret01
    End

    TrackMarks              = EXTnkTrack.tga
    OkToChangeModelColor = Yes
    TreadAnimationRate = 2.0;  amount of tread texture to move per second
    TreadDriveSpeedFraction = 0.3  ; fraction of locomotor speed below which treads stop moving.
    TreadPivotSpeedFraction = 0.6  ; fraction of locomotor speed below which we allow pivoting.
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Devastator
  Side = ChinaNukeGeneral
  EditorSorting   = VEHICLE
  TransportSlotCount = 3                 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions = None
    Weapon = PRIMARY DevastatorTankGun
    AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
    Weapon = TERTIARY TerroristSuicideNotARealWeapon
    AutoChooseSources = TERTIARY NONE ;Special attack only
  End
  ArmorSet
    Conditions      = None
    Armor           = TankArmor
    DamageFX        = TankDamageFX
  End
  BuildCost       = 3500
  BuildTime       = 40.0          ;in seconds
  VisionRange     = 150
  ShroudClearingRange = 250
  Prerequisites
    Object = Nuke_ChinaWarFactory
    Object = Nuke_ChinaPropagandaCenter
  End

  ExperienceValue = 200 200 400 600   ;Experience point value at each level
  ExperienceRequired = 0 400 600 1200  ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 3  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 3  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = Demo_GLAVehicleQuadCannonUpgrade
  MaxSimultaneousOfType = 3

  ; *** AUDIO Parameters ***
  VoiceSelect           = NukeCannonVoiceSelect
  VoiceMove             = NukeCannonVoiceMove
  VoiceGuard            = NukeCannonVoiceMove
  VoiceAttack           = NukeCannonVoiceAttack
  SoundMoveStart        = NukeCannonMoveStart
  SoundMoveStartDamaged = NukeCannonMoveStart
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate         = NukeCannonVoiceCreate
    TurretMoveStart     = NoSound
    TurretMoveLoop      = OverlordTankTurretMoveLoop
    VoiceEnter          = NukeCannonVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 1000.0
    InitialHealth   = 1000.0
  End

  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      TurretTurnRate = 45   ; turn rate, in degrees per sec
      TurretPitchRate = 60
      AllowsPitch = Yes
      ControlledWeaponSlots = PRIMARY SECONDARY
    End
    AutoAcquireEnemiesWhenIdle = No
  End

  Locomotor = SET_NORMAL Tank_OverlordLocomotor

  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 70.0
  End

  Behavior = FireWeaponWhenDeadBehavior ModuleTag_06
    DeathWeapon   = DevastatorTankSelfDestructWeapon
    StartsActive  = Yes                        ; turned on by upgrade
  End

  ; A crushing defeat
  Behavior = DestroyDie ModuleTag_07
    DeathTypes = NONE +CRUSHED +SPLATTED
  End
  Behavior = FXListDie ModuleTag_08
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateObjectDie ModuleTag_09
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_CrusaderTank_CrushEffect
  End
  Behavior = CreateCrateDie ModuleTag_10
    CrateData = SalvageCrateData
    ;CrateData = EliteTankCrateData
    ;CrateData = HeroicTankCrateData
  End


  Behavior = SlowDeathBehavior ModuleTag_11
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier = 25
    DestructionDelay = 200
    DestructionDelayVariance = 100
    OCL = FINAL    OCL_ChinaTankBattleMasterDebris
    FX  = FINAL    FX_BattleMasterExplosionOneFinal
  End

  Behavior = TransitionDamageFX ModuleTag_12
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Geometry = BOX
  GeometryMajorRadius = 25.0
  GeometryMinorRadius = 15.0
  GeometryHeight = 20.0
  GeometryIsSmall = No
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End





