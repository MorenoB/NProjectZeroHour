;//////////////////////////////////////
; MOVED FROM CivilianBuilding.ini
;//////////////////////////////////////

;------------------------------------------------------------------------------
Object SupplyWarehouse

  ; *** ART Parameters ***
  SelectPortrait = SSSupplyPile

  ; day
  Draw                = W3DModelDraw ModuleTag_01 ; Handles the building but not the pile of stuff 
    ConditionState    = NONE
      Model           = ZBSupplyWH
    End
  ; damaged 
    ConditionState    = DAMAGED
      Model           = ZBSupplyWH_D
      ParticleSysBone = Smoke01 SmolderingSmoke
      ParticleSysBone = Smoke02 SmolderingSmoke
      ParticleSysBone = Smoke03 SmolderingSmoke
      ParticleSysBone = Smoke04 SmolderingSmoke
      ParticleSysBone = Smoke05 SmolderingSmoke
    End
  ; reallydamaged 
    ConditionState    = REALLYDAMAGED
      Model           = ZBSupplyWH_E
      ParticleSysBone = Smoke01 SmolderingSmoke
      ParticleSysBone = Smoke02 SmolderingSmoke
      ParticleSysBone = Smoke03 SmolderingSmoke
      ParticleSysBone = Smoke04 SmolderingSmoke
      ParticleSysBone = Smoke05 SmolderingSmoke
      ParticleSysBone = Fire01 SmolderingFire
      ParticleSysBone = Fire02 SmolderingFire
      ParticleSysBone = Fire03 SmolderingFire
      ParticleSysBone = Fire04 SmolderingFire
      ParticleSysBone = Fire05 SmolderingFire
    End

  ; night
    ConditionState    = NIGHT
      Model           = ZBSupplyWH_N
    End
  ; damaged 
    ConditionState    = DAMAGED NIGHT
      Model           = ZBSupplyWH_DN
      ParticleSysBone = Smoke01 SmolderingSmoke
      ParticleSysBone = Smoke02 SmolderingSmoke
      ParticleSysBone = Smoke03 SmolderingSmoke
      ParticleSysBone = Smoke04 SmolderingSmoke
      ParticleSysBone = Smoke05 SmolderingSmoke
    End
  ; reallydamaged 
    ConditionState    = REALLYDAMAGED NIGHT
      Model           = ZBSupplyWH_EN
      ParticleSysBone = Smoke01 SmolderingSmoke
      ParticleSysBone = Smoke02 SmolderingSmoke
      ParticleSysBone = Smoke03 SmolderingSmoke
      ParticleSysBone = Smoke04 SmolderingSmoke
      ParticleSysBone = Smoke05 SmolderingSmoke
      ParticleSysBone = Fire01 SmolderingFire
      ParticleSysBone = Fire02 SmolderingFire
      ParticleSysBone = Fire03 SmolderingFire
      ParticleSysBone = Fire04 SmolderingFire
      ParticleSysBone = Fire05 SmolderingFire
    End
  End

  Draw = W3DSupplyDraw ModuleTag_02 ; Dedicated draw module that talks with SupplyWarehouseDockUpdate to show/hide % of bones 
    ExtraPublicBone = SUP
    ConditionState = NONE
      Model = ZBSupplyWH_B
    End
    ConditionState = SNOW
      Model = ZBSupplyWH_BS
    End
    SupplyBonePrefix = SUP ; Show n of these based on SupplyWarehouseDockUpdate
  End

  ; ------------ New Animations fence -----------------
  Draw = W3DModelDraw ModuleTag_NewAnimations
  AnimationsRequirePower = No

    ConditionState    = NONE
      Model           = ZBSupplyWH_A1
    End
    ConditionState    = DAMAGED
      Model           = ZBSupplyWH_DA1
    End
    ConditionState    = REALLYDAMAGED
      Model           = None
    End

    ConditionState    = DOCKING_BEGINNING
      Model           = ZBSupplyWH_A1
      Animation       = ZBSupplyWH_A1.ZBSupplyWH_A1
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End
    ConditionState    = DOCKING_BEGINNING DAMAGED
      Model           = ZBSupplyWH_DA1
      Animation       = ZBSupplyWH_DA1.ZBSupplyWH_DA1
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End
    ConditionState    = DOCKING_BEGINNING REALLYDAMAGED
      Model           = None
    End

    ConditionState    = DOCKING_ACTIVE
      Model           = ZBSupplyWH_A1
      Animation       = ZBSupplyWH_A1.ZBSupplyWH_A1
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
    End
    ConditionState    = DOCKING_ACTIVE DAMAGED
      Model           = ZBSupplyWH_DA1
      Animation       = ZBSupplyWH_DA1.ZBSupplyWH_DA1
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
    End
    ConditionState    = DOCKING_ACTIVE REALLYDAMAGED
      Model           = None
    End

    ConditionState    = DOCKING_ENDING 
      Model           = ZBSupplyWH_A1
      Animation       = ZBSupplyWH_A1.ZBSupplyWH_A1
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End
    ConditionState    = DOCKING_ENDING DAMAGED
      Model           = ZBSupplyWH_DA1
      Animation       = ZBSupplyWH_DA1.ZBSupplyWH_DA1
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End
    ConditionState    = DOCKING_ENDING REALLYDAMAGED
      Model           = None
    End

  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:SupplyWarehouse
  EditorSorting       = STRUCTURE

  ; *** ENGINEERING Parameters ***  
  ; Note - kindof is nocollide because they are immortalbody, and this allows units that end up inside to be shot.  jba.
  KindOf              = STRUCTURE IMMOBILE SELECTABLE SUPPLY_SOURCE_ON_PREVIEW NO_COLLIDE SUPPLY_SOURCE
  RadarPriority       = STRUCTURE  
  Body                = ImmortalBody ModuleTag_03
    MaxHealth         = 2000.0
    InitialHealth     = 2000.0
  End
  ArmorSet
    Conditions           = None
    Armor                = InvulnerableAllArmor ;StructureArmor
    DamageFX             = StructureDamageFXNoShake
  End

  Behavior              = SupplyWarehouseCripplingBehavior ModuleTag_04
    SelfHealSupression  = 3000  ; Time since last damage until I can start to heal
    SelfHealDelay       = 500   ; Once I am okay to heal, how often to do so
    SelfHealAmount      = 5     ; And how much
    ; The Crippling part is tied to ReallyDamaged, or 30% health.
  End

  Behavior = SupplyWarehouseCreate ModuleTag_05
    ;nothing
  End

  Behavior = SupplyWarehouseDockUpdate ModuleTag_06
    NumberApproachPositions = 9 ; There are 9 approach bones in the art
    StartingBoxes     = 400 ; Even if you use a script to set the cash value, this will determine graphically what "full" is.
  End

  Behavior = FlammableUpdate ModuleTag_08
    FlameDamageLimit = 20         ;Catch fire if I take this much fire damage...
    FlameDamageExpiration = 2000  ;in a span of this long
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 25       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Geometry            = BOX
  GeometryMajorRadius = 43.0
  GeometryMinorRadius = 51.0
  GeometryHeight      = 25.0
  GeometryIsSmall     = No
  Shadow              = SHADOW_VOLUME

End

;------------------------------------------------------------------------------
Object SupplyDock

  ; *** ART Parameters ***
  SelectPortrait = SSSupplyPile

  Draw                = W3DModelDraw ModuleTag_01 ; Handles the building but not the pile of stuff 

  ; day
    ConditionState    = NONE
      Model           = ZBSupplyDK
    End
    ConditionState    = DAMAGED
      Model           = ZBSupplyDK_D
    End
    ConditionState    = REALLYDAMAGED
      Model           = ZBSupplyDK_E
    End

  ; night
    ConditionState    = NIGHT
      Model           = ZBSupplyDK_N
    End
    ConditionState    = DAMAGED NIGHT
      Model           = ZBSupplyDK_DN
    End
    ConditionState    = REALLYDAMAGED NIGHT
      Model           = ZBSupplyDK_EN
    End

  ; snow
    ConditionState    = SNOW
      Model           = ZBSupplyDK_S
    End
    ConditionState    = DAMAGED SNOW
      Model           = ZBSupplyDK_DS
    End
    ConditionState    = REALLYDAMAGED SNOW
      Model           = ZBSupplyDK_ES
    End

  ; night snow
    ConditionState    = NIGHT SNOW
      Model           = ZBSupplyDK_NS
    End
    ConditionState    = DAMAGED NIGHT SNOW
      Model           = ZBSupplyDK_DNS
    End
    ConditionState    = REALLYDAMAGED NIGHT SNOW
      Model           = ZBSupplyDK_ENS
    End

  ; DUMMY
  ; rubble
    ConditionState    = RUBBLE
      Model           = ZBSupplyDK_R
    End
    AliasConditionState = RUBBLE NIGHT
    AliasConditionState = RUBBLE SNOW
    AliasConditionState = RUBBLE NIGHT SNOW

  End

  Draw = W3DSupplyDraw ModuleTag_02 ; Dedicated draw module that talks with SupplyWarehouseDockUpdate to show/hide % of bones 
    ExtraPublicBone = SUP
    ConditionState = NONE
      Model = ZBSupplyDK_B
    End
    ConditionState = SNOW
      Model = ZBSupplyDK_BS
    End
    SupplyBonePrefix = SUP ; Show n of these based on SupplyWarehouseDockUpdate
  End
  
  ; ------------ New Animations fence -----------------
  Draw = W3DModelDraw ModuleTag_NewAnimations
  AnimationsRequirePower = No
  
    DefaultConditionState
      Model           = ZBSupplyDK_A1
      Animation       = ZBSupplyDK_A1.ZBSupplyDK_A1
      AnimationMode   = LOOP
    End
  End   

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:SupplyDock
  EditorSorting       = STRUCTURE
  ArmorSet
    Conditions           = None
    Armor                = InvulnerableAllArmor ;StructureArmor
    DamageFX             = StructureDamageFXNoShake
  End

  ; *** ENGINEERING Parameters ***  
  ; Note - kindof is nocollide because they are immortalbody, and this allows units that end up inside to be shot.  jba.
  KindOf              = STRUCTURE IMMOBILE SELECTABLE SUPPLY_SOURCE_ON_PREVIEW NO_COLLIDE SUPPLY_SOURCE IGNORED_IN_GUI
  RadarPriority       = STRUCTURE  

  Body                = ImmortalBody ModuleTag_03
    MaxHealth         = 2000.0
    InitialHealth     = 2000.0
  End

  Behavior = SupplyWarehouseCreate ModuleTag_05
    ;nothing
  End

  Behavior = SupplyWarehouseDockUpdate ModuleTag_06
    AllowsPassthrough = No ;You can't drive through this guy while docking.  Use this when the dock points are all outside
    NumberApproachPositions = -1 ; This is a Boneless dock, so this means infinite can approach
    StartingBoxes     = 400 ; Even if you use a script to set cash value, this will determine graphically what "full" is.
  End

  Geometry            = BOX
  GeometryMajorRadius = 50.0
  GeometryMinorRadius = 61.0
  GeometryHeight      = 13.0
  GeometryIsSmall     = No
  Shadow              = SHADOW_VOLUME

End

;------------------------------------------------------------------------------
Object SupplyPile

  ; *** ART Parameters ***
  SelectPortrait = SSSupplyPile

  ; There is no art except for the pile here.
  Draw = W3DSupplyDraw ModuleTag_01 ; Dedicated draw module that talks with SupplyWarehouseDockUpdate to show/hide % of bones 
    ExtraPublicBone = SUP
    ConditionState = NONE
      Model = ZBPile
    End
    ConditionState = SNOW
      Model = ZBPile_S
    End

    SupplyBonePrefix = SUP ; Show n of these based on SupplyWarehouseDockUpdate
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:SupplyPile
  EditorSorting   = STRUCTURE

  ArmorSet
    Conditions           = None
    Armor                = InvulnerableAllArmor ;StructureArmor
    DamageFX             = StructureDamageFXNoShake
  End

  ; *** ENGINEERING Parameters *** 
  ; Note - kindof is nocollide because they are immortalbody, and this allows units that end up inside to be shot.  jba.
  KindOf            = STRUCTURE IMMOBILE SELECTABLE SUPPLY_SOURCE_ON_PREVIEW NO_COLLIDE SUPPLY_SOURCE IGNORED_IN_GUI
  RadarPriority     = STRUCTURE   

  Body              = ImmortalBody ModuleTag_02
    MaxHealth       = 2000.0
    InitialHealth   = 2000.0
  End
  Behavior = SupplyWarehouseCreate ModuleTag_03
    ;nothing
  End
  Behavior = SupplyWarehouseDockUpdate ModuleTag_04
    NumberApproachPositions = 9 ; There are 9 approach bones in the art
    StartingBoxes     = 200 ; Even if you use a script to set the cash value, this will determine graphically what "full" is.
    DeleteWhenEmpty = Yes
  End

  Geometry              = BOX
  GeometryMajorRadius   = 37.0
  GeometryMinorRadius   = 40.0
  GeometryHeight        = 16.0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME

End

;------------------------------------------------------------------------------
Object SupplyPileSmall

  ; *** ART Parameters ***
  SelectPortrait = SSSupplyPile

  Draw = W3DSupplyDraw ModuleTag_01 ; Dedicated draw module that talks with SupplyWarehouseDockUpdate to show/hide % of bones 
    ExtraPublicBone = SUP
    ConditionState = NONE
      Model = ZBSmalPile
    End
    ConditionState = SNOW
      Model = ZBSmalPile_S
    End

    SupplyBonePrefix = SUP ; Show n of these based on SupplyWarehouseDockUpdate
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:SupplyPile
  EditorSorting   = STRUCTURE

  ArmorSet
    Conditions           = None
    Armor                = InvulnerableAllArmor ;StructureArmor
    DamageFX             = StructureDamageFXNoShake
  End 

  ; *** ENGINEERING Parameters ***  
  ; Note - kindof is nocollide because they are immortalbody, and this allows units that end up inside to be shot.  jba.
  KindOf            = STRUCTURE IMMOBILE SELECTABLE SUPPLY_SOURCE_ON_PREVIEW NO_COLLIDE SUPPLY_SOURCE IGNORED_IN_GUI
  RadarPriority     = STRUCTURE  

  Body              = ImmortalBody ModuleTag_02
    MaxHealth       = 2000.0
    InitialHealth   = 2000.0
  End
  Behavior = SupplyWarehouseCreate ModuleTag_03
    ;nothing
  End
  Behavior = SupplyWarehouseDockUpdate ModuleTag_04
    AllowsPassthrough = No ;You can't drive through this guy while docking.  Use this when the dock points are all outside
    NumberApproachPositions = -1 ; This is a Boneless dock, so this means infinite can approach
    StartingBoxes     = 50 ; Even if you use a script to set the cash value, this will determine graphically what "full" is.
    DeleteWhenEmpty = Yes
  End

  Geometry              = CYLINDER
  GeometryMajorRadius   = 16.0
  GeometryHeight        = 5.0    
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
Object TechHospital

  ; *** ART Parameters ***
  SelectPortrait         = SSTechHospital_L
  Draw                   = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes

    ; DAY ************************************
    ConditionState       = NONE
      Model              = ZBHospital
      ;Animation          = ZBHospital.ZBHospital
      ;AnimationMode      = LOOP
    End
    
    ; DAMAGED *********************************
    ConditionState       = DAMAGED
      Model              = ZBHospital_D
      Animation          = ZBHospital_D.ZBHospital_D
      AnimationMode      = LOOP
      ParticleSysBone    = Smoke01 SmolderingSmoke
      ParticleSysBone    = Smoke02 SmolderingSmoke
      ParticleSysBone    = Smoke03 SmolderingSmoke
      ParticleSysBone    = Smoke04 SmolderingSmoke
      ParticleSysBone    = Smoke05 SmolderingSmoke
      ParticleSysBone    = Smoke06 SmolderingSmoke
      ParticleSysBone    = Smoke07 SmolderingSmoke
      ParticleSysBone    = Smoke08 SmolderingSmoke
      ParticleSysBone    = Smoke09 SmolderingSmoke
      ParticleSysBone    = Fire01 SmolderingFire
      ParticleSysBone    = Fire02 SmolderingFire
      ParticleSysBone    = Fire03 SmolderingFire
      ParticleSysBone    = Fire04 SmolderingFire
      ParticleSysBone    = Fire05 SmolderingFire
      ParticleSysBone    = Fire06 SmolderingFire
      ParticleSysBone    = Fire07 SmolderingFire
      ParticleSysBone    = Fire08 SmolderingFire
      ParticleSysBone    = Fire09 SmolderingFire
    End

    ; REALLYDAMAGED *******************************
    ConditionState       = REALLYDAMAGED
      Model              = ZBHospital_E
      Animation          = ZBHospital_E.ZBHospital_E
      AnimationMode      = LOOP
      ParticleSysBone    = Smoke01 SmokeFactionLarge
      ParticleSysBone    = Smoke02 SmokeFactionLarge
      ParticleSysBone    = Smoke03 SmokeFactionLarge
      ParticleSysBone    = Smoke04 SmokeFactionLarge
      ParticleSysBone    = Smoke05 SmokeFactionLarge
      ParticleSysBone    = Smoke06 SmokeFactionLarge
      ParticleSysBone    = Smoke07 SmokeFactionLarge
      ParticleSysBone    = Smoke08 SmokeFactionLarge
      ParticleSysBone    = Smoke09 SmokeFactionLarge
      ParticleSysBone    = Smoke10 SmokeFactionLarge
      ParticleSysBone    = Smoke11 SmokeFactionLarge
      ParticleSysBone    = Fire01 FireFactionLarge
      ParticleSysBone    = Fire02 FireFactionLarge
      ParticleSysBone    = Fire03 FireFactionLarge
      ParticleSysBone    = Fire04 FireFactionLarge
      ParticleSysBone    = Fire05 FireFactionLarge
      ParticleSysBone    = Fire06 FireFactionLarge
      ParticleSysBone    = Fire07 FireFactionLarge
      ParticleSysBone    = Fire08 FireFactionLarge
      ParticleSysBone    = Fire09 FireFactionLarge
      ParticleSysBone    = Fire10 FireFactionLarge
      ParticleSysBone    = Fire11 FireFactionLarge
    End

    ; RUBBLE *****************************************
    ConditionState       = RUBBLE
      Model              = ZBHospital_R
    End

    ; NIGHT ************************************
    ConditionState       = NIGHT
      Model              = ZBHospital_N
      Animation          = ZBHospital_N.ZBHospital_N
      AnimationMode      = LOOP
    End
    
    ; NIGHT DAMAGED *********************************
    ConditionState       = NIGHT DAMAGED
      Model              = ZBHospital_DN
      Animation          = ZBHospital_DN.ZBHospital_DN
      AnimationMode      = LOOP
      ParticleSysBone    = Smoke01 SmolderingSmoke
      ParticleSysBone    = Smoke02 SmolderingSmoke
      ParticleSysBone    = Smoke03 SmolderingSmoke
      ParticleSysBone    = Smoke04 SmolderingSmoke
      ParticleSysBone    = Smoke05 SmolderingSmoke
      ParticleSysBone    = Smoke06 SmolderingSmoke
      ParticleSysBone    = Smoke07 SmolderingSmoke
      ParticleSysBone    = Smoke08 SmolderingSmoke
      ParticleSysBone    = Smoke09 SmolderingSmoke
      ParticleSysBone    = Fire01 SmolderingFire
      ParticleSysBone    = Fire02 SmolderingFire
      ParticleSysBone    = Fire03 SmolderingFire
      ParticleSysBone    = Fire04 SmolderingFire
      ParticleSysBone    = Fire05 SmolderingFire
      ParticleSysBone    = Fire06 SmolderingFire
      ParticleSysBone    = Fire07 SmolderingFire
      ParticleSysBone    = Fire08 SmolderingFire
      ParticleSysBone    = Fire09 SmolderingFire
    End

    ; NIGHT REALLYDAMAGED *****************************
    ConditionState       = NIGHT REALLYDAMAGED 
      Model              = ZBHospital_EN
      Animation          = ZBHospital_EN.ZBHospital_EN
      AnimationMode      = LOOP
      ParticleSysBone    = Smoke01 SmokeFactionLarge
      ParticleSysBone    = Smoke02 SmokeFactionLarge
      ParticleSysBone    = Smoke03 SmokeFactionLarge
      ParticleSysBone    = Smoke04 SmokeFactionLarge
      ParticleSysBone    = Smoke05 SmokeFactionLarge
      ParticleSysBone    = Smoke06 SmokeFactionLarge
      ParticleSysBone    = Smoke07 SmokeFactionLarge
      ParticleSysBone    = Smoke08 SmokeFactionLarge
      ParticleSysBone    = Smoke09 SmokeFactionLarge
      ParticleSysBone    = Smoke10 SmokeFactionLarge
      ParticleSysBone    = Smoke11 SmokeFactionLarge
      ParticleSysBone    = Fire01 FireFactionLarge
      ParticleSysBone    = Fire02 FireFactionLarge
      ParticleSysBone    = Fire03 FireFactionLarge
      ParticleSysBone    = Fire04 FireFactionLarge
      ParticleSysBone    = Fire05 FireFactionLarge
      ParticleSysBone    = Fire06 FireFactionLarge
      ParticleSysBone    = Fire07 FireFactionLarge
      ParticleSysBone    = Fire08 FireFactionLarge
      ParticleSysBone    = Fire09 FireFactionLarge
      ParticleSysBone    = Fire10 FireFactionLarge
      ParticleSysBone    = Fire11 FireFactionLarge
    End

    ; NIGHT RUBBLE ********************************
    ConditionState       = RUBBLE NIGHT
      Model              = ZBHospital_R
    End

    ; SNOW ************************************
    ConditionState       = SNOW
      Model              = ZBHospital_S
      Animation          = ZBHospital_S.ZBHospital_S
      AnimationMode      = LOOP
    End
    
    ; SNOW DAMAGED *********************************
    ConditionState       = SNOW DAMAGED
      Model              = ZBHospital_DS
      Animation          = ZBHospital_DS.ZBHospital_DS
      AnimationMode      = LOOP
      ParticleSysBone    = Smoke01 SmolderingSmoke
      ParticleSysBone    = Smoke02 SmolderingSmoke
      ParticleSysBone    = Smoke03 SmolderingSmoke
      ParticleSysBone    = Smoke04 SmolderingSmoke
      ParticleSysBone    = Smoke05 SmolderingSmoke
      ParticleSysBone    = Smoke06 SmolderingSmoke
      ParticleSysBone    = Smoke07 SmolderingSmoke
      ParticleSysBone    = Smoke08 SmolderingSmoke
      ParticleSysBone    = Smoke09 SmolderingSmoke
      ParticleSysBone    = Fire01 SmolderingFire
      ParticleSysBone    = Fire02 SmolderingFire
      ParticleSysBone    = Fire03 SmolderingFire
      ParticleSysBone    = Fire04 SmolderingFire
      ParticleSysBone    = Fire05 SmolderingFire
      ParticleSysBone    = Fire06 SmolderingFire
      ParticleSysBone    = Fire07 SmolderingFire
      ParticleSysBone    = Fire08 SmolderingFire
      ParticleSysBone    = Fire09 SmolderingFire
    End

    ; SNOW REALLYDAMAGED **************************
    ConditionState       = SNOW REALLYDAMAGED 
      Model              = ZBHospital_ES
      Animation          = ZBHospital_ES.ZBHospital_ES
      AnimationMode      = LOOP
      ParticleSysBone    = Smoke01 SmokeFactionLarge
      ParticleSysBone    = Smoke02 SmokeFactionLarge
      ParticleSysBone    = Smoke03 SmokeFactionLarge
      ParticleSysBone    = Smoke04 SmokeFactionLarge
      ParticleSysBone    = Smoke05 SmokeFactionLarge
      ParticleSysBone    = Smoke06 SmokeFactionLarge
      ParticleSysBone    = Smoke07 SmokeFactionLarge
      ParticleSysBone    = Smoke08 SmokeFactionLarge
      ParticleSysBone    = Smoke09 SmokeFactionLarge
      ParticleSysBone    = Smoke10 SmokeFactionLarge
      ParticleSysBone    = Smoke11 SmokeFactionLarge
      ParticleSysBone    = Fire01 FireFactionLarge
      ParticleSysBone    = Fire02 FireFactionLarge
      ParticleSysBone    = Fire03 FireFactionLarge
      ParticleSysBone    = Fire04 FireFactionLarge
      ParticleSysBone    = Fire05 FireFactionLarge
      ParticleSysBone    = Fire06 FireFactionLarge
      ParticleSysBone    = Fire07 FireFactionLarge
      ParticleSysBone    = Fire08 FireFactionLarge
      ParticleSysBone    = Fire09 FireFactionLarge
      ParticleSysBone    = Fire10 FireFactionLarge
      ParticleSysBone    = Fire11 FireFactionLarge
    End

    ; SNOW RUBBLE *************************************
    ConditionState       = SNOW RUBBLE
      Model              = ZBHospital_RS
    End
    
    ; NIGHT SNOW ************************************
    ConditionState       = NIGHT SNOW
      Model              = ZBHospital_NS
      Animation          = ZBHospital_NS.ZBHospital_NS
      AnimationMode      = LOOP
    End
    
    ; NIGHT SNOW DAMAGED *********************************
    ConditionState       = NIGHT SNOW DAMAGED
      Model              = ZBHospital_DNS
      Animation          = ZBHospital_DNS.ZBHospital_DNS
      AnimationMode      = LOOP
      ParticleSysBone    = Smoke01 SmolderingSmoke
      ParticleSysBone    = Smoke02 SmolderingSmoke
      ParticleSysBone    = Smoke03 SmolderingSmoke
      ParticleSysBone    = Smoke04 SmolderingSmoke
      ParticleSysBone    = Smoke05 SmolderingSmoke
      ParticleSysBone    = Smoke06 SmolderingSmoke
      ParticleSysBone    = Smoke07 SmolderingSmoke
      ParticleSysBone    = Smoke08 SmolderingSmoke
      ParticleSysBone    = Smoke09 SmolderingSmoke
      ParticleSysBone    = Fire01 SmolderingFire
      ParticleSysBone    = Fire02 SmolderingFire
      ParticleSysBone    = Fire03 SmolderingFire
      ParticleSysBone    = Fire04 SmolderingFire
      ParticleSysBone    = Fire05 SmolderingFire
      ParticleSysBone    = Fire06 SmolderingFire
      ParticleSysBone    = Fire07 SmolderingFire
      ParticleSysBone    = Fire08 SmolderingFire
      ParticleSysBone    = Fire09 SmolderingFire
    End

    ; NIGHT SNOW REALLYDAMAGED ************************
    ConditionState       = NIGHT SNOW REALLYDAMAGED
      Model              = ZBHospital_ENS
      Animation          = ZBHospital_ENS.ZBHospital_ENS
      AnimationMode      = LOOP
      ParticleSysBone    = Smoke01 SmokeFactionLarge
      ParticleSysBone    = Smoke02 SmokeFactionLarge
      ParticleSysBone    = Smoke03 SmokeFactionLarge
      ParticleSysBone    = Smoke04 SmokeFactionLarge
      ParticleSysBone    = Smoke05 SmokeFactionLarge
      ParticleSysBone    = Smoke06 SmokeFactionLarge
      ParticleSysBone    = Smoke07 SmokeFactionLarge
      ParticleSysBone    = Smoke08 SmokeFactionLarge
      ParticleSysBone    = Smoke09 SmokeFactionLarge
      ParticleSysBone    = Smoke10 SmokeFactionLarge
      ParticleSysBone    = Smoke11 SmokeFactionLarge
      ParticleSysBone    = Fire01 FireFactionLarge
      ParticleSysBone    = Fire02 FireFactionLarge
      ParticleSysBone    = Fire03 FireFactionLarge
      ParticleSysBone    = Fire04 FireFactionLarge
      ParticleSysBone    = Fire05 FireFactionLarge
      ParticleSysBone    = Fire06 FireFactionLarge
      ParticleSysBone    = Fire07 FireFactionLarge
      ParticleSysBone    = Fire08 FireFactionLarge
      ParticleSysBone    = Fire09 FireFactionLarge
      ParticleSysBone    = Fire10 FireFactionLarge
      ParticleSysBone    = Fire11 FireFactionLarge
    End
    
    ; NIGHT SNOW RUBBLE ****************************
    ConditionState       = NIGHT SNOW RUBBLE
      Model              = ZBHospital_R
    End
    
  End

  ; ========================= Flag Model ===============================
  Draw = W3DModelDraw ModuleTag_02
    OkToChangeModelColor = Yes
    
    ; DEFAULT & DAMAGED ************************************************
    ConditionState  = NONE
      Model         = ZBHospital_F
      Animation     = ZBHospital_F.ZBHospital_F
      AnimationMode = LOOP
    End
    AliasConditionState = DAMAGED
    
    ; REALLYDAMAGED ****************************************************
    ConditionState  = REALLYDAMAGED
      Model         = ZBHospital_FE
      Animation     = ZBHospital_FE.ZBHospital_FE
      AnimationMode = LOOP
    End
    
    ; RUBBLE ***********************************************************
    ConditionState  = RUBBLE
      Model         = None
    End
    
  End
  
  ; ------------ New Animations fence -----------------
  Draw = W3DModelDraw ModuleTag_LightingAnimations
  AnimationsRequirePower = No
  
    DefaultConditionState
      Model           = ZBHospital_A1
      Animation       = ZBHospital_A1.ZBHospital_A1
      AnimationMode   = LOOP
    End
    
    ConditionState    = DAMAGED
      Model           = ZBHospital_A1D
      Animation       = ZBHospital_A1D.ZBHospital_A1D
      AnimationMode   = LOOP
    End
    
    ConditionState    = REALLYDAMAGED
      Model           = ZBHospital_A1E
      Animation       = ZBHospital_A1E.ZBHospital_A1E
      AnimationMode   = LOOP
    End
    
    ConditionState    = RUBBLE
      Model           = NONE
    End
    
  End
  
  ; *** AUDIO Parameters ***
  SoundOnDamaged        = BuildingDamagedStateLight
  SoundOnReallyDamaged  = BuildingDestroy

  ; ***DESIGN parameters ***
  DisplayName            = OBJECT:TechHospital
  EditorSorting          = STRUCTURE
  ShroudClearingRange    = 100
  ArmorSet
    Conditions           = None
    Armor                = StructureArmor
    DamageFX             = StructureDamageFXNoShake
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                 = STRUCTURE SELECTABLE IMMOBILE CAPTURABLE TECH_BUILDING CONSERVATIVE_BUILDING HEAL_PAD
  Body                   = ActiveBody ModuleTag_03
    MaxHealth            = 2000.0
    InitialHealth        = 2000.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 2200
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
  End

  Behavior = FlammableUpdate ModuleTag_05
    FlameDamageLimit      = 20    ; Catch fire if I take this much fire damage...
    FlameDamageExpiration = 2000  ; in a span of this long
    AflameDuration        = 5000  ; If I catch fire, I'll burn for this long...
    AflameDamageAmount    = 25    ; taking this much damage...
    AflameDamageDelay     = 500   ; this often.
  End
  
  Behavior             = FXListDie ModuleTag_06
    DeathFX            = FX_StructureMediumDeath
  End

  Behavior = TransitionDamageFX ModuleTag_07
    ;-------------DESIGNED FOR MEDIUM SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionMediumExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionMediumShockwave
  End

  Behavior = TechBuildingBehavior ModuleTag_08
    ;<NO DATA>
  End

  Behavior = AutoHealBehavior ModuleTag_09
    HealingAmount     = 2
    HealingDelay      = 1000 ; msec
    AffectsWholePlayer = Yes
    StartsActive      = Yes
    KindOf            = INFANTRY
  End

  Behavior = FXListDie ModuleTag_10
    DeathFX = FX_BuildingDie
  End

  Behavior = HealContain ModuleTag_12
    ContainMax          = 10         ;way bigger than the # of objects we can have  
    TimeForFullHeal     = 2000       ;(in milliseconds)
    AllowInsideKindOf   = INFANTRY
    AllowAlliesInside   = Yes
    AllowNeutralInside  = No
    AllowEnemiesInside  = No
  End

  Geometry              = BOX
  GeometryMajorRadius   = 35.0
  GeometryMinorRadius   = 58.0
  GeometryHeight        = 69.0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME

End
;------------------------------------------------------------------------------
Object TechHospitalBib

  ; *** ART Parameters ***
  Draw = W3DModelDraw ModuleTag_01

  
    ConditionState = NONE
      Model = ZBHospibib
    End
    ConditionState = DAMAGED
      Model = ZBHospibib_D
    End
    ConditionState = REALLYDAMAGED
      Model = ZBHospibib_E
    End
    ConditionState = SNOW
      Model = ZBHospibib_S
    End
    ConditionState = SNOW DAMAGED
      Model = ZBHospibib_DS
    End
    ConditionState = SNOW REALLYDAMAGED
      Model = ZBHospibib_ES
    End
  End

  ; ***DESIGN parameters ***
  EditorSorting   = STRUCTURE

  ; *** ENGINEERING Parameters ***  
  Body            = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
    InitialHealth   = 2000.0
  End
  ArmorSet
    Conditions      = None
    Armor           = StructureArmor
    DamageFX        = StructureDamageFXNoShake
  End
  KindOf          = STRUCTURE IMMOBILE
  Shadow          = SHADOW_VOLUME

End

;------------------------------------------------------------------------------
Object TechOilDerrick

  ; *** ART Parameters ***
  SelectPortrait         = SSTechOilDerrick_L
  UpgradeCameo1          = Upgrade_AmericaSupplyLines
  
  ; ========================= Main Model ===============================
  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes
  
    ; DAY **************************************************************
    ConditionState  = NONE
      Model         = ZBODerrick
    End
    ConditionState  = CAPTURED
      Model         = ZBODerrick
      Animation     = ZBODerrick.ZBODerrick
      AnimationMode = LOOP
    End
    
    ; DAMAGED **********************************************************
    ConditionState  = DAMAGED
      Model         = ZBODerrick_D
    End
    ConditionState  = DAMAGED CAPTURED
      Model         = ZBODerrick_D
      Animation     = ZBODerrick_D.ZBODerrick_D
      AnimationMode = LOOP
    End
    
    ; REALLYDAMAGED ****************************************************
    ConditionState  = REALLYDAMAGED
      Model         = ZBODerrick_E
    End
    ConditionState  = REALLYDAMAGED CAPTURED
      Model         = ZBODerrick_E
      Animation     = ZBODerrick_E.ZBODerrick_E
      AnimationMode = LOOP
    End

    ; RUBBLE ***********************************************************
    ConditionState  = RUBBLE
      Model         = ZBODerrick_R
    End

    ; NIGHT ************************************************************
    ConditionState  = NIGHT
      Model         = ZBODerrick_N
    End
    ConditionState  = NIGHT CAPTURED
      Model         = ZBODerrick_N
      Animation     = ZBODerrick_N.ZBODerrick_N
      AnimationMode = LOOP
    End
    
    ; NIGHT DAMAGED ****************************************************
    ConditionState  = DAMAGED NIGHT
      Model         = ZBODerrick_DN
    End
    ConditionState  = DAMAGED NIGHT CAPTURED
      Model         = ZBODerrick_DN
      Animation     = ZBODerrick_DN.ZBODerrick_DN
      AnimationMode = LOOP
    End
    
    ; NIGHT REALLYDAMAGED **********************************************
    ConditionState  = REALLYDAMAGED NIGHT
      Model         = ZBODerrick_EN
    End
    ConditionState  = REALLYDAMAGED NIGHT CAPTURED
      Model         = ZBODerrick_EN
      Animation     = ZBODerrick_EN.ZBODerrick_EN
      AnimationMode = LOOP
    End

    ; NIGHT RUBBLE *****************************************************
    ConditionState  = NIGHT RUBBLE
      Model         = ZBODerrick_R
    End
    
    ; SNOW *************************************************************
    ConditionState  = SNOW
      Model         = ZBODerrick_S
    End
    ConditionState  = SNOW CAPTURED
      Model         = ZBODerrick_S
      Animation     = ZBODerrick_S.ZBODerrick_S
      AnimationMode = LOOP
    End
    
    ; SNOW DAMAGED *****************************************************
    ConditionState  = DAMAGED SNOW
      Model         = ZBODerrick_DS
    End
    ConditionState  = DAMAGED SNOW CAPTURED
      Model         = ZBODerrick_DS
      Animation     = ZBODerrick_DS.ZBODerrick_DS
      AnimationMode = LOOP
    End
    
    ; SNOW REALLYDAMAGED ***********************************************
    ConditionState  = REALLYDAMAGED SNOW
      Model         = ZBODerrick_ES
    End
    ConditionState  = REALLYDAMAGED SNOW CAPTURED
      Model         = ZBODerrick_ES
      Animation     = ZBODerrick_ES.ZBODerrick_ES
      AnimationMode = LOOP
    End

    ; SNOW RUBBLE ******************************************************
    ConditionState  = SNOW RUBBLE
      Model         = ZBODerrick_RS
    End
    
    ; SNOW NIGHT *******************************************************
    ConditionState  = SNOW NIGHT
      Model         = ZBODerrick_NS
    End
    ConditionState  = SNOW NIGHT CAPTURED
      Model         = ZBODerrick_NS
      Animation     = ZBODerrick_NS.ZBODerrick_NS
      AnimationMode = LOOP
    End
    
    ; SNOW NIGHT DAMAGED ***********************************************
    ConditionState  = SNOW NIGHT DAMAGED
      Model         = ZBODerrick_DNS
    End
    ConditionState  = SNOW NIGHT DAMAGED CAPTURED
      Model         = ZBODerrick_DNS
      Animation     = ZBODerrick_DNS.ZBODerrick_DNS
      AnimationMode = LOOP
    End
    
    ; SNOW NIGHT REALLYDAMAGED *****************************************
    ConditionState  = SNOW NIGHT REALLYDAMAGED
      Model         = ZBODerrick_ENS
    End
    ConditionState  = SNOW NIGHT REALLYDAMAGED CAPTURED
      Model         = ZBODerrick_ENS
      Animation     = ZBODerrick_EN.ZBODerrick_ENS
      AnimationMode = LOOP
    End
    
    ; SNOW NIGHT RUBBLE ************************************************
    ConditionState  = SNOW NIGHT RUBBLE
      Model         = ZBODerrick_RS
    End
    
  End

  ; ========================= Flag Model ===============================
  Draw = W3DModelDraw ModuleTag_02
    OkToChangeModelColor = Yes
    
    ; DEFAULT & DAMAGED ************************************************
    ConditionState  = NONE
      Model         = ZBODerrick_F
      Animation     = ZBODerrick_F.ZBODerrick_F
      AnimationMode = LOOP
    End
    AliasConditionState = DAMAGED
    
    ; REALLYDAMAGED*****************************************************
    ConditionState  = REALLYDAMAGED
      Model         = ZBODerrick_FE
      Animation     = ZBODerrick_FE.ZBODerrick_FE
      AnimationMode = LOOP
    End
    
    ; RUBBLE ***********************************************************
    ConditionState  = RUBBLE
      Model         = None
    End
 End
     ; ------------ New Animations fence -----------------
  Draw = W3DModelDraw ModuleTag_LightingAnimations
  AnimationsRequirePower = No
  
    DefaultConditionState
      Model           = ZBODerrick_A1
      Animation       = ZBODerrick_A1.ZBODerrick_A1
      AnimationMode   = LOOP
    End
    
    ConditionState    = DAMAGED
      Model           = ZBODerrick_A1D
      Animation       = ZBODerrick_A1D.ZBODerrick_A1D
      AnimationMode   = LOOP
    End
    
    ConditionState    = REALLYDAMAGED
      Model           = ZBODerrick_A1E
      Animation       = ZBODerrick_A1E.ZBODerrick_A1E
      AnimationMode   = LOOP
    End
    
    ConditionState    = RUBBLE
      Model           = NONE
    End
    
  End
  
  ; *** AUDIO Parameters ***
  SoundOnDamaged        = BuildingDamagedStateLight
  SoundOnReallyDamaged  = BuildingDestroy

;  SoundAmbient          = OilDerrickAmbientLoop
  
  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:TechOilDerrick
  EditorSorting   = STRUCTURE
  ShroudClearingRange = 100
  ArmorSet
    Conditions      = None
    Armor           = StructureArmor
    DamageFX        = StructureDamageFXNoShake
  End

  ; *** ENGINEERING Parameters ***  
  KindOf            = STRUCTURE SELECTABLE IMMOBILE CAPTURABLE TECH_BUILDING CONSERVATIVE_BUILDING
  Body              = ActiveBody ModuleTag_03
    MaxHealth       = 1000.0
    InitialHealth   = 1000.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 1200
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
  End

;fixed from 200$/12sec (above) to 50$/3sec
  Behavior              = AutoDepositUpdate ModuleTag_04
    DepositTiming       = 3000 ;12000  ; in milliseconds
    DepositAmount       = 50 ;200    ; cash amount to deposit every Deposit Timings
    InitialCaptureBonus = 1000   ;capture bonus only happens once
    ;UpgradedBoost       = UpgradeType:Upgrade_AmericaSupplyLines Boost:20
    UpgradedBoost       = UpgradeType:Upgrade_AmericaSupplyLines Boost:5
  End
    
  Behavior                = FlammableUpdate ModuleTag_05
    FlameDamageLimit      = 20    ; Catch fire if I take this much fire damage...
    FlameDamageExpiration = 2000  ; in a span of this long
    AflameDuration        = 5000  ; If I catch fire, I'll burn for this long...
    AflameDamageAmount    = 25    ; taking this much damage...
    AflameDamageDelay     = 500   ; this often.
  End
  
  Behavior             = FXListDie ModuleTag_07
    DeathFX            = WeaponFX_BombTruckDefaultBombDetonation
  End

  Behavior = TransitionDamageFX ModuleTag_08
    ;-------------DESIGNED FOR MEDIUM SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
  End

  Behavior = TechBuildingBehavior ModuleTag_09
    ;<NO DATA>
  End

  Behavior = FXListDie ModuleTag_10
    DeathFX = FX_BuildingDie
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End

  Behavior = FireWeaponWhenDeadBehavior ModuleTag_DeathEFX   ;Now with flame explosion like RA2
    DeathWeapon     = OilDerrickDetonationDamage
    StartsActive    = Yes
  End

  Geometry              = BOX
  GeometryMajorRadius   = 23.0
  GeometryMinorRadius   = 21.0
  GeometryHeight        = 30.0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME


End

;------------------------------------------------------------------------------
Object TechOilRefinery

  ; *** ART Parameters ***
  SelectPortrait         = SSTechOilRefinery_L
  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes
    ; DAY ********************************************
    ConditionState     = NONE
      Model            = ZBRefinery
      Animation        = ZBRefinery.ZBRefinery
      AnimationMode    = LOOP
      HideSubObject    = RedLight01 RedLight02 RedLight03 RedLight04
      ParticleSysBone  = Smoke01 SteamVent
      ParticleSysBone  = Smoke02 SteamVent
      ParticleSysBone  = Fire01 FireBurningBarricade01
    End
    ; DAMAGED ********************************************
    ConditionState     = DAMAGED
      Model            = ZBRefinery_D
      Animation        = ZBRefinery_D.ZBRefinery_D
      AnimationMode    = LOOP
      HideSubObject    = RedLight01 RedLight02 RedLight03
      ParticleSysBone  = Smoke01 SteamVent
      ParticleSysBone  = Smoke02 SteamVent
      ParticleSysBone  = Smoke03 SmolderingSmoke
      ParticleSysBone  = Smoke04 SmolderingSmoke
      ParticleSysBone  = Smoke05 SmolderingSmoke
      ParticleSysBone  = Fire01 FireBurningBarricade01
    End
    ; REALLYDAMAGED ****************************************
    ConditionState     = REALLYDAMAGED
      Model            = ZBRefinery_E
      Animation        = ZBRefinery_E.ZBRefinery_E
      AnimationMode    = LOOP
      HideSubObject    = RedLight02 RedLight03 RedLight04
      ParticleSysBone  = Smoke01 SteamVent
      ParticleSysBone  = Smoke02 SteamVent
      ParticleSysBone  = Smoke03 SmolderingSmoke
      ParticleSysBone  = Smoke04 SmokeFactionLarge
      ParticleSysBone  = Smoke05 SmokeFactionLarge
      ParticleSysBone  = Smoke06 SmokeFactionLarge
      ParticleSysBone  = Fire01 FireBurningBarricade01
      ParticleSysBone  = Fire02 SmolderingFire
      ParticleSysBone  = Fire03 FireFactionLarge
      ParticleSysBone  = Fire04 FireFactionLarge
      ParticleSysBone  = Fire05 FireFactionLarge
    End
    ; RUBBLE *********************************************    
    ConditionState     = RUBBLE
      Model            = ZBRefinery_R
    End

    ; NIGHT ********************************************
    ConditionState     = NIGHT
      Model            = ZBRefinery_N
      Animation        = ZBRefinery_N.ZBRefinery_N
      AnimationMode    = LOOP
      ParticleSysBone  = Smoke01 SteamVent
      ParticleSysBone  = Smoke02 SteamVent
      ParticleSysBone  = Fire01 FireBurningBarricade01
    End
    ; NIGHT DAMAGED ********************************************
    ConditionState     = NIGHT DAMAGED
      Model            = ZBRefinery_DN
      Animation        = ZBRefinery_DN.ZBRefinery_DN
      AnimationMode    = LOOP
      ParticleSysBone  = Smoke01 SteamVent
      ParticleSysBone  = Smoke02 SteamVent
      ParticleSysBone  = Smoke03 SmolderingSmoke
      ParticleSysBone  = Smoke04 SmolderingSmoke
      ParticleSysBone  = Smoke05 SmolderingSmoke
      ParticleSysBone  = Fire01 FireBurningBarricade01
    End
    ; NIGHT REALLYDAMAGED ********************************************
    ConditionState     = NIGHT REALLYDAMAGED 
      Model            = ZBRefinery_EN
      Animation        = ZBRefinery_EN.ZBRefinery_EN
      AnimationMode    = LOOP
      ParticleSysBone  = Smoke01 SteamVent
      ParticleSysBone  = Smoke02 SteamVent
      ParticleSysBone  = Smoke03 SmolderingSmoke
      ParticleSysBone  = Smoke04 SmokeFactionLarge
      ParticleSysBone  = Smoke05 SmokeFactionLarge
      ParticleSysBone  = Smoke06 SmokeFactionLarge
      ParticleSysBone  = Fire01 FireBurningBarricade01
      ParticleSysBone  = Fire02 SmolderingFire
      ParticleSysBone  = Fire03 FireFactionLarge
      ParticleSysBone  = Fire04 FireFactionLarge
      ParticleSysBone  = Fire05 FireFactionLarge
    End
    ; NIGHT RUBBLE ****************************************
    ConditionState     = NIGHT RUBBLE
      Model            = ZBRefinery_R
    End

    ; SNOW ********************************************
    ConditionState     = SNOW
      Model            = ZBRefinery_S
      Animation        = ZBRefinery_S.ZBRefinery_S
      AnimationMode    = LOOP
      HideSubObject    = RedLight01 RedLight02 RedLight03 RedLight04 Pole HouseColor02 HouseColor03 HouseColor04 Flag01A Flag01B Flag01C
      ParticleSysBone  = Smoke01 SteamVent
      ParticleSysBone  = Smoke02 SteamVent
      ParticleSysBone  = Fire01 FireBurningBarricade01
    End
    ; SNOW DAMAGED ********************************************
    ConditionState     = SNOW DAMAGED
      Model            = ZBRefinery_DS
      Animation        = ZBRefinery_DS.ZBRefinery_DS
      AnimationMode    = LOOP
      HideSubObject    = RedLight01 RedLight02 RedLight03
      ParticleSysBone  = Smoke01 SteamVent
      ParticleSysBone  = Smoke02 SteamVent
      ParticleSysBone  = Smoke03 SmolderingSmoke
      ParticleSysBone  = Smoke04 SmolderingSmoke
      ParticleSysBone  = Smoke05 SmolderingSmoke
      ParticleSysBone  = Fire01 FireBurningBarricade01
    End
    ; SNOW REALLYDAMAGED ********************************************
    ConditionState     = SNOW REALLYDAMAGED
      Model            = ZBRefinery_ES
      Animation        = ZBRefinery_ES.ZBRefinery_ES
      AnimationMode    = LOOP
      HideSubObject    = RedLight02 RedLight03 RedLight04
      ParticleSysBone  = Smoke01 SteamVent
      ParticleSysBone  = Smoke02 SteamVent
      ParticleSysBone  = Smoke03 SmolderingSmoke
      ParticleSysBone  = Smoke04 SmokeFactionLarge
      ParticleSysBone  = Smoke05 SmokeFactionLarge
      ParticleSysBone  = Smoke06 SmokeFactionLarge
      ParticleSysBone  = Fire01 FireBurningBarricade01
      ParticleSysBone  = Fire02 SmolderingFire
      ParticleSysBone  = Fire03 FireFactionLarge
      ParticleSysBone  = Fire04 FireFactionLarge
      ParticleSysBone  = Fire05 FireFactionLarge
    End
    ; SNOW RUBBLE ****************************************
    ConditionState     = SNOW RUBBLE
      Model            = ZBRefinery_RS
    End

    ; NIGHT SNOW ********************************************
    ConditionState     = NIGHT SNOW
      Model            = ZBRefinery_NS
      Animation        = ZBRefinery_NS.ZBRefinery_NS
      AnimationMode    = LOOP
      ParticleSysBone  = Smoke01 SteamVent
      ParticleSysBone  = Smoke02 SteamVent
      ParticleSysBone  = Fire01 FireBurningBarricade01
    End
    ; NIGHT SNOW DAMAGED ********************************************
    ConditionState     = NIGHT SNOW DAMAGED
      Model            = ZBRefinery_DNS
      Animation        = ZBRefinery_DNS.ZBRefinery_DNS
      AnimationMode    = LOOP
      ParticleSysBone  = Smoke01 SteamVent
      ParticleSysBone  = Smoke02 SteamVent
      ParticleSysBone  = Smoke03 SmolderingSmoke
      ParticleSysBone  = Smoke04 SmolderingSmoke
      ParticleSysBone  = Smoke05 SmolderingSmoke
      ParticleSysBone  = Fire01 FireBurningBarricade01
    End
    ; NIGHT SNOW REALLYDAMAGED ********************************************
    ConditionState     = NIGHT SNOW REALLYDAMAGED
      Model            = ZBRefinery_ENS
      Animation        = ZBRefinery_ENS.ZBRefinery_ENS
      AnimationMode    = LOOP
      ParticleSysBone  = Smoke01 SteamVent
      ParticleSysBone  = Smoke02 SteamVent
      ParticleSysBone  = Smoke03 SmolderingSmoke
      ParticleSysBone  = Smoke04 SmokeFactionLarge
      ParticleSysBone  = Smoke05 SmokeFactionLarge
      ParticleSysBone  = Smoke06 SmokeFactionLarge
      ParticleSysBone  = Fire01 FireBurningBarricade01
      ParticleSysBone  = Fire02 SmolderingFire
      ParticleSysBone  = Fire03 FireFactionLarge
      ParticleSysBone  = Fire04 FireFactionLarge
      ParticleSysBone  = Fire05 FireFactionLarge
    End
    ; NIGHT SNOW RUBBLE ****************************************
    ConditionState     = NIGHT SNOW RUBBLE
      Model            = ZBRefinery_RS
    End
    
  End

  ; ========================= Flag Model ===============================
  Draw = W3DModelDraw ModuleTag_02
    OkToChangeModelColor = Yes
    
    ; DEFAULT & DAMAGED ************************************************
    ConditionState  = NONE
      Model         = ZBRefinery_F
      Animation     = ZBRefinery_F.ZBRefinery_F
      AnimationMode = LOOP
    End
    AliasConditionState = DAMAGED
    
    ; REALLYDAMAGED *****************************************************
    ConditionState  = REALLYDAMAGED
      Model         = ZBRefinery_FE
      Animation     = ZBRefinery_FE.ZBRefinery_FE
      AnimationMode = LOOP
    End
    
    ; RUBBLE ***********************************************************
    ConditionState  = RUBBLE
      Model         = None
    End
    
  End
; ------------ New Animations fence -----------------  ;Not used anymore
;  Draw = W3DModelDraw ModuleTag_LightingAnimations
;  AnimationsRequirePower = No
;  
;    ConditionState    = NIGHT
;      Model           = ZBRefinery_A1
;      Animation       = ZBRefinery_A1.ZBRefinery_A1
;      AnimationMode   = LOOP
;    End
;    
;    ConditionState    = NIGHT
;      Model           = ZBRefinery_A1
;      Animation       = ZBRefinery_A1.ZBRefinery_A1
;      AnimationMode   = LOOP
;    End
;    
;    ConditionState    = DAMAGED
;      Model           = ZBRefinery_A1D
;      Animation       = ZBRefinery_A1D.ZBRefinery_A1D
;      AnimationMode   = LOOP
;    End
;    
;    ConditionState    = REALLYDAMAGED
;      Model           = ZBRefinery_A1E
;      Animation       = ZBRefinery_A1E.ZBRefinery_A1E
;      AnimationMode   = LOOP
;    End
;    
;    ConditionState    = RUBBLE
;      Model           = NONE
;    End
;    
;  End

  ; *** AUDIO Parameters ***
  SoundOnDamaged        = BuildingDamagedStateLight
  SoundOnReallyDamaged  = BuildingDestroy

  
  ; ***DESIGN parameters ***
  DisplayName          = OBJECT:TechOilRefinery
  EditorSorting        = STRUCTURE
  ShroudClearingRange  = 100

  ; *** ENGINEERING Parameters ***  
  KindOf               = STRUCTURE SELECTABLE IMMOBILE CAPTURABLE TECH_BUILDING CONSERVATIVE_BUILDING
  Body                 = ActiveBody ModuleTag_03
    MaxHealth          = 2000.0
    InitialHealth      = 2000.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 2200
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
  End
  ArmorSet
    Conditions = None
    Armor      = StructureArmor
    DamageFX   = StructureDamageFXNoShake
  End
  
  Behavior         = GrantUpgradeCreate ModuleTag_04
    UpgradeToGrant = Upgrade_CostReduction
  End
  Behavior       = CostModifierUpgrade ModuleTag_05
    TriggeredBy  = Upgrade_CostReduction
    EffectKindOf = VEHICLE
    Percentage   = -10%
  End
  
  Behavior                = FlammableUpdate ModuleTag_07
    FlameDamageLimit      = 20    ; Catch fire if I take this much fire damage...
    FlameDamageExpiration = 2000  ; in a span of this long
    AflameDuration        = 5000  ; If I catch fire, I'll burn for this long...
    AflameDamageAmount    = 25    ; taking this much damage...
    AflameDamageDelay     = 500   ; this often.
  End

  Behavior             = FXListDie ModuleTag_08
    DeathFX            = WeaponFX_BombTruckHighExplosiveBombDetonation
  End

  Behavior = TransitionDamageFX ModuleTag_09
    ;-------------DESIGNED FOR MEDIUM SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionMediumExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionMediumShockwave
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End

  Behavior = TechBuildingBehavior ModuleTag_10
    ;<NO DATA>
  End

  Behavior = FXListDie ModuleTag_11
    DeathFX = FX_BuildingDie
  End

  Behavior = FireWeaponWhenDeadBehavior ModuleTag_DeathEFX   ;Now with flame explosion like RA2
    DeathWeapon     = OilDerrickDetonationDamage
    StartsActive    = Yes
  End

  Geometry             = BOX
  GeometryMajorRadius  = 37.0
  GeometryMinorRadius  = 40.0
  GeometryHeight       = 60.0
  GeometryIsSmall      = No
  Shadow               = SHADOW_VOLUME

End

;------------------------------------------------------------------------------
Object NuclearBunker                              ;tech power plant   ;nproject

  ; *** ART Parameters ***
  SelectPortrait = SSNukeBunker_L

  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes
    
    ; day
    ConditionState = NONE
      Model         = CBNukeBunk2
      Animation     = CBNukeBunk2.CBNukeBunk2
      AnimationMode = LOOP
    End
    ConditionState = DAMAGED
      Model         = CBNukeBunk2_D
      Animation     = CBNukeBunk2_D.CBNukeBunk2_D
      AnimationMode = LOOP
    End
    ConditionState = REALLYDAMAGED
      Model         = CBNukeBunk2_E
      Animation     = CBNukeBunk2_E.CBNukeBunk2_E
      AnimationMode = LOOP
    End
    ConditionState = RUBBLE
      Model         = CBNukeBunk2_R
    End
  End

  ;Draw = W3DModelDraw ModuleTag_TechFlag
  ;  OkToChangeModelColor = Yes
  ;  DefaultConditionState
  ;    Model         = ZBFlag
  ;    Animation     = ZBFlag.ZBFlag
  ;    AnimationMode = LOOP
  ;  End    
  ;  ConditionState = REALLYDAMAGED
  ;    Model         = ZBFlag_E
  ;    Animation     = ZBFlag_E.ZBFlag_E
  ;    AnimationMode = LOOP
  ;  End
  ;  ConditionState = RUBBLE
  ;    Model         = None
  ;  End
  ;End

  ; *** AUDIO Parameters ***
  SoundOnDamaged        = BuildingDamagedStateLight
  SoundOnReallyDamaged  = BuildingDestroy

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:BunkerNuke
  EditorSorting   = STRUCTURE
  ShroudClearingRange = 100
  EnergyProduction = 10
  ArmorSet
    Conditions      = None
    Armor           = StructureArmor
    DamageFX        = StructureDamageFXNoShake
  End

  ; *** ENGINEERING Parameters ***  
  RadarPriority       = STRUCTURE
  KindOf              = STRUCTURE SELECTABLE IMMOBILE TECH_BUILDING CAPTURABLE CONSERVATIVE_BUILDING
  Body                = StructureBody ModuleTag_02
    MaxHealth       = 2000.0
    InitialHealth   = 2000.0
  End

  Behavior = FlammableUpdate ModuleTag_05
    FlameDamageLimit = 20         ;Catch fire if I take this much fire damage...
    FlameDamageExpiration = 2000  ;in a span of this long
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 25       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End
  
  Behavior = TransitionDamageFX ModuleTag_06
    ;-------------DESIGNED FOR MEDIUM SIZED CIVILIAN BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1          = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionMediumExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionMediumShockwave
    ;--------------------------------------------------------------------------------------
    RubbleParticleSystem1              = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    RubbleParticleSystem2              = Bone:None RandomBone:No PSys:StructureTransitionMediumExplosion
    RubbleParticleSystem3              = Bone:None RandomBone:No PSys:StructureTransitionMediumShockwave
    RubbleParticleSystem4              = Bone:None RandomBone:No PSys:StructureTransitionMediumFlare   
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End

  Behavior = FireWeaponWhenDeadBehavior ModuleTag_07
    DeathWeapon = ChinaPowerPlantDeathWeapon
    StartsActive  = Yes
  End

  Behavior = FireWeaponWhenDamagedBehavior ModuleTag_Reactive01
    StartsActive = Yes
    ContinuousWeaponDamaged         = SmallRadiationFieldWeapon 
    ContinuousWeaponReallyDamaged   = MediumRadiationFieldWeapon
    DamageTypes = ALL
    DamageAmount = 1  ; if damage is >= this value, fire the weapon
  End

  Behavior = TechBuildingBehavior ModuleTag_Tech
    ;<NO DATA>
  End

  Behavior = FXListDie ModuleTag_08
    DeathFX = FX_BuildingDie
  End

  Geometry            = BOX
  GeometryMajorRadius = 48.0
  GeometryMinorRadius = 66.0
  GeometryHeight      = 22.0
  GeometryIsSmall     = No
  Shadow              = SHADOW_VOLUME

End

;------------------------------------------------------------------------------
Object ChemicalBunker                             ;tech power plant   ;nproject

  ; *** ART Parameters ***
  SelectPortrait = SSChemBunk_L
  Draw = W3DModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    ; day
    ConditionState = NONE
      Model        = CBChemBunk
    End
    ConditionState = DAMAGED
      Model        = CBChemBunk_D
    End
    ConditionState = REALLYDAMAGED
      Model        = CBChemBunk_E
    End
    ConditionState = RUBBLE
      Model        = CBChemBunk_R
    End
    ConditionState = GARRISONED
      Model         = CBChemBunk_G
      Animation     = CBChemBunk_G.CBChemBunk_G
      AnimationMode = LOOP
    End
    ConditionState = DAMAGED GARRISONED
      Model         = CBChemBunk_DG
      Animation     = CBChemBunk_DG.CBChemBunk_DG
      AnimationMode = LOOP
    End

    
    ; night
    ConditionState = NIGHT
      Model        = CBChemBunk_N
    End
    ConditionState = DAMAGED NIGHT
      Model        = CBChemBunk_DN
    End
    ConditionState = REALLYDAMAGED NIGHT
      Model        = CBChemBunk_EN
    End
    ConditionState = RUBBLE NIGHT
      Model        = CBChemBunk_RN
    End
    ConditionState = GARRISONED NIGHT
      Model         = CBChemBunk_NG
      Animation     = CBChemBunk_NG.CBChemBunk_NG
      AnimationMode = LOOP
    End
    ConditionState = DAMAGED GARRISONED NIGHT
      Model         = CBChemBunk_DNG
      Animation     = CBChemBunk_DNG.CBChemBunk_DNG
      AnimationMode = LOOP
    End

    
    ; Snow
    ConditionState = SNOW
      Model        = CBChemBunk_S
    End
    ConditionState = DAMAGED SNOW
      Model        = CBChemBunk_DS
    End
    ConditionState = REALLYDAMAGED SNOW
      Model        = CBChemBunk_ES
    End
    ConditionState = RUBBLE SNOW
      Model        = CBChemBunk_RS
    End
    ConditionState = GARRISONED SNOW
      Model         = CBChemBunk_SG
      Animation     = CBChemBunk_SG.CBChemBunk_SG
      AnimationMode = LOOP
    End
    ConditionState = DAMAGED GARRISONED SNOW
      Model         = CBChemBunk_DSG
      Animation     = CBChemBunk_DSG.CBChemBunk_DSG
      AnimationMode = LOOP
    End

    
    ; night snow
    ConditionState = SNOW NIGHT
      Model        = CBChemBunk_SN
    End
    ConditionState = DAMAGED SNOW NIGHT
      Model        = CBChemBunk_DSN
    End
    ConditionState = REALLYDAMAGED SNOW NIGHT
      Model        = CBChemBunk_ESN
    End
    ConditionState = RUBBLE SNOW NIGHT
      Model        = CBChemBunk_RSN
    End
    ConditionState = GARRISONED SNOW NIGHT
      Model         = CBChemBunk_SNG
      Animation     = CBChemBunk_SNG.CBChemBunk_SNG
      AnimationMode = LOOP
    End
    ConditionState = DAMAGED GARRISONED SNOW NIGHT
      Model         = CBChemBunk_DSNG
      Animation     = CBChemBunk_DSNG.CBChemBunk_DSNG
      AnimationMode = LOOP
    End
    
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:BunkerChem
  EditorSorting       = STRUCTURE
  ShroudClearingRange = 100
  EnergyProduction    = 5

  ; ***AUDIO parameters ***
  SoundAmbientDamaged = ChemBunkerDamagedAmbientLoop
  SoundAmbientReallyDamaged = ChemBunkerDamagedAmbientLoop

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE TECH_BUILDING CAPTURABLE CONSERVATIVE_BUILDING
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
    InitialHealth   = 2000.0
  End
  ArmorSet
    Conditions      = None
    Armor           = StructureArmor
    DamageFX        = StructureDamageFXNoShake
  End


  Behavior = FireWeaponWhenDeadBehavior     ModuleTag_ChangeDeathWeapon
    DeathWeapon   = AnthraxBombWeapon
    StartsActive  = Yes
  End

  Behavior = FireWeaponWhenDamagedBehavior     ModuleTag_SoloMissionChange
    StartsActive = Yes
    ContinuousWeaponDamaged         = SmallPoisonFieldWeaponUpgraded
    ContinuousWeaponReallyDamaged   = MediumPoisonFieldWeaponUpgraded
    DamageTypes = ALL
    DamageAmount = 1  ; if damage is >= this value, fire the weapon
  End

;This module never worked, makes the bunker can't be captured
;------------------------------------------------------------
;  Behavior = GarrisonContain ModuleTag_SoloMissionChange02
;    ContainMax                    = 8
;    EnterSound                    = GarrisonEnter
;    ExitSound                     = GarrisonExit
;  End

  Behavior = FXListDie ModuleTag_05
    DeathFX = WeaponFX_BombTruckHighExplosiveAnthraxBombDetonation
    OrientToObject = No
  End

  Behavior = TechBuildingBehavior ModuleTag_Tech
    ;<NO DATA>
  End
    
  Behavior                = TransitionDamageFX ModuleTag_06
    DamagedFXList1        = Loc: X:0 Y:0 Z:0 FXList:FX_ToxicBunkerDamageTransition
    ReallyDamagedFXList1  = Loc: X:0 Y:0 Z:0 FXList:FX_ToxicBunkerDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_07
    FlameDamageLimit = 20         ;Catch fire if I take this much fire damage...
    FlameDamageExpiration = 2000  ;in a span of this long
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 25       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Geometry              = BOX
  GeometryMajorRadius   = 28.0
  GeometryMinorRadius   = 36.0
  GeometryHeight        = 22.0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME

End

;//////////////////////////////////////
; MOVED FROM CivilianBuilding.ini      --- END HERE
;//////////////////////////////////////



;------------------------------------------------------------------------------
Object TechArtilleryPlatform

  ; *** ART Parameters ***
  SelectPortrait         = SAArtillery_L
  ButtonImage            = SAArtillery
  
  
  ; ========================= Main Model ===============================
  Draw = W3DModelDraw ModuleTag_01

    IgnoreConditionStates = CAPTURED
    OkToChangeModelColor = Yes

    InitialRecoilSpeed = 110
    MaxRecoilDistance  = 5.0
    RecoilSettleSpeed  = 10.0
    RecoilDamping      = 0.25

    ; DAY **************************************************************
    DefaultConditionState
      Model                           = ZBARTPLAT
      Turret                          = Turret01
      TurretPitch                     = TurretEL
      WeaponLaunchBone                = PRIMARY Muzzle
      WeaponMuzzleFlash               = PRIMARY MuzzleFX
      WeaponFireFXBone                = PRIMARY Muzzle
      WeaponRecoilBone                = PRIMARY BARREL
    End
    ConditionState  = DAMAGED
      Model         = ZBARTPLAT_D
    End
    ConditionState  = REALLYDAMAGED
      Model         = ZBARTPLAT_E
    End
    ConditionState  = RUBBLE
      Model         = ZBARTPLAT_R
    End

    ; NIGHT ************************************************************
    ConditionState  = NIGHT
      Model         = ZBARTPLAT_N
    End
    ConditionState  = DAMAGED NIGHT
      Model         = ZBARTPLAT_ND
    End
    ConditionState  = REALLYDAMAGED NIGHT
      Model         = ZBARTPLAT_NE
    End
    ConditionState  = NIGHT RUBBLE
      Model         = ZBARTPLAT_R
    End
    
    ; SNOW *************************************************************
    ConditionState  = SNOW
      Model         = ZBARTPLAT_S
    End
    ConditionState  = DAMAGED SNOW
      Model         = ZBARTPLAT_DS
    End
    ConditionState  = REALLYDAMAGED SNOW
      Model         = ZBARTPLAT_ES
    End
    ConditionState  = SNOW RUBBLE
      Model         = ZBARTPLAT_RS
    End
    
    ; SNOW NIGHT *******************************************************
    ConditionState  = SNOW NIGHT
      Model         = ZBARTPLAT_NS
    End
    ConditionState  = SNOW NIGHT DAMAGED
      Model         = ZBARTPLAT_DNS
    End
    ConditionState  = SNOW NIGHT REALLYDAMAGED
      Model         = ZBARTPLAT_ENS
    End
    ConditionState  = SNOW NIGHT RUBBLE
      Model         = ZBARTPLAT_RS
    End
    
    ;----- in-case the artillery using another weapon slot ----- free to use
    ;ConditionState  = USING_WEAPON_B
    ;  WeaponRecoilBone = PRIMARY None
    ;  WeaponRecoilBone = SECONDARY BARREL
    ;End
    ;ConditionState  = USING_WEAPON_C
    ;  WeaponRecoilBone = PRIMARY None
    ;  WeaponRecoilBone = TERTIARY BARREL
    ;End
    
  End

  ; ========================= Flag Model ===============================
  Draw = W3DModelDraw ModuleTag_02
    OkToChangeModelColor = Yes
    
    ; DEFAULT & DAMAGED ************************************************
    ConditionState  = NONE
      Model         = ZBODerrick_F
      Animation     = ZBODerrick_F.ZBODerrick_F
      AnimationMode = LOOP
    End
    AliasConditionState = DAMAGED
    
    ; REALLYDAMAGED*****************************************************
    ConditionState  = REALLYDAMAGED
      Model         = ZBODerrick_FE
      Animation     = ZBODerrick_FE.ZBODerrick_FE
      AnimationMode = LOOP
    End
    
    ; RUBBLE ***********************************************************
    ConditionState  = RUBBLE
      Model         = None
    End
  End
 ; *** AUDIO Parameters ***
  VoiceSelect           = FireBaseSelect

  SoundOnDamaged        = BuildingDamagedStateLight
  SoundOnReallyDamaged  = BuildingDestroy

  
  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:TechArtilleryPlatform
  EditorSorting       = STRUCTURE
  VisionRange         = 360.0
  ShroudClearingRange = 360
  WeaponSet
    Conditions        = None 
    Weapon            = PRIMARY ArtilleryPlatformGun
  End
  ArmorSet
    Conditions        = None
    Armor             = StructureArmor
    DamageFX          = StructureDamageFXNoShake
  End
  CommandSet = StopOnlyGenericCommandSet

  ; *** ENGINEERING Parameters ***  
  KindOf = PRELOAD STRUCTURE SELECTABLE IMMOBILE CAPTURABLE TECH_BUILDING CONSERVATIVE_BUILDING CAN_ATTACK TECH_BASE_DEFENSE 
  Body              = ActiveBody ModuleTag_03
    MaxHealth       = 2000.0
    InitialHealth   = 2000.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 2200
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
  End
  Behavior                = FlammableUpdate ModuleTag_05
    FlameDamageLimit      = 20    ; Catch fire if I take this much fire damage...
    FlameDamageExpiration = 2000  ; in a span of this long
    AflameDuration        = 5000  ; If I catch fire, I'll burn for this long...
    AflameDamageAmount    = 25    ; taking this much damage...
    AflameDamageDelay     = 500   ; this often.
  End
  Behavior = AIUpdateInterface ModuleTag_06
    Turret
      TurretTurnRate        = 180   ;turn rate, in degrees per sec
      TurretPitchRate       = 180
      AllowsPitch           = Yes
      NaturalTurretPitch    = 45   
      GroundUnitPitch       = 20 ;40
      MinPhysicalPitch      = -20
      ControlledWeaponSlots = PRIMARY SECONDARY TERTIARY
      MinIdleScanInterval   = 250    ; in milliseconds
      MaxIdleScanInterval   = 250    ; in milliseconds
      MinIdleScanAngle      = 0       ; in degrees off the natural turret angle
      MaxIdleScanAngle      = 360     ; in degrees off the natural turret angle
    End
    AutoAcquireEnemiesWhenIdle = Yes ;ATTACK_BUILDINGS; defensive weapon
    MoodAttackCheckRate        = 250
  End

  Behavior             = FXListDie ModuleTag_07
    DeathFX            = WeaponFX_BombTruckDefaultBombDetonation
  End
  Behavior = BaseRegenerateUpdate ModuleTag_11
  End 
  Behavior = TransitionDamageFX ModuleTag_08
    ;-------------DESIGNED FOR MEDIUM SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
  End
  Behavior = TechBuildingBehavior ModuleTag_09
  End
  Behavior = FXListDie ModuleTag_10
    DeathFX = FX_BuildingDie
  End
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End

  Behavior = ProductionUpdate ModuleTag_12
  End
  Geometry              = BOX
  GeometryMajorRadius   = 23.0
  GeometryMinorRadius   = 21.0
  GeometryHeight        = 30.0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME


End

;------------------------------------------------------------------------------
Object TechReinforcementPad

  ; *** ART Parameters ***
  SelectPortrait         = LandingPad_L
  ButtonImage            = LandingPad
  Draw                 = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes   
    ConditionState       = NONE
      Model              = ZBLndBay
      ;ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ZBLndBay.ZBLndBay
      AnimationMode      = LOOP
    End
    
    ConditionState       = DAMAGED
      Model              = ZBLndBay_D
      ;ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ZBLndBay_D.ZBLndBay_D
      AnimationMode      = LOOP
    End
   
    ConditionState     = REALLYDAMAGED
      Model              = ZBLndBay_E
      ;ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ZBLndBay_E.ZBLndBay_E
      AnimationMode      = LOOP
    End
    
    ConditionState     = RUBBLE
      Model              = ZBLndBay_R
    End
    AliasConditionState = RUBBLE NIGHT
    
    ;----------- NIGHT
    
    ConditionState       = NIGHT
      Model              = ZBLndBay_N
      ;ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ZBLndBay_N.ZBLndBay_N
      AnimationMode      = LOOP
    End
    
    ConditionState       = DAMAGED NIGHT
      Model              = ZBLndBay_DN
      ;ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ZBLndBay_DN.ZBLndBay_DN
      AnimationMode      = LOOP
    End
   
    ConditionState     = REALLYDAMAGED NIGHT
      Model              = ZBLndBay_EN
      ;ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ZBLndBay_EN.ZBLndBay_EN
      AnimationMode      = LOOP
    End
    
    ;----------- SNOW
    
    ConditionState       = SNOW
      Model              = ZBLndBay_S
      ;ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ZBLndBay_S.ZBLndBay_S
      AnimationMode      = LOOP
    End
    
    ConditionState       = DAMAGED SNOW
      Model              = ZBLndBay_DS
      ;ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ZBLndBay_DS.ZBLndBay_DS

      AnimationMode      = LOOP
    End
   
    ConditionState     = REALLYDAMAGED SNOW
      Model              = ZBLndBay_ES
      ;ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ZBLndBay_ES.ZBLndBay_ES
      AnimationMode      = LOOP
    End
    
    ConditionState     = RUBBLE SNOW
      Model              = ZBLndBay_RS
    End
    AliasConditionState = RUBBLE NIGHT SNOW
    
    ;---------- SNOW NIGHT
    
    ConditionState       = NIGHT SNOW
      Model              = ZBLndBay_NS
      ;ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ZBLndBay_NS.ZBLndBay_NS
      AnimationMode      = LOOP
    End
    
    ConditionState       = DAMAGED NIGHT SNOW
      Model              = ZBLndBay_DSN
      ;ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ZBLndBay_DSN.ZBLndBay_DSN
      AnimationMode      = LOOP
    End
   
    ConditionState     = REALLYDAMAGED NIGHT SNOW
      Model              = ZBLndBay_ESN
      ;ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ZBLndBay_ESN.ZBLndBay_ESN
      AnimationMode      = LOOP
    End
  End  
    ; ========================= Flag Model ===============================
  Draw = W3DModelDraw ModuleTag_02
    OkToChangeModelColor = Yes
    
    ; DEFAULT & DAMAGED ************************************************
    ConditionState  = NONE
      Model         = ZBLndBay_F
      Animation     = ZBLndBay_F.ZBLndBay_F
      AnimationMode = LOOP
    End
    AliasConditionState = DAMAGED
    
    ; REALLYDAMAGED*****************************************************
    ConditionState  = REALLYDAMAGED
      Model         = ZBLndBay_FE
      Animation     = ZBLndBay_FE.ZBLndBay_FE
      AnimationMode = LOOP
    End
    
    ; RUBBLE ***********************************************************
    ConditionState  = RUBBLE
      Model         = None
    End
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:TechReinforcementPad
  EditorSorting       = STRUCTURE
  Prerequisites
  End
  EnergyProduction = 0
  ShroudClearingRange = 200
  ArmorSet
    Conditions        = None
    Armor             = StructureArmor
    DamageFX          = StructureDamageFXNoShake
  End
  ExperienceValue     = 200 200 200 200  ; Experience point value at each level
  ; *** AUDIO Parameters ***
  VoiceSelect = TechReinforcementPadSelect

  UnitSpecificSounds
    UnderConstruction     = UnderConstructionLoop
  End

  ; *** ENGINEERING Parameters ***  
  KindOf = STRUCTURE SELECTABLE IMMOBILE CAPTURABLE TECH_BUILDING CONSERVATIVE_BUILDING AUTO_RALLYPOINT
  RadarPriority = STRUCTURE
  
  Body                = ActiveBody ModuleTag_04
    MaxHealth         = 2000.0
    InitialHealth     = 2000.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 2200
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
  End

  Behavior       = OCLUpdate ModuleTag_05 ; Context window is a reaction to this, no CommandSet 
    MinDelay     = 120000
    MaxDelay     = 120000
    CreateAtEdge = Yes ; as opposed to just creating on self

    FactionTriggered = Yes ; This requires a controlling player before it works
    FactionOCL   = Faction:America                   OCL:OCL_ReinforcementPadUSAVehicle
    FactionOCL   = Faction:AmericaSuperWeaponGeneral OCL:OCL_SWGen_ReinforcementPadUSAVehicle
    FactionOCL   = Faction:AmericaLaserGeneral       OCL:OCL_LGen_ReinforcementPadUSAVehicle
    FactionOCL   = Faction:AmericaAirForceGeneral    OCL:OCL_AFGen_ReinforcementPadUSAVehicle

    FactionOCL   = Faction:China                     OCL:OCL_ReinforcementPadCHIVehicle
    FactionOCL   = Faction:ChinaTankGeneral          OCL:OCL_TnkGen_ReinforcementPadCHIVehicle
    FactionOCL   = Faction:ChinaInfantryGeneral      OCL:OCL_InfGen_ReinforcementPadCHIVehicle
    FactionOCL   = Faction:ChinaNukeGeneral          OCL:OCL_NukeGen_ReinforcementPadCHIVehicle

    FactionOCL   = Faction:GLA                       OCL:OCL_ReinforcementPadGLAVehicle
    FactionOCL   = Faction:GLAToxinGeneral           OCL:OCL_ToxGen_ReinforcementPadGLAVehicle
    FactionOCL   = Faction:GLADemolitionGeneral      OCL:OCL_DemoGen_ReinforcementPadGLAVehicle
    FactionOCL   = Faction:GLAStealthGeneral         OCL:OCL_StlthGen_ReinforcementPadGLAVehicle

    FactionOCL   = Faction:Boss                      OCL:OCL_ReinforcementPadBossVehicle
  End

  ; **FIX** -- DestroyDie module conflicts with KeepObjectDie
  ;Behavior = DestroyDie ModuleTag_06
  ;End
  
  Behavior            = DefaultProductionExitUpdate ModuleTag_07
    NaturalRallyPoint = X: 0.0  Y:-60.0  Z:0.0 ;NaturalRallyPointX must always match GeometryMajorRadius! -ML
    UseSpawnRallyPoint = Yes
  End

  Behavior = FXListDie ModuleTag_08
    DeathFX = FX_BuildingDie
  End

  Behavior             = FlammableUpdate ModuleTag_09
    AflameDuration     = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 5       ; taking this much damage...
    AflameDamageDelay  = 500       ; this often.
  End

  Behavior = FXListDie ModuleTag_10
    DeathFX = FX_StructureMediumDeath
  End

  Behavior = TechBuildingBehavior ModuleTag_12
  End

  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End

  Behavior = TransitionDamageFX ModuleTag_31
    ;-------------DESIGNED FOR SMALL SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
  End

  Geometry            = BOX
  GeometryMajorRadius = 35.0
  GeometryMinorRadius = 52.0
  GeometryHeight      = 15.0
  GeometryIsSmall     = No
  Shadow              = SHADOW_VOLUME

End

;------------------------------------------------------------------------------
Object TechRepairPad

  ; *** ART Parameters ***
  SelectPortrait         = SADropZone_L
  ButtonImage            = SADropZone
  Draw                 = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes   
    ConditionState       = NONE
      Model              = ABSupDrop
      ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ABSupDrop.ABSupDrop
      AnimationMode      = LOOP
    End
    
    ConditionState       = DAMAGED
      Model              = ABSupDrop_D
      ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ABSupDrop_D.ABSupDrop_D
      AnimationMode      = LOOP
    End
   
    ConditionState     = REALLYDAMAGED RUBBLE
      Model              = ABSupDrop_E
      ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ABSupDrop_E.ABSupDrop_E
      AnimationMode      = LOOP
    End
    
    ConditionState       = NIGHT
      Model              = ABSupDrop_N
      ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ABSupDrop_N.ABSupDrop_N
      AnimationMode      = LOOP
    End
    
    ConditionState       = DAMAGED NIGHT
      Model              = ABSupDrop_DN
      ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ABSupDrop_DN.ABSupDrop_DN
      AnimationMode      = LOOP
    End
   
    ConditionState     = REALLYDAMAGED RUBBLE NIGHT
      Model              = ABSupDrop_EN
      ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ABSupDrop_EN.ABSupDrop_EN
      AnimationMode      = LOOP
    End
    
    ;----------- SNOW
    
    ConditionState       = SNOW
      Model              = ABSupDrop_S
      ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ABSupDrop_S.ABSupDrop_S
      AnimationMode      = LOOP
    End
    
    ConditionState       = DAMAGED SNOW
      Model              = ABSupDrop_DS
      ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ABSupDrop_DS.ABSupDrop_DS

      AnimationMode      = LOOP
    End
   
    ConditionState     = REALLYDAMAGED RUBBLE SNOW
      Model              = ABSupDrop_ES
      ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ABSupDrop_ES.ABSupDrop_ES
      AnimationMode      = LOOP
    End
    
    ;---------- SNOW NIGHT
    
    ConditionState       = NIGHT SNOW
      Model              = ABSupDrop_NS
      ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ABSupDrop_NS.ABSupDrop_NS
      AnimationMode      = LOOP
    End
    
    ConditionState       = DAMAGED NIGHT SNOW
      Model              = ABSupDrop_DNS
      ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ABSupDrop_DNS.ABSupDrop_DNS
      AnimationMode      = LOOP
    End
   
    ConditionState     = REALLYDAMAGED RUBBLE NIGHT SNOW
      Model              = ABSupDrop_ENS
      ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ABSupDrop_ENS.ABSupDrop_ENS
      AnimationMode      = LOOP
    End
  End  
    ; ========================= Flag Model ===============================
  Draw = W3DModelDraw ModuleTag_02
    OkToChangeModelColor = Yes
    
    ; DEFAULT & DAMAGED ************************************************
    ConditionState  = NONE
      Model         = ZBODerrick_F
      Animation     = ZBODerrick_F.ZBODerrick_F
      AnimationMode = LOOP
    End
    AliasConditionState = DAMAGED
    
    ; REALLYDAMAGED*****************************************************
    ConditionState  = REALLYDAMAGED
      Model         = ZBODerrick_FE
      Animation     = ZBODerrick_FE.ZBODerrick_FE
      AnimationMode = LOOP
    End
    
    ; RUBBLE ***********************************************************
    ConditionState  = RUBBLE
      Model         = None
    End
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:TechRepairPad
  EditorSorting       = STRUCTURE
  Prerequisites
  End
  EnergyProduction = 0
  ShroudClearingRange = 200
  ArmorSet
    Conditions        = None
    Armor             = StructureArmor
    DamageFX          = StructureDamageFXNoShake
  End
  ExperienceValue     = 200 200 200 200  ; Experience point value at each level
 ;**FIX**?
 ;CommandSet          = TechReinforcementPadCommandSet
  ; *** AUDIO Parameters ***
  VoiceSelect = SupplyDropZoneSelect

  UnitSpecificSounds
    UnderConstruction     = UnderConstructionLoop
  End

  ; *** ENGINEERING Parameters ***  
  KindOf              = STRUCTURE SELECTABLE IMMOBILE CAPTURABLE TECH_BUILDING CONSERVATIVE_BUILDING NO_COLLIDE REPAIR_PAD
  RadarPriority       = STRUCTURE
  
  Body                = ActiveBody ModuleTag_04
    MaxHealth         = 1000.0
    InitialHealth     = 1000.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 1200
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
  End
  Behavior = RepairDockUpdate ModuleTag_05
    TimeForFullHeal   = 5000   ;(in milliseconds)   
    AllowsPassthrough = Yes 
    NumberApproachPositions = 5
  End

  Behavior  = DestroyDie ModuleTag_06
  End
  Behavior                  = CreateObjectDie ModuleTag_08
    CreationList       = OCL_LargeStructureDebris
  End

  Behavior             = FlammableUpdate ModuleTag_09
    AflameDuration     = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 5       ; taking this much damage...
    AflameDamageDelay  = 500       ; this often.
  End
  Behavior                  = FXListDie ModuleTag_10
    DeathFX            = FX_StructureMediumDeath
  End
  Behavior = TechBuildingBehavior ModuleTag_12
  End
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End
  Behavior = TransitionDamageFX ModuleTag_31
    ;-------------DESIGNED FOR SMALL SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
  End
  Geometry            = BOX
  GeometryMajorRadius = 27.0
  GeometryMinorRadius = 27.0
  GeometryHeight      = 9.0
  GeometryIsSmall     = No
  Shadow              = SHADOW_VOLUME

End
;------------------------------------------------------------------------------
Object TechRepairbay

  ; *** ART Parameters ***
  SelectPortrait         = RepairBay_L
  ButtonImage            = RepairBay

  Draw                 = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes   
    ConditionState       = NONE
      Model              = ZBRprBay
      ;ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ZBRprBay.ZBRprBay
      AnimationMode      = LOOP
    End
    
    ConditionState       = DAMAGED
      Model              = ZBRprBay_D
      ;ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ZBRprBay_D.ZBRprBay_D
      AnimationMode      = LOOP
    End
   
    ConditionState     = REALLYDAMAGED
      Model              = ZBRprBay_E
      ;ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ZBRprBay_E.ZBRprBay_E
      AnimationMode      = LOOP
    End

    ConditionState     = RUBBLE
      Model              = ZBRprBay_R
    End
    AliasConditionState = RUBBLE NIGHT
    
    ConditionState       = NIGHT
      Model              = ZBRprBay_N
      ;ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ZBRprBay_N.ZBRprBay_N
      AnimationMode      = LOOP
    End
    
    ConditionState       = DAMAGED NIGHT
      Model              = ZBRprBay_DN
      ;ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ZBRprBay_D.ZBRprBay_D
      AnimationMode      = LOOP
    End
   
    ConditionState     = REALLYDAMAGED NIGHT
      Model              = ZBRprBay_EN
      ;ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ZBRprBay_E.ZBRprBay_E
      AnimationMode      = LOOP
    End
    
    ;----------- SNOW
    
    ConditionState       = SNOW
      Model              = ZBRprBay_S
      ;ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ZBRprBay_S.ZBRprBay_S
      AnimationMode      = LOOP
    End
    
    ConditionState       = DAMAGED SNOW
      Model              = ZBRprBay_DS
      ;ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ZBRprBay_DS.ZBRprBay_DS

      AnimationMode      = LOOP
    End
   
    ConditionState     = REALLYDAMAGED SNOW
      Model              = ZBRprBay_ES
      ;ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ZBRprBay_ES.ZBRprBay_ES
      AnimationMode      = LOOP
    End

    ConditionState     = RUBBLE SNOW
      Model              = ZBRprBay_RS
    End
    AliasConditionState = RUBBLE NIGHT SNOW
    
    ;---------- SNOW NIGHT
    
    ConditionState       = NIGHT SNOW
      Model              = ZBRprBay_N
      ;ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ZBRprBay_N.ZBRprBay_N
      AnimationMode      = LOOP
    End
    
    ConditionState       = DAMAGED NIGHT SNOW
      Model              = ZBRprBay_DSN
      ;ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ZBRprBay_DSN.ZBRprBay_DSN
      AnimationMode      = LOOP
    End
   
    ConditionState     = REALLYDAMAGED NIGHT SNOW
      Model              = ZBRprBay_ESN
      ;ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ZBRprBay_ESN.ZBRprBay_ESN
      AnimationMode      = LOOP
    End

  End  
    ; ========================= Flag Model ===============================
  Draw = W3DModelDraw ModuleTag_02
    OkToChangeModelColor = Yes
    
    ; DEFAULT & DAMAGED ************************************************
    ConditionState  = NONE
      Model         = ZBRprBay_F
      Animation     = ZBRprBay_F.ZBRprBay_F
      AnimationMode = LOOP
    End
    AliasConditionState = DAMAGED
    
    ; REALLYDAMAGED*****************************************************
    ConditionState  = REALLYDAMAGED
      Model         = ZBRprBay_FE
      Animation     = ZBRprBay_FE.ZBRprBay_FE
      AnimationMode = LOOP
    End
    
    ; RUBBLE ***********************************************************
    ConditionState  = RUBBLE
      Model         = None
    End
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:TechRepairBay
  EditorSorting       = STRUCTURE

  EnergyProduction = 0
  ShroudClearingRange = 200

  ArmorSet
    Conditions        = None
    Armor             = StructureArmor
    DamageFX          = StructureDamageFXNoShake
  End

  ExperienceValue     = 200 200 200 200  ; Experience point value at each level
  CommandSet          = TechRepairBayCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = TechRepairPadSelect

  UnitSpecificSounds
    UnderConstruction     = UnderConstructionLoop
  End

  ; *** ENGINEERING Parameters ***  
  KindOf        = STRUCTURE SELECTABLE IMMOBILE CAPTURABLE TECH_BUILDING CONSERVATIVE_BUILDING AUTO_RALLYPOINT REPAIR_PAD
  RadarPriority = STRUCTURE
  
  Body                = ActiveBody ModuleTag_04
    MaxHealth         = 2000.0
    InitialHealth     = 2000.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 2200
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
  End
 
  Behavior = FXListDie ModuleTag_08
    DeathFX = FX_BuildingDie
  End

  Behavior             = FlammableUpdate ModuleTag_09
    AflameDuration     = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 5       ; taking this much damage...
    AflameDamageDelay  = 500       ; this often.
  End

  Behavior                  = FXListDie ModuleTag_10
    DeathFX            = FX_StructureMediumDeath
  End

  Behavior = TechBuildingBehavior ModuleTag_12
  End

  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End
  
  Behavior = RepairDockUpdate ModuleTag_13
    TimeForFullHeal   = 5000   ;(in milliseconds)     
    NumberApproachPositions = -1 ;5
  End

  Behavior = ProductionUpdate ModuleTag_14
    ; nothing
  End

  Behavior = DefaultProductionExitUpdate ModuleTag_15
    UnitCreatePoint    = X: -20.0  Y: 0.0   Z: 0.0
    NaturalRallyPoint  = X: 60.0  Y: 0.0   Z: 0.0
  End

  Behavior = AutoHealBehavior ModuleTag_AutoHeal01
    HealingAmount      = 2
    HealingDelay       = 1000 ; msec
    AffectsWholePlayer = Yes
    StartsActive       = Yes
    KindOf             = VEHICLE
    ForbiddenKindOf    = AIRCRAFT
  End

  Behavior = TransitionDamageFX ModuleTag_31
    ;-------------DESIGNED FOR SMALL SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
  End

  Geometry            = BOX
  GeometryMajorRadius = 60.0
  GeometryMinorRadius = 30.0
  GeometryHeight      = 9.0
  GeometryIsSmall     = No
  Shadow              = SHADOW_VOLUME

End


; additions                                                           ;nproject
;------------------------------------------------------------------------------
Object TechSecretLab

  ; *** ART Parameters ***
  Draw = W3DModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    ; day
    ConditionState = NONE
      Model         = CBSECRTLAB
    End
    ConditionState = DAMAGED
      Model         = CBSECRTLAB_D
    End
    ConditionState = REALLYDAMAGED
      Model         = CBSECRTLAB_E
    End
    ConditionState = RUBBLE
      Model         = CBSECRTLAB_R
    End
    
    ; night
    ConditionState = NIGHT
      Model         = CBSECRTLAB_N
    End
    ConditionState = DAMAGED NIGHT
      Model         = CBSECRTLAB_DN
    End
    ConditionState = REALLYDAMAGED NIGHT
      Model         = CBSECRTLAB_EN
    End
    ConditionState = RUBBLE NIGHT
      Model         = CBSECRTLAB_RN
    End
    
    ; Snow
    ConditionState = SNOW
      Model         = CBSECRTLAB_S
    End
    ConditionState = DAMAGED SNOW
      Model         = CBSECRTLAB_DS
    End
    ConditionState = REALLYDAMAGED SNOW
      Model         = CBSECRTLAB_ES
    End
    ConditionState = RUBBLE SNOW
      Model         = CBSECRTLAB_RS
    End
    
    ; night snow
    ConditionState = SNOW NIGHT
      Model         = CBSECRTLAB_SN
    End
    ConditionState = DAMAGED SNOW NIGHT
      Model         = CBSECRTLAB_DSN
    End
    ConditionState = REALLYDAMAGED SNOW NIGHT
      Model         = CBSECRTLAB_ESN
    End
    ConditionState = RUBBLE SNOW NIGHT
      Model         = CBSECRTLAB_RSN
    End

  End
  
  ; *** AUDIO Parameters ***
  SoundOnDamaged        = BuildingDamagedStateLight
  SoundOnReallyDamaged  = BuildingDestroy

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:SecretLab
  EditorSorting   = STRUCTURE

  ; *** ENGINEERING Parameters ***  
  KindOf            = STRUCTURE SELECTABLE IMMOBILE CAPTURABLE TECH_BUILDING CONSERVATIVE_BUILDING
  Body              = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
    InitialHealth   = 2000.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 2200
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
  End
  ArmorSet
    Conditions      = None
    Armor           = StructureArmor
    DamageFX        = StructureDamageFXNoShake
  End

  Behavior = FlammableUpdate ModuleTag_05
    FlameDamageLimit = 20         ;Catch fire if I take this much fire damage...
    FlameDamageExpiration = 2000  ;in a span of this long
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 25       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End
  
  Behavior = TransitionDamageFX ModuleTag_06
    ;-------------DESIGNED FOR MEDIUM SIZED CIVILIAN BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1          = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionMediumExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionMediumShockwave
    ;--------------------------------------------------------------------------------------
    RubbleParticleSystem1              = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    RubbleParticleSystem2              = Bone:None RandomBone:No PSys:StructureTransitionMediumExplosion
    RubbleParticleSystem3              = Bone:None RandomBone:No PSys:StructureTransitionMediumShockwave
    RubbleParticleSystem4              = Bone:None RandomBone:No PSys:StructureTransitionMediumFlare 
  End

  Behavior = FXListDie ModuleTag_07
    DeathFX = FX_BuildingDie
  End

  Geometry              = BOX
  GeometryMajorRadius   = 41.0
  GeometryMinorRadius   = 44.0
  GeometryHeight        = 75.0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME

End

;------------------------------------------------------------------------------
Object TechRadioStation

  ; *** ART Parameters ***
  SelectPortrait         = SSTechRadioStation_L
  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes
    ; DAY ********************************************
    ConditionState     = NONE
      Model            = ZBRadioStn
      Animation        = ZBRadioStn.ZBRadioStn
      AnimationMode    = LOOP
    End
    ; DAMAGED ********************************************
    ConditionState     = DAMAGED
      Model            = ZBRadioStn_D
      Animation        = ZBRadioStn_D.ZBRadioStn_D
      AnimationMode    = LOOP
      ParticleSysBone  = Smoke01 SmolderingSmoke
      ParticleSysBone  = Smoke02 SmolderingSmoke
      ParticleSysBone  = Fire01 SmolderingFire
    End
    ; REALLYDAMAGED ****************************************
    ConditionState     = REALLYDAMAGED
      Model            = ZBRadioStn_E
      Animation        = ZBRadioStn_E.ZBRadioStn_E
      AnimationMode    = LOOP
      ParticleSysBone  = Smoke01 SmolderingSmoke
      ParticleSysBone  = Smoke02 SmokeFactionLarge
      ParticleSysBone  = Fire01 SmolderingFire
      ParticleSysBone  = Fire02 FireFactionLarge
    End
    ; RUBBLE *********************************************    
    ConditionState     = RUBBLE
      Model            = ZBRadioStn_R
    End

    ; NIGHT ********************************************
    ConditionState     = NIGHT
      Model            = ZBRadioStn_N
      Animation        = ZBRadioStn_N.ZBRadioStn_N
      AnimationMode    = LOOP
    End
    ; NIGHT DAMAGED ********************************************
    ConditionState     = NIGHT DAMAGED
      Model            = ZBRadioStn_DN
      Animation        = ZBRadioStn_DN.ZBRadioStn_DN
      AnimationMode    = LOOP
      ParticleSysBone  = Smoke01 SmolderingSmoke
      ParticleSysBone  = Smoke02 SmolderingSmoke
      ParticleSysBone  = Fire01 SmolderingFire
    End
    ; NIGHT REALLYDAMAGED ********************************************
    ConditionState     = NIGHT REALLYDAMAGED 
      Model            = ZBRadioStn_EN
      Animation        = ZBRadioStn_EN.ZBRadioStn_EN
      AnimationMode    = LOOP
      ParticleSysBone  = Smoke01 SmolderingSmoke
      ParticleSysBone  = Smoke02 SmokeFactionLarge
      ParticleSysBone  = Fire01 SmolderingFire
      ParticleSysBone  = Fire02 FireFactionLarge
    End
    ; NIGHT RUBBLE ****************************************
    ConditionState     = NIGHT RUBBLE
      Model            = ZBRadioStn_R
    End

    ; SNOW ********************************************
    ConditionState     = SNOW
      Model            = ZBRadioStn_S
      Animation        = ZBRadioStn_S.ZBRadioStn_S
      AnimationMode    = LOOP
    End
    ; SNOW DAMAGED ********************************************
    ConditionState     = SNOW DAMAGED
      Model            = ZBRadioStn_DS
      Animation        = ZBRadioStn_DS.ZBRadioStn_DS
      AnimationMode    = LOOP
      ParticleSysBone  = Smoke01 SmolderingSmoke
      ParticleSysBone  = Smoke02 SmolderingSmoke
      ParticleSysBone  = Fire01 SmolderingFire
    End
    ; SNOW REALLYDAMAGED ********************************************
    ConditionState     = SNOW REALLYDAMAGED
      Model            = ZBRadioStn_ES
      Animation        = ZBRadioStn_ES.ZBRadioStn_ES
      AnimationMode    = LOOP
      ParticleSysBone  = Smoke01 SmolderingSmoke
      ParticleSysBone  = Smoke02 SmokeFactionLarge
      ParticleSysBone  = Fire01 SmolderingFire
      ParticleSysBone  = Fire02 FireFactionLarge
    End
    ; SNOW RUBBLE ****************************************
    ConditionState     = SNOW RUBBLE
      Model            = ZBRadioStn_RS
    End

    ; NIGHT SNOW ********************************************
    ConditionState     = NIGHT SNOW
      Model            = ZBRadioStn_NS
      Animation        = ZBRadioStn_NS.ZBRadioStn_NS
      AnimationMode    = LOOP
    End
    ; NIGHT SNOW DAMAGED ********************************************
    ConditionState     = NIGHT SNOW DAMAGED
      Model            = ZBRadioStn_DNS
      Animation        = ZBRadioStn_DNS.ZBRadioStn_DNS
      AnimationMode    = LOOP
      ParticleSysBone  = Smoke01 SmolderingSmoke
      ParticleSysBone  = Smoke02 SmolderingSmoke
      ParticleSysBone  = Fire01 SmolderingFire
    End
    ; NIGHT SNOW REALLYDAMAGED ********************************************
    ConditionState     = NIGHT SNOW REALLYDAMAGED
      Model            = ZBRadioStn_ENS
      Animation        = ZBRadioStn_ENS.ZBRadioStn_ENS
      AnimationMode    = LOOP
      ParticleSysBone  = Smoke01 SmolderingSmoke
      ParticleSysBone  = Smoke02 SmokeFactionLarge
      ParticleSysBone  = Fire01 SmolderingFire
      ParticleSysBone  = Fire02 FireFactionLarge
    End
    ; NIGHT SNOW RUBBLE ****************************************
    ConditionState     = NIGHT SNOW RUBBLE
      Model            = ZBRadioStn_RS
    End
    
  End

  ; ========================= Flag Model ===============================
  Draw = W3DModelDraw ModuleTag_02
    OkToChangeModelColor = Yes
    
    ; DEFAULT & DAMAGED ************************************************
    ConditionState  = NONE
      Model         = ZBRadioStn_F
      Animation     = ZBRadioStn_F.ZBRadioStn_F
      AnimationMode = LOOP
    End
    AliasConditionState = DAMAGED
    
    ; REALLYDAMAGED *****************************************************
    ConditionState  = REALLYDAMAGED
      Model         = ZBRadioStn_FE
      Animation     = ZBRadioStn_FE.ZBRadioStn_FE
      AnimationMode = LOOP
    End
    
    ; RUBBLE ***********************************************************
    ConditionState  = RUBBLE
      Model         = None
    End

  End
  ; *** AUDIO Parameters ***
  SoundOnDamaged        = BuildingDamagedStateLight
  SoundOnReallyDamaged  = BuildingDestroy

  
  ; ***DESIGN parameters ***
  DisplayName          = OBJECT:TechRadioStation
  EditorSorting        = STRUCTURE
  VisionRange          = 800  
  ShroudClearingRange  = 900
  ArmorSet
    Conditions = None
    Armor      = StructureArmor
    DamageFX   = StructureDamageFXNoShake
  End

  ; *** ENGINEERING Parameters ***  
  KindOf               = STRUCTURE SELECTABLE IMMOBILE CAPTURABLE TECH_BUILDING CONSERVATIVE_BUILDING
  Body                 = ActiveBody ModuleTag_03
    MaxHealth          = 2000.0
    InitialHealth      = 2000.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 2200
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
  End
  
  Behavior = RadarUpgrade ModuleTag_Radar01
    TriggeredBy = Upgrade_ChinaRadar
  End
  Behavior = GrantUpgradeCreate ModuleTag_Radar02
    UpgradeToGrant = Upgrade_ChinaRadar
  End

  Behavior = StealthDetectorUpdate ModuleTag_05
    DetectionRate             = 600   ; how often to rescan for stealthed things in my sight (msec)
    DetectionRange            = 150   ; Dustin, enable this for independant balancing!
    CanDetectWhileGarrisoned  = No    ; Garrisoned means being in a structure that you units can shoot out of.
    CanDetectWhileContained   = No    ; Contained means being in a transport or tunnel network.
  End

  Behavior                = FlammableUpdate ModuleTag_07
    FlameDamageLimit      = 20    ; Catch fire if I take this much fire damage...
    FlameDamageExpiration = 2000  ; in a span of this long
    AflameDuration        = 5000  ; If I catch fire, I'll burn for this long...
    AflameDamageAmount    = 25    ; taking this much damage...
    AflameDamageDelay     = 500   ; this often.
  End

  ;Behavior        = PropagandaTowerBehavior ModuleTag_08
  ;  Radius                = 150.0
  ;  DelayBetweenUpdates   = 2000 ; in milliseconds
  ;  HealPercentEachSecond = 2%   ; get this % of max health every second 
  ;  PulseFX               = FX_TechRadioStationOwnedPulse ;plays as often as DelayBetweenUpdates
  ;  UpgradeRequired       = Upgrade_ChinaSubliminalMessaging
  ;  UpgradedHealPercentEachSecond = 4%   ; get this % of max health every second 
  ;  UpgradedPulseFX       = FX_TechRadioStationOwnedPulse ;plays as often as DelayBetweenUpdates
  ;End

  Behavior = TransitionDamageFX ModuleTag_09
    ;-------------DESIGNED FOR MEDIUM SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionMediumExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionMediumShockwave
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End

  Behavior = TechBuildingBehavior ModuleTag_10
    PulseFX     = FX_TechRadioStationOwnedPulse
    PulseFXRate = 2000
  End

  Behavior = FXListDie ModuleTag_11
    DeathFX = FX_BuildingDie
  End



  Geometry             = BOX
  GeometryMajorRadius  = 32.0
  GeometryMinorRadius  = 34.0
  GeometryHeight       = 25.0
  GeometryIsSmall      = No
  Shadow               = SHADOW_VOLUME

End

;TECH CAVE! WOOHOO!!
; -----------------------------------------------------------------------------
Object TechCaveOpening

  ; *** ART Parameters ***
  SelectPortrait         = SSTechCave_L

  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes

    ConditionState       = NONE
      Model              = ZBCave
    End
    ConditionState       = DAMAGED
      Model              = ZBCave_D
      ParticleSysBone    = Smoke01 SmolderingSmoke
    End
    ConditionState       = REALLYDAMAGED
      Model              = ZBCave_E
      ParticleSysBone    = Smoke01 SmolderingSmoke
      ParticleSysBone    = Fire01 SmolderingFire
    End
    ConditionState       = RUBBLE
      Model              = ZBCave_R
    End

    ConditionState       = SNOW
      Model              = ZBCave_S
    End
    ConditionState       = DAMAGED SNOW
      Model              = ZBCave_DS
      ParticleSysBone    = Smoke01 SmolderingSmoke
    End
    ConditionState       = REALLYDAMAGED SNOW
      Model              = ZBCave_ES
      ParticleSysBone    = Smoke01 SmolderingSmoke
      ParticleSysBone    = Fire01 SmolderingFire
    End
    ConditionState       = RUBBLE SNOW
      Model              = ZBCave_RS
    End

  End

  ; ***DESIGN parameters ***
  DisplayName            = OBJECT:TechCave
  EditorSorting          = STRUCTURE
  VisionRange            = 200.0
  ShroudClearingRange    = 300.0
  ArmorSet
    Conditions           = None
    Armor                = StructureArmor
    DamageFX             = StructureDamageFXNoShake
  End
  CommandSet = TechCaveCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect            = TunnelNetworkSelect
  SoundOnDamaged         = BuildingDamagedStateLight
  SoundOnReallyDamaged   = BuildingDestroy
  SoundEnter             = GarrisonEnter
  SoundExit              = GarrisonExit

  ; *** ENGINEERING Parameters ***
  RadarPriority     = STRUCTURE
  KindOf            = STRUCTURE SELECTABLE IMMOBILE CONSERVATIVE_BUILDING AUTO_RALLYPOINT ;PRELOAD TECH_BUILDING CAPTURABLE

  Body              = StructureBody ModuleTag_02
    MaxHealth       = 5000.0
    InitialHealth   = 5000.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 5200
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
  End

  Behavior            = CaveContain ModuleTag_03

    ; This is an index where all caves with this number are connected.  You can change
    ; it with a script, or you can instance a second object and set it to 1.  Please use sequential integers
    ; to keep it fast.
    CaveIndex = 0

    ;***The CaveContain module seems ignore these command lines, commented out
    ;AllowInsideKindOf = INFANTRY
    ;ForbidInsideKindOf = VEHICLE

  End

  ;Behavior = DefaultProductionExitUpdate ModuleTag_04
  ;  UnitCreatePoint   = X:  5.0  Y: 0.0  Z:0.0
  ;  NaturalRallyPoint = X: 35.0  Y: 0.0  Z:0.0
  ;End

  ;Behavior             = DestroyDie ModuleTag_05
  ;  ;nothing
  ;End

  Behavior             = CreateObjectDie ModuleTag_06
    CreationList  = OCL_ABTunnelNetworkDebris
  End
  Behavior             = FXListDie ModuleTag_07
    DeathFX       = FX_StructureSmallDeath ;FX_ABTunnelNetworkExplode   ;it's not Generals Beta anymore!
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End

  ;Behavior = TechBuildingBehavior ModuleTag_08
  ;  ;<NO DATA>
  ;End

  Behavior = FlammableUpdate ModuleTag_09
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 5       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = TransitionDamageFX ModuleTag_10
    ;-------------DESIGNED FOR SMALL SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
  End

  Geometry            = CYLINDER
  GeometryMajorRadius = 32.0
  GeometryHeight      = 15.0 ;5.0    
  GeometryIsSmall     = No
  Shadow              = SHADOW_VOLUME

End

















